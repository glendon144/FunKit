{
  "id": 45,
  "title": "build_and_benchmark",
  "body": "#!/bin/bash\n\n# Set paths\nFULL_SPEC=\"funkit-full.spec\"\nFULL_EXEC=\"dist/funkit-full\"\nLITE_EXEC=\"dist/funkit-lite\"\n\necho \"\ud83d\udee0\ufe0f  Building full version with: $FULL_SPEC\"\ntime pyinstaller \"$FULL_SPEC\"\n\necho \"\"\necho \"\ud83d\udce6 Size of full binary:\"\ndu -sh \"$FULL_EXEC\"\n\necho \"\"\necho \"\u26a1 Launch timing for full binary:\"\nSTART_TIME=$(date +%s.%N)\n\"$FULL_EXEC\" --version >/dev/null 2>&1 &\nPID=$!\nsleep 2\nkill \"$PID\" >/dev/null 2>&1\nEND_TIME=$(date +%s.%N)\nLAUNCH_TIME=$(echo \"$END_TIME - $START_TIME\" | bc)\nprintf \"\u23f1\ufe0f  Full version launch time: %.2f seconds\\n\" \"$LAUNCH_TIME\"\n\n# Optional comparison with funkit-lite\nif [ -f \"$LITE_EXEC\" ]; then\n  echo \"\"\n  echo \"\ud83d\udce6 Size of lite binary:\"\n  du -sh \"$LITE_EXEC\"\n\n  echo \"\"\n  echo \"\u26a1 Launch timing for lite binary:\"\n  START_TIME_LITE=$(date +%s.%N)\n  \"$LITE_EXEC\" --version >/dev/null 2>&1 &\n  PID=$!\n  sleep 2\n  kill \"$PID\" >/dev/null 2>&1\n  END_TIME_LITE=$(date +%s.%N)\n  LAUNCH_TIME_LITE=$(echo \"$END_TIME_LITE - $START_TIME_LITE\" | bc)\n  printf \"\u23f1\ufe0f  Lite version launch time: %.2f seconds\\n\" \"$LAUNCH_TIME_LITE\"\nfi\n\necho \"\"\necho \"\u2705 Done. Binary is located in dist/funkit-full\"\n\n"
}