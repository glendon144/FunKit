{
  "id": 51,
  "title": "buildlog",
  "body": "Script started on 2025-08-13 19:39:18-07:00 [TERM=\"xterm-256color\" TTY=\"/dev/pts/2\" COLUMNS=\"132\" LINES=\"40\"]\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ ./build\u0007_\u0007all_variants.sh\n\u001b[?2004l\nPython: /usr/bin/python3\nPyInstaller: 6.15.0\n/home/gross/.local/bin/pyinstaller\n133 INFO: PyInstaller: 6.15.0, contrib hooks: 2025.8\n134 INFO: Python: 3.12.3\n135 INFO: Platform: Linux-6.8.0-71-generic-x86_64-with-glibc2.39\n135 INFO: Python environment: /usr\n136 INFO: wrote /home/gross/FunKit/funkit.spec\n136 DEBUG: Testing UPX availability ...\n138 DEBUG: UPX is not available.\n139 INFO: Removing temporary files and cleaning cache in /home/gross/.cache/pyinstaller\n160 DEBUG: script: /home/gross/FunKit/main.py\n160 INFO: Module search paths (PYTHONPATH):\n['/home/gross/FunKit',\n '/usr/lib/python312.zip',\n '/usr/lib/python3.12',\n '/usr/lib/python3.12/lib-dynload',\n '/home/gross/.local/lib/python3.12/site-packages',\n '/usr/local/lib/python3.12/dist-packages',\n '/usr/lib/python3/dist-packages',\n '/home/gross/FunKit']\n577 DEBUG: discover_hook_directories: Hook directories: [('/home/gross/.local/lib/python3.12/site-packages/numpy/_pyinstaller', 0), ('/usr/lib/python3/dist-packages/yt_dlp/__pyinstaller', 0), ('/home/gross/.local/lib/python3.12/site-packages/_pyinstaller_hooks_contrib/stdhooks', -1000), ('/home/gross/.local/lib/python3.12/site-packages/_pyinstaller_hooks_contrib', -1000)]\n941 INFO: checking Analysis\n941 INFO: Building Analysis because Analysis-00.toc is non existent\n941 INFO: Running Analysis Analysis-00.toc\n942 INFO: Target bytecode optimization level: 0\n942 DEBUG: Excluding module 'torch'\n942 DEBUG: Excluding module 'torchvision'\n942 DEBUG: Excluding module 'torchaudio'\n942 DEBUG: Excluding module 'tensorflow'\n942 DEBUG: Excluding module 'onnx'\n942 DEBUG: Excluding module 'onnxruntime'\n942 DEBUG: Excluding module 'numba'\n942 DEBUG: Excluding module 'llvmlite'\n942 DEBUG: Excluding module 'cv2'\n942 DEBUG: Excluding module 'moviepy'\n942 DEBUG: Excluding module 'matplotlib'\n942 DEBUG: Excluding module 'pandas'\n942 DEBUG: Excluding module 'pyarrow'\n942 INFO: Initializing module dependency graph...\n943 INFO: Initializing module graph hook caches...\n957 INFO: Analyzing modules for base_library.zip ...\n958 DEBUG: Collecting submodules for encodings\n101 DEBUG: collect_submodules - scanning (sub)package encodings\n101 DEBUG: collect_submodules - scanning (sub)package encodings in location(s): ['/usr/lib/python3.12/encodings']\n1185 DEBUG: collect_submodules - found submodules: ['encodings', 'encodings.aliases', 'encodings.ascii', 'encodings.base64_codec', 'encodings.big5', 'encodings.big5hkscs', 'encodings.bz2_codec', 'encodings.charmap', 'encodings.cp037', 'encodings.cp1006', 'encodings.cp1026', 'encodings.cp1125', 'encodings.cp1140', 'encodings.cp1250', 'encodings.cp1251', 'encodings.cp1252', 'encodings.cp1253', 'encodings.cp1254', 'encodings.cp1255', 'encodings.cp1256', 'encodings.cp1257', 'encodings.cp1258', 'encodings.cp273', 'encodings.cp424', 'encodings.cp437', 'encodings.cp500', 'encodings.cp720', 'encodings.cp737', 'encodings.cp775', 'encodings.cp850', 'encodings.cp852', 'encodings.cp855', 'encodings.cp856', 'encodings.cp857', 'encodings.cp858', 'encodings.cp860', 'encodings.cp861', 'encodings.cp862', 'encodings.cp863', 'encodings.cp864', 'encodings.cp865', 'encodings.cp866', 'encodings.cp869', 'encodings.cp874', 'encodings.cp875', 'encodings.cp932', 'encodings.cp949', 'encodings.cp950', 'encodings.euc_jis_2004', 'encodings.euc_jisx0213', 'encodings.euc_jp', 'encodings.euc_kr', 'encodings.gb18030', 'encodings.gb2312', 'encodings.gbk', 'encodings.hex_codec', 'encodings.hp_roman8', 'encodings.hz', 'encodings.idna', 'encodings.iso2022_jp', 'encodings.iso2022_jp_1', 'encodings.iso2022_jp_2', 'encodings.iso2022_jp_2004', 'encodings.iso2022_jp_3', 'encodings.iso2022_jp_ext', 'encodings.iso2022_kr', 'encodings.iso8859_1', 'encodings.iso8859_10', 'encodings.iso8859_11', 'encodings.iso8859_13', 'encodings.iso8859_14', 'encodings.iso8859_15', 'encodings.iso8859_16', 'encodings.iso8859_2', 'encodings.iso8859_3', 'encodings.iso8859_4', 'encodings.iso8859_5', 'encodings.iso8859_6', 'encodings.iso8859_7', 'encodings.iso8859_8', 'encodings.iso8859_9', 'encodings.johab', 'encodings.koi8_r', 'encodings.koi8_t', 'encodings.koi8_u', 'encodings.kz1048', 'encodings.latin_1', 'encodings.mac_arabic', 'encodings.mac_croatian', 'encodings.mac_cyrillic', 'encodings.mac_farsi', 'encodings.mac_greek', 'encodings.mac_iceland', 'encodings.mac_latin2', 'encodings.mac_roman', 'encodings.mac_romanian', 'encodings.mac_turkish', 'encodings.mbcs', 'encodings.oem', 'encodings.palmos', 'encodings.ptcp154', 'encodings.punycode', 'encodings.quopri_codec', 'encodings.raw_unicode_escape', 'encodings.rot_13', 'encodings.shift_jis', 'encodings.shift_jis_2004', 'encodings.shift_jisx0213', 'encodings.tis_620', 'encodings.undefined', 'encodings.unicode_escape', 'encodings.utf_16', 'encodings.utf_16_be', 'encodings.utf_16_le', 'encodings.utf_32', 'encodings.utf_32_be', 'encodings.utf_32_le', 'encodings.utf_7', 'encodings.utf_8', 'encodings.utf_8_sig', 'encodings.uu_codec', 'encodings.zlib_codec']\n1185 DEBUG: Collecting submodules for re\n100 DEBUG: collect_submodules - scanning (sub)package re\n100 DEBUG: collect_submodules - scanning (sub)package re in location(s): ['/usr/lib/python3.12/re']\n1411 DEBUG: collect_submodules - found submodules: ['re', 're._casefix', 're._compiler', 're._constants', 're._parser']\n1411 DEBUG: Collecting submodules for collections\n101 DEBUG: collect_submodules - scanning (sub)package collections\n101 DEBUG: collect_submodules - scanning (sub)package collections in location(s): ['/usr/lib/python3.12/collections']\n1634 DEBUG: collect_submodules - found submodules: ['collections', 'collections.abc']\n1836 INFO: Processing standard module hook 'hook-heapq.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n1836 DEBUG: Suppressing import of 'doctest' from module 'heapq' due to excluded import 'doctest' specified in a hook for 'heapq' (or its parent package(s)).\n1943 INFO: Processing standard module hook 'hook-encodings.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n1943 DEBUG: Collecting submodules for encodings\n100 DEBUG: collect_submodules - scanning (sub)package encodings\n100 DEBUG: collect_submodules - scanning (sub)package encodings in location(s): ['/usr/lib/python3.12/encodings']\n2171 DEBUG: collect_submodules - found submodules: ['encodings', 'encodings.aliases', 'encodings.ascii', 'encodings.base64_codec', 'encodings.big5', 'encodings.big5hkscs', 'encodings.bz2_codec', 'encodings.charmap', 'encodings.cp037', 'encodings.cp1006', 'encodings.cp1026', 'encodings.cp1125', 'encodings.cp1140', 'encodings.cp1250', 'encodings.cp1251', 'encodings.cp1252', 'encodings.cp1253', 'encodings.cp1254', 'encodings.cp1255', 'encodings.cp1256', 'encodings.cp1257', 'encodings.cp1258', 'encodings.cp273', 'encodings.cp424', 'encodings.cp437', 'encodings.cp500', 'encodings.cp720', 'encodings.cp737', 'encodings.cp775', 'encodings.cp850', 'encodings.cp852', 'encodings.cp855', 'encodings.cp856', 'encodings.cp857', 'encodings.cp858', 'encodings.cp860', 'encodings.cp861', 'encodings.cp862', 'encodings.cp863', 'encodings.cp864', 'encodings.cp865', 'encodings.cp866', 'encodings.cp869', 'encodings.cp874', 'encodings.cp875', 'encodings.cp932', 'encodings.cp949', 'encodings.cp950', 'encodings.euc_jis_2004', 'encodings.euc_jisx0213', 'encodings.euc_jp', 'encodings.euc_kr', 'encodings.gb18030', 'encodings.gb2312', 'encodings.gbk', 'encodings.hex_codec', 'encodings.hp_roman8', 'encodings.hz', 'encodings.idna', 'encodings.iso2022_jp', 'encodings.iso2022_jp_1', 'encodings.iso2022_jp_2', 'encodings.iso2022_jp_2004', 'encodings.iso2022_jp_3', 'encodings.iso2022_jp_ext', 'encodings.iso2022_kr', 'encodings.iso8859_1', 'encodings.iso8859_10', 'encodings.iso8859_11', 'encodings.iso8859_13', 'encodings.iso8859_14', 'encodings.iso8859_15', 'encodings.iso8859_16', 'encodings.iso8859_2', 'encodings.iso8859_3', 'encodings.iso8859_4', 'encodings.iso8859_5', 'encodings.iso8859_6', 'encodings.iso8859_7', 'encodings.iso8859_8', 'encodings.iso8859_9', 'encodings.johab', 'encodings.koi8_r', 'encodings.koi8_t', 'encodings.koi8_u', 'encodings.kz1048', 'encodings.latin_1', 'encodings.mac_arabic', 'encodings.mac_croatian', 'encodings.mac_cyrillic', 'encodings.mac_farsi', 'encodings.mac_greek', 'encodings.mac_iceland', 'encodings.mac_latin2', 'encodings.mac_roman', 'encodings.mac_romanian', 'encodings.mac_turkish', 'encodings.mbcs', 'encodings.oem', 'encodings.palmos', 'encodings.ptcp154', 'encodings.punycode', 'encodings.quopri_codec', 'encodings.raw_unicode_escape', 'encodings.rot_13', 'encodings.shift_jis', 'encodings.shift_jis_2004', 'encodings.shift_jisx0213', 'encodings.tis_620', 'encodings.undefined', 'encodings.unicode_escape', 'encodings.utf_16', 'encodings.utf_16_be', 'encodings.utf_16_le', 'encodings.utf_32', 'encodings.utf_32_be', 'encodings.utf_32_le', 'encodings.utf_7', 'encodings.utf_8', 'encodings.utf_8_sig', 'encodings.uu_codec', 'encodings.zlib_codec']\n3989 INFO: Processing standard module hook 'hook-pickle.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n3996 DEBUG: Suppressing import of 'doctest' from module 'pickle' due to excluded import 'doctest' specified in a hook for 'pickle' (or its parent package(s)).\n3996 DEBUG: Suppressing import of 'argparse' from module 'pickle' due to excluded import 'argparse' specified in a hook for 'pickle' (or its parent package(s)).\n5815 INFO: Caching module dependency graph...\n5864 INFO: Looking for Python shared library...\n5883 INFO: Using Python shared library: /lib/x86_64-linux-gnu/libpython3.12.so\n5883 INFO: Analyzing /home/gross/FunKit/main.py\n5887 INFO: Processing standard module hook 'hook-sqlite3.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n5887 DEBUG: Collecting submodules for sqlite3\n100 DEBUG: collect_submodules - scanning (sub)package sqlite3\n101 DEBUG: collect_submodules - scanning (sub)package sqlite3 in location(s): ['/usr/lib/python3.12/sqlite3']\n6145 DEBUG: collect_submodules - found submodules: ['sqlite3', 'sqlite3.__main__', 'sqlite3.dbapi2', 'sqlite3.dump']\n6240 INFO: Processing pre-safe-import-module hook 'hook-typing_extensions.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks/pre_safe_import_module'\n6241 INFO: SetuptoolsInfo: initializing cached setuptools info...\n226 DEBUG: Collecting submodules for setuptools._distutils\n226 DEBUG: collect_submodules - scanning (sub)package setuptools._distutils\n226 DEBUG: collect_submodules - scanning (sub)package setuptools._distutils in location(s): ['/usr/lib/python3/dist-packages/setuptools/_distutils']\n227 DEBUG: collect_submodules - scanning (sub)package setuptools._distutils.command\n227 DEBUG: collect_submodules - scanning (sub)package setuptools._distutils.command in location(s): ['/usr/lib/python3/dist-packages/setuptools/_distutils/command']\n228 DEBUG: collect_submodules - found submodules: ['setuptools._distutils', 'setuptools._distutils._collections', 'setuptools._distutils._functools', 'setuptools._distutils._log', 'setuptools._distutils._macos_compat', 'setuptools._distutils._msvccompiler', 'setuptools._distutils.archive_util', 'setuptools._distutils.bcppcompiler', 'setuptools._distutils.ccompiler', 'setuptools._distutils.cmd', 'setuptools._distutils.command', 'setuptools._distutils.command._framework_compat', 'setuptools._distutils.command.bdist', 'setuptools._distutils.command.bdist_dumb', 'setuptools._distutils.command.bdist_rpm', 'setuptools._distutils.command.build', 'setuptools._distutils.command.build_clib', 'setuptools._distutils.command.build_ext', 'setuptools._distutils.command.build_py', 'setuptools._distutils.command.build_scripts', 'setuptools._distutils.command.check', 'setuptools._distutils.command.clean', 'setuptools._distutils.command.config', 'setuptools._distutils.command.install', 'setuptools._distutils.command.install_data', 'setuptools._distutils.command.install_egg_info', 'setuptools._distutils.command.install_headers', 'setuptools._distutils.command.install_lib', 'setuptools._distutils.command.install_scripts', 'setuptools._distutils.command.py37compat', 'setuptools._distutils.command.register', 'setuptools._distutils.command.sdist', 'setuptools._distutils.command.upload', 'setuptools._distutils.config', 'setuptools._distutils.core', 'setuptools._distutils.cygwinccompiler', 'setuptools._distutils.debug', 'setuptools._distutils.dep_util', 'setuptools._distutils.dir_util', 'setuptools._distutils.dist', 'setuptools._distutils.errors', 'setuptools._distutils.extension', 'setuptools._distutils.fancy_getopt', 'setuptools._distutils.file_util', 'setuptools._distutils.filelist', 'setuptools._distutils.log', 'setuptools._distutils.msvc9compiler', 'setuptools._distutils.msvccompiler', 'setuptools._distutils.py38compat', 'setuptools._distutils.py39compat', 'setuptools._distutils.spawn', 'setuptools._distutils.sysconfig', 'setuptools._distutils.text_file', 'setuptools._distutils.unixccompiler', 'setuptools._distutils.util', 'setuptools._distutils.version', 'setuptools._distutils.versionpredicate']\n228 DEBUG: Collecting submodules for setuptools._vendor\n228 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor\n228 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor in location(s): ['/usr/lib/python3/dist-packages/setuptools/_vendor']\n229 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor.tomli\n234 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor.tomli in location(s): ['/usr/lib/python3/dist-packages/setuptools/_vendor/tomli']\n234 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor.packaging\n234 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor.packaging in location(s): ['/usr/lib/python3/dist-packages/setuptools/_vendor/packaging']\n235 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor.more_itertools\n235 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor.more_itertools in location(s): ['/usr/lib/python3/dist-packages/setuptools/_vendor/more_itertools']\n235 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor.jaraco\n235 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor.jaraco in location(s): ['/usr/lib/python3/dist-packages/setuptools/_vendor/jaraco']\n235 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor.jaraco.text\n236 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor.jaraco.text in location(s): ['/usr/lib/python3/dist-packages/setuptools/_vendor/jaraco/text']\n236 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor.importlib_resources\n241 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor.importlib_resources in location(s): ['/usr/lib/python3/dist-packages/setuptools/_vendor/importlib_resources']\n242 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor.importlib_metadata\n250 DEBUG: collect_submodules - scanning (sub)package setuptools._vendor.importlib_metadata in location(s): ['/usr/lib/python3/dist-packages/setuptools/_vendor/importlib_metadata']\n250 DEBUG: collect_submodules - found submodules: ['setuptools._vendor', 'setuptools._vendor.importlib_metadata', 'setuptools._vendor.importlib_metadata._adapters', 'setuptools._vendor.importlib_metadata._collections', 'setuptools._vendor.importlib_metadata._compat', 'setuptools._vendor.importlib_metadata._functools', 'setuptools._vendor.importlib_metadata._itertools', 'setuptools._vendor.importlib_metadata._meta', 'setuptools._vendor.importlib_metadata._py39compat', 'setuptools._vendor.importlib_metadata._text', 'setuptools._vendor.importlib_resources', 'setuptools._vendor.importlib_resources._adapters', 'setuptools._vendor.importlib_resources._common', 'setuptools._vendor.importlib_resources._compat', 'setuptools._vendor.importlib_resources._itertools', 'setuptools._vendor.importlib_resources._legacy', 'setuptools._vendor.importlib_resources.abc', 'setuptools._vendor.importlib_resources.readers', 'setuptools._vendor.importlib_resources.simple', 'setuptools._vendor.jaraco', 'setuptools._vendor.jaraco.context', 'setuptools._vendor.jaraco.functools', 'setuptools._vendor.jaraco.text', 'setuptools._vendor.more_itertools', 'setuptools._vendor.more_itertools.more', 'setuptools._vendor.more_itertools.recipes', 'setuptools._vendor.ordered_set', 'setuptools._vendor.packaging', 'setuptools._vendor.packaging._elffile', 'setuptools._vendor.packaging._manylinux', 'setuptools._vendor.packaging._musllinux', 'setuptools._vendor.packaging._parser', 'setuptools._vendor.packaging._structures', 'setuptools._vendor.packaging._tokenizer', 'setuptools._vendor.packaging.markers', 'setuptools._vendor.packaging.metadata', 'setuptools._vendor.packaging.requirements', 'setuptools._vendor.packaging.specifiers', 'setuptools._vendor.packaging.tags', 'setuptools._vendor.packaging.utils', 'setuptools._vendor.packaging.version', 'setuptools._vendor.tomli', 'setuptools._vendor.tomli._parser', 'setuptools._vendor.tomli._re', 'setuptools._vendor.tomli._types', 'setuptools._vendor.typing_extensions', 'setuptools._vendor.zipp']\n250 DEBUG: Collecting submodules for setuptools._vendor.jaraco\n251 DEBUG: collect_submodules - setuptools._vendor.jaraco is not a package.\n6885 INFO: Processing standard module hook 'hook-multiprocessing.util.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n6886 DEBUG: Suppressing import of 'test' from module 'multiprocessing.util' due to excluded import 'test' specified in a hook for 'multiprocessing.util' (or its parent package(s)).\n7059 INFO: Processing standard module hook 'hook-xml.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n7339 INFO: Processing standard module hook 'hook-_ctypes.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n7759 INFO: Processing standard module hook 'hook-platform.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n7761 DEBUG: Suppressing import of 'plistlib' from module 'platform' due to excluded import 'plistlib' specified in a hook for 'platform' (or its parent package(s)).\n7973 INFO: Processing pre-safe-import-module hook 'hook-importlib_metadata.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks/pre_safe_import_module'\n8002 INFO: Processing standard module hook 'hook-importlib_metadata.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n8003 INFO: Processing pre-safe-import-module hook 'hook-zipp.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks/pre_safe_import_module'\n8013 INFO: Processing pre-safe-import-module hook 'hook-more_itertools.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks/pre_safe_import_module'\n9655 INFO: Processing standard module hook 'hook-urllib3.py' from '/home/gross/.local/lib/python3.12/site-packages/_pyinstaller_hooks_contrib/stdhooks'\n10784 INFO: Processing standard module hook 'hook-cryptography.py' from '/home/gross/.local/lib/python3.12/site-packages/_pyinstaller_hooks_contrib/stdhooks'\n10785 DEBUG: Collecting submodules for cryptography.hazmat.backends\n100 DEBUG: collect_submodules - scanning (sub)package cryptography.hazmat.backends\n100 DEBUG: collect_submodules - scanning (sub)package cryptography.hazmat.backends in location(s): ['/usr/lib/python3/dist-packages/cryptography/hazmat/backends']\n101 DEBUG: collect_submodules - scanning (sub)package cryptography.hazmat.backends.openssl\n142 DEBUG: collect_submodules - scanning (sub)package cryptography.hazmat.backends.openssl in location(s): ['/usr/lib/python3/dist-packages/cryptography/hazmat/backends/openssl']\n11123 DEBUG: collect_submodules - found submodules: ['cryptography.hazmat.backends', 'cryptography.hazmat.backends.openssl', 'cryptography.hazmat.backends.openssl.aead', 'cryptography.hazmat.backends.openssl.backend', 'cryptography.hazmat.backends.openssl.ciphers', 'cryptography.hazmat.backends.openssl.cmac', 'cryptography.hazmat.backends.openssl.decode_asn1', 'cryptography.hazmat.backends.openssl.ec', 'cryptography.hazmat.backends.openssl.rsa', 'cryptography.hazmat.backends.openssl.utils']\n11123 DEBUG: Collecting submodules for cryptography.hazmat.bindings.openssl\n100 DEBUG: collect_submodules - scanning (sub)package cryptography.hazmat.bindings.openssl\n101 DEBUG: collect_submodules - scanning (sub)package cryptography.hazmat.bindings.openssl in location(s): ['/usr/lib/python3/dist-packages/cryptography/hazmat/bindings/openssl']\n11386 DEBUG: collect_submodules - found submodules: ['cryptography.hazmat.bindings.openssl', 'cryptography.hazmat.bindings.openssl._conditional', 'cryptography.hazmat.bindings.openssl.binding']\n11523 INFO: hook-cryptography: cryptography uses dynamically-linked OpenSSL: '/lib/x86_64-linux-gnu/libssl.so.3'\n11523 DEBUG: hook-cryptography: collecting OpenSSL modules directory: '/lib/x86_64-linux-gnu/ossl-modules'\n11975 INFO: Processing standard module hook 'hook-bcrypt.py' from '/home/gross/.local/lib/python3.12/site-packages/_pyinstaller_hooks_contrib/stdhooks'\n12113 INFO: Processing standard module hook 'hook-certifi.py' from '/home/gross/.local/lib/python3.12/site-packages/_pyinstaller_hooks_contrib/stdhooks'\n12113 DEBUG: Collecting data files for certifi\n12116 DEBUG: collect_data_files - Found files: [('/usr/lib/python3/dist-packages/certifi/py.typed', 'certifi'), ('/usr/lib/python3/dist-packages/certifi/cacert.pem', 'certifi')]\n12422 INFO: Processing standard module hook 'hook-sysconfig.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n12422 DEBUG: Suppressing import of '_osx_support' from module 'sysconfig' due to excluded import '_osx_support' specified in a hook for 'sysconfig' (or its parent package(s)).\n12429 DEBUG: Suppressing import of '_osx_support' from module 'sysconfig' due to excluded import '_osx_support' specified in a hook for 'sysconfig' (or its parent package(s)).\n12590 INFO: Processing standard module hook 'hook-numpy.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n12597 DEBUG: Collecting dynamic libraries for numpy\n13415 DEBUG: Suppressing import of 'pytest' from module 'numpy._pytesttester' due to excluded import 'pytest' specified in a hook for 'numpy._pytesttester' (or its parent package(s)).\n13415 DEBUG: Suppressing import of 'numpy.distutils' from module 'numpy._pytesttester' due to excluded import 'numpy.distutils' specified in a hook for 'numpy._pytesttester' (or its parent package(s)).\n13514 INFO: Processing standard module hook 'hook-difflib.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n13515 DEBUG: Suppressing import of 'doctest' from module 'difflib' due to excluded import 'doctest' specified in a hook for 'difflib' (or its parent package(s)).\n13649 DEBUG: Suppressing import of 'numpy.distutils.misc_util' from module 'numpy.testing._private.utils' due to excluded import 'numpy.distutils' specified in a hook for 'numpy.testing._private.utils' (or its parent package(s)).\n13650 DEBUG: Suppressing import of 'pytest' from module 'numpy.testing._private.utils' due to excluded import 'pytest' specified in a hook for 'numpy.testing._private.utils' (or its parent package(s)).\n13704 INFO: Processing standard module hook 'hook-psutil.py' from '/home/gross/.local/lib/python3.12/site-packages/_pyinstaller_hooks_contrib/stdhooks'\n13825 DEBUG: Suppressing import of 'psutil._pswindows' from module 'psutil' due to excluded import 'psutil._pswindows' specified in a hook for 'psutil' (or its parent package(s)).\n13826 DEBUG: Suppressing import of 'psutil._pswindows' from module 'psutil' due to excluded import 'psutil._pswindows' specified in a hook for 'psutil' (or its parent package(s)).\n13826 DEBUG: Suppressing import of 'psutil._pswindows' from module 'psutil' due to excluded import 'psutil._pswindows' specified in a hook for 'psutil' (or its parent package(s)).\n13826 DEBUG: Suppressing import of 'psutil._pswindows' from module 'psutil' due to excluded import 'psutil._pswindows' specified in a hook for 'psutil' (or its parent package(s)).\n13826 DEBUG: Suppressing import of 'psutil._pswindows' from module 'psutil' due to excluded import 'psutil._pswindows' specified in a hook for 'psutil' (or its parent package(s)).\n13826 DEBUG: Suppressing import of 'psutil._pswindows' from module 'psutil' due to excluded import 'psutil._pswindows' specified in a hook for 'psutil' (or its parent package(s)).\n13826 DEBUG: Suppressing import of 'psutil._psosx' from module 'psutil' due to excluded import 'psutil._psosx' specified in a hook for 'psutil' (or its parent package(s)).\n13826 DEBUG: Suppressing import of 'psutil._psbsd' from module 'psutil' due to excluded import 'psutil._psbsd' specified in a hook for 'psutil' (or its parent package(s)).\n13826 DEBUG: Suppressing import of 'psutil._pssunos' from module 'psutil' due to excluded import 'psutil._pssunos' specified in a hook for 'psutil' (or its parent package(s)).\n13826 DEBUG: Suppressing import of 'psutil._pssunos' from module 'psutil' due to excluded import 'psutil._pssunos' specified in a hook for 'psutil' (or its parent package(s)).\n13826 DEBUG: Suppressing import of 'psutil._pssunos' from module 'psutil' due to excluded import 'psutil._pssunos' specified in a hook for 'psutil' (or its parent package(s)).\n13826 DEBUG: Suppressing import of 'psutil._psaix' from module 'psutil' due to excluded import 'psutil._psaix' specified in a hook for 'psutil' (or its parent package(s)).\n15180 DEBUG: Suppressing import of 'numpy.distutils.core' from module 'numpy.f2py._backends._distutils' due to excluded import 'numpy.distutils' specified in a hook for 'numpy.f2py._backends._distutils' (or its parent package(s)).\n15180 DEBUG: Suppressing import of 'numpy.distutils.system_info' from module 'numpy.f2py._backends._distutils' due to excluded import 'numpy.distutils' specified in a hook for 'numpy.f2py._backends._distutils' (or its parent package(s)).\n15180 DEBUG: Suppressing import of 'numpy.distutils.misc_util' from module 'numpy.f2py._backends._distutils' due to excluded import 'numpy.distutils' specified in a hook for 'numpy.f2py._backends._distutils' (or its parent package(s)).\n15181 DEBUG: Suppressing import of 'numpy.distutils' from module 'numpy.f2py.f2py2e' due to excluded import 'numpy.distutils' specified in a hook for 'numpy.f2py.f2py2e' (or its parent package(s)).\n15181 DEBUG: Suppressing import of 'numpy.distutils.system_info' from module 'numpy.f2py.f2py2e' due to excluded import 'numpy.distutils' specified in a hook for 'numpy.f2py.f2py2e' (or its parent package(s)).\n15196 DEBUG: Suppressing import of 'numpy.distutils' from module 'numpy.f2py.diagnose' due to excluded import 'numpy.distutils' specified in a hook for 'numpy.f2py.diagnose' (or its parent package(s)).\n15196 DEBUG: Suppressing import of 'numpy.distutils.fcompiler' from module 'numpy.f2py.diagnose' due to excluded import 'numpy.distutils' specified in a hook for 'numpy.f2py.diagnose' (or its parent package(s)).\n15197 DEBUG: Suppressing import of 'numpy.distutils.cpuinfo' from module 'numpy.f2py.diagnose' due to excluded import 'numpy.distutils' specified in a hook for 'numpy.f2py.diagnose' (or its parent package(s)).\n15241 DEBUG: Suppressing import of 'numpy.distutils' from module 'numpy' due to excluded import 'numpy.distutils' specified in a hook for 'numpy' (or its parent package(s)).\n15279 INFO: Processing standard module hook 'hook-PIL.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n15386 INFO: Processing standard module hook 'hook-PIL.Image.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n15387 DEBUG: Collecting submodules for PIL\n99 DEBUG: collect_submodules - scanning (sub)package PIL\n100 DEBUG: collect_submodules - scanning (sub)package PIL in location(s): ['/home/gross/.local/lib/python3.12/site-packages/PIL']\n15645 DEBUG: collect_submodules - found submodules: ['PIL.AvifImagePlugin', 'PIL.BlpImagePlugin', 'PIL.BmpImagePlugin', 'PIL.BufrStubImagePlugin', 'PIL.CurImagePlugin', 'PIL.DcxImagePlugin', 'PIL.DdsImagePlugin', 'PIL.EpsImagePlugin', 'PIL.FitsImagePlugin', 'PIL.FliImagePlugin', 'PIL.FpxImagePlugin', 'PIL.FtexImagePlugin', 'PIL.GbrImagePlugin', 'PIL.GifImagePlugin', 'PIL.GribStubImagePlugin', 'PIL.Hdf5StubImagePlugin', 'PIL.IcnsImagePlugin', 'PIL.IcoImagePlugin', 'PIL.ImImagePlugin', 'PIL.ImtImagePlugin', 'PIL.IptcImagePlugin', 'PIL.Jpeg2KImagePlugin', 'PIL.JpegImagePlugin', 'PIL.McIdasImagePlugin', 'PIL.MicImagePlugin', 'PIL.MpegImagePlugin', 'PIL.MpoImagePlugin', 'PIL.MspImagePlugin', 'PIL.PalmImagePlugin', 'PIL.PcdImagePlugin', 'PIL.PcxImagePlugin', 'PIL.PdfImagePlugin', 'PIL.PixarImagePlugin', 'PIL.PngImagePlugin', 'PIL.PpmImagePlugin', 'PIL.PsdImagePlugin', 'PIL.QoiImagePlugin', 'PIL.SgiImagePlugin', 'PIL.SpiderImagePlugin', 'PIL.SunImagePlugin', 'PIL.TgaImagePlugin', 'PIL.TiffImagePlugin', 'PIL.WebPImagePlugin', 'PIL.WmfImagePlugin', 'PIL.XVThumbImagePlugin', 'PIL.XbmImagePlugin', 'PIL.XpmImagePlugin']\n15801 INFO: Processing standard module hook 'hook-xml.etree.cElementTree.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n15803 DEBUG: Suppressing import of 'IPython.lib.pretty' from module 'PIL.Image' due to excluded import 'IPython' specified in a hook for 'PIL.Image' (or its parent package(s)).\n16002 INFO: Processing standard module hook 'hook-PIL.ImageFilter.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n16003 DEBUG: Suppressing import of 'numpy' from module 'PIL.ImageFilter' due to excluded import 'numpy' specified in a hook for 'PIL.ImageFilter' (or its parent package(s)).\n16017 DEBUG: Suppressing import of 'PyQt6' from module 'PIL.ImageQt' due to excluded import 'PyQt6' specified in a hook for 'PIL.ImageQt' (or its parent package(s)).\n16017 DEBUG: Suppressing import of 'PySide6' from module 'PIL.ImageQt' due to excluded import 'PySide6' specified in a hook for 'PIL.ImageQt' (or its parent package(s)).\n16017 DEBUG: Suppressing import of 'PyQt6.QtCore' from module 'PIL.ImageQt' due to excluded import 'PyQt6' specified in a hook for 'PIL.ImageQt' (or its parent package(s)).\n16017 DEBUG: Suppressing import of 'PyQt6.QtGui' from module 'PIL.ImageQt' due to excluded import 'PyQt6' specified in a hook for 'PIL.ImageQt' (or its parent package(s)).\n16017 DEBUG: Suppressing import of 'PySide6.QtCore' from module 'PIL.ImageQt' due to excluded import 'PySide6' specified in a hook for 'PIL.ImageQt' (or its parent package(s)).\n16017 DEBUG: Suppressing import of 'PySide6.QtGui' from module 'PIL.ImageQt' due to excluded import 'PySide6' specified in a hook for 'PIL.ImageQt' (or its parent package(s)).\n16249 DEBUG: Suppressing import of 'IPython.display' from module 'PIL.ImageShow' due to excluded import 'IPython' specified in a hook for 'PIL.ImageShow' (or its parent package(s)).\n16261 DEBUG: Suppressing import of 'tkinter' from module 'PIL.ImageTk' due to excluded import 'tkinter' specified in a hook for 'PIL.ImageTk' (or its parent package(s)).\n16337 INFO: Processing pre-find-module-path hook 'hook-tkinter.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks/pre_find_module_path'\n16337 INFO: TclTkInfo: initializing cached Tcl/Tk info...\n16402 WARNING: TclTkInfo: Tcl module directory '/usr/share/tcltk/tcl8' does not exist!\n16532 INFO: Processing standard module hook 'hook-_tkinter.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n16736 INFO: Analyzing hidden import 'flask'\n17696 INFO: Processing standard module hook 'hook-jinja2.py' from '/home/gross/.local/lib/python3.12/site-packages/_pyinstaller_hooks_contrib/stdhooks'\n18397 DEBUG: Hidden import 'jinja2' already found\n18398 DEBUG: Hidden import 'werkzeug' already found\n18398 DEBUG: Hidden import 'markupsafe' already found\n18398 DEBUG: Hidden import 'itsdangerous' already found\n18398 INFO: Processing module hooks (post-graph stage)...\n18404 INFO: Processing standard module hook 'hook-_tkinter.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n18794 INFO: Processing standard module hook 'hook-PIL.SpiderImagePlugin.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks'\n18879 INFO: Performing binary vs. data reclassification (328 entries)\n18892 INFO: Looking for ctypes DLLs\n18893 DEBUG: Scanning multiprocessing.sharedctypes for ctypes-based references to shared libraries\n18895 DEBUG: Scanning threadpoolctl for ctypes-based references to shared libraries\n18924 DEBUG: Scanning psutil._common for ctypes-based references to shared libraries\n18932 DEBUG: Scanning numpy._core._dtype_ctypes for ctypes-based references to shared libraries\n18934 DEBUG: Scanning numpy._core._internal for ctypes-based references to shared libraries\n18943 DEBUG: Scanning numpy.ctypeslib for ctypes-based references to shared libraries\n18946 DEBUG: Scanning colorama.win32 for ctypes-based references to shared libraries\n18948 DEBUG: Scanning click._winconsole for ctypes-based references to shared libraries\n19012 INFO: Analyzing run-time hooks ...\n19020 INFO: Including run-time hook 'pyi_rth_inspect.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks/rthooks'\n19022 INFO: Including run-time hook 'pyi_rth_pkgutil.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks/rthooks'\n19024 INFO: Including run-time hook 'pyi_rth_multiprocessing.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks/rthooks'\n19026 INFO: Including run-time hook 'pyi_rth_cryptography_openssl.py' from '/home/gross/.local/lib/python3.12/site-packages/_pyinstaller_hooks_contrib/rthooks'\n19027 INFO: Including run-time hook 'pyi_rth__tkinter.py' from '/home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks/rthooks'\n19047 DEBUG: Module collection settings: {}\n19047 DEBUG: Target optimization level 0 matches run-time optimization level 0 - using modulegraph's code-object cache.\n19057 INFO: Creating base_library.zip...\n19101 INFO: Looking for dynamic libraries\n19108 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libpython3.12.so'\n19117 DEBUG: Processing dependency, name: 'libz.so.1', resolved path: '/lib/x86_64-linux-gnu/libz.so.1'\n19117 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libz.so.1' as 'libz.so.1'.\n19117 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19117 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19117 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19117 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19117 DEBUG: Processing dependency, name: 'libexpat.so.1', resolved path: '/lib/x86_64-linux-gnu/libexpat.so.1'\n19118 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libexpat.so.1' as 'libexpat.so.1'.\n19118 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/ossl-modules/legacy.so'\n19126 DEBUG: Processing dependency, name: 'libcrypto.so.3', resolved path: '/lib/x86_64-linux-gnu/libcrypto.so.3'\n19126 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libcrypto.so.3' as 'libcrypto.so.3'.\n19127 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19127 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19127 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_contextvars.cpython-312-x86_64-linux-gnu.so'\n19140 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_decimal.cpython-312-x86_64-linux-gnu.so'\n19148 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19148 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19148 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_hashlib.cpython-312-x86_64-linux-gnu.so'\n19159 DEBUG: Processing dependency, name: 'libcrypto.so.3', resolved path: '/lib/x86_64-linux-gnu/libcrypto.so.3'\n19159 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libcrypto.so.3' due to prior processing.\n19159 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19160 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19160 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/resource.cpython-312-x86_64-linux-gnu.so'\n19168 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19168 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19168 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_lzma.cpython-312-x86_64-linux-gnu.so'\n19176 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19176 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19176 DEBUG: Processing dependency, name: 'liblzma.so.5', resolved path: '/lib/x86_64-linux-gnu/liblzma.so.5'\n19177 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/liblzma.so.5' as 'liblzma.so.5'.\n19177 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_bz2.cpython-312-x86_64-linux-gnu.so'\n19190 DEBUG: Processing dependency, name: 'libbz2.so.1.0', resolved path: '/lib/x86_64-linux-gnu/libbz2.so.1.0'\n19191 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libbz2.so.1.0' as 'libbz2.so.1.0'.\n19191 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19191 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19191 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_posixshmem.cpython-312-x86_64-linux-gnu.so'\n19199 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19199 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19199 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_multiprocessing.cpython-312-x86_64-linux-gnu.so'\n19209 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19209 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19210 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/termios.cpython-312-x86_64-linux-gnu.so'\n19219 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19219 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19219 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_ssl.cpython-312-x86_64-linux-gnu.so'\n19233 DEBUG: Processing dependency, name: 'libcrypto.so.3', resolved path: '/lib/x86_64-linux-gnu/libcrypto.so.3'\n19233 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libcrypto.so.3' due to prior processing.\n19233 DEBUG: Processing dependency, name: 'libssl.so.3', resolved path: '/lib/x86_64-linux-gnu/libssl.so.3'\n19233 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libssl.so.3' as 'libssl.so.3'.\n19233 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19233 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19233 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/mmap.cpython-312-x86_64-linux-gnu.so'\n19241 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19241 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19241 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_ctypes.cpython-312-x86_64-linux-gnu.so'\n19250 DEBUG: Processing dependency, name: 'libffi.so.8', resolved path: '/lib/x86_64-linux-gnu/libffi.so.8'\n19250 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libffi.so.8' as 'libffi.so.8'.\n19250 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19250 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19250 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_queue.cpython-312-x86_64-linux-gnu.so'\n19261 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_json.cpython-312-x86_64-linux-gnu.so'\n19269 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_asyncio.cpython-312-x86_64-linux-gnu.so'\n19278 DEBUG: Analyzing binary '/usr/lib/python3/dist-packages/markupsafe/_speedups.cpython-312-x86_64-linux-gnu.so'\n19290 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19290 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19290 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/readline.cpython-312-x86_64-linux-gnu.so'\n19300 DEBUG: Processing dependency, name: 'libreadline.so.8', resolved path: '/lib/x86_64-linux-gnu/libreadline.so.8'\n19300 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libreadline.so.8' as 'libreadline.so.8'.\n19300 DEBUG: Processing dependency, name: 'libtinfo.so.6', resolved path: '/lib/x86_64-linux-gnu/libtinfo.so.6'\n19300 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libtinfo.so.6' as 'libtinfo.so.6'.\n19300 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19300 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19300 DEBUG: Analyzing binary '/usr/lib/python3/dist-packages/cryptography/hazmat/bindings/_rust.abi3.so'\n19311 DEBUG: Processing dependency, name: 'libcrypto.so.3', resolved path: '/lib/x86_64-linux-gnu/libcrypto.so.3'\n19311 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libcrypto.so.3' due to prior processing.\n19311 DEBUG: Processing dependency, name: 'libssl.so.3', resolved path: '/lib/x86_64-linux-gnu/libssl.so.3'\n19311 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libssl.so.3' due to prior processing.\n19311 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19311 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19311 DEBUG: Processing dependency, name: 'libgcc_s.so.1', resolved path: '/lib/x86_64-linux-gnu/libgcc_s.so.1'\n19311 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libgcc_s.so.1' as 'libgcc_s.so.1'.\n19311 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/_cffi_backend.cpython-312-x86_64-linux-gnu.so'\n19324 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19324 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19324 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19324 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19324 DEBUG: Analyzing binary '/usr/lib/python3/dist-packages/bcrypt/_bcrypt.abi3.so'\n19332 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19332 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19332 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_multibytecodec.cpython-312-x86_64-linux-gnu.so'\n19342 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19342 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19342 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_codecs_jp.cpython-312-x86_64-linux-gnu.so'\n19352 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19352 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19352 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_codecs_kr.cpython-312-x86_64-linux-gnu.so'\n19366 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19366 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19366 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_codecs_iso2022.cpython-312-x86_64-linux-gnu.so'\n19374 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19374 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19374 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_codecs_cn.cpython-312-x86_64-linux-gnu.so'\n19382 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19382 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19382 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_codecs_tw.cpython-312-x86_64-linux-gnu.so'\n19393 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19393 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19393 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_codecs_hk.cpython-312-x86_64-linux-gnu.so'\n19401 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19402 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19402 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/PIL/_webp.cpython-312-x86_64-linux-gnu.so'\n19411 DEBUG: Processing dependency, name: 'libwebp-5f0275c0.so.7.1.10', resolved path: '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libwebp-5f0275c0.so.7.1.10'\n19411 DEBUG: Collecting dependency '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libwebp-5f0275c0.so.7.1.10' as 'pillow.libs/libwebp-5f0275c0.so.7.1.10'.\n19412 DEBUG: Adding symbolic link from 'pillow.libs/libwebp-5f0275c0.so.7.1.10' to top-level application directory.\n19412 DEBUG: Processing dependency, name: 'libwebpdemux-efaed568.so.2.0.16', resolved path: '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libwebpdemux-efaed568.so.2.0.16'\n19412 DEBUG: Collecting dependency '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libwebpdemux-efaed568.so.2.0.16' as 'pillow.libs/libwebpdemux-efaed568.so.2.0.16'.\n19412 DEBUG: Adding symbolic link from 'pillow.libs/libwebpdemux-efaed568.so.2.0.16' to top-level application directory.\n19412 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19412 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19412 DEBUG: Processing dependency, name: 'libsharpyuv-60a7c00b.so.0.1.1', resolved path: '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libsharpyuv-60a7c00b.so.0.1.1'\n19412 DEBUG: Collecting dependency '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libsharpyuv-60a7c00b.so.0.1.1' as 'pillow.libs/libsharpyuv-60a7c00b.so.0.1.1'.\n19412 DEBUG: Adding symbolic link from 'pillow.libs/libsharpyuv-60a7c00b.so.0.1.1' to top-level application directory.\n19412 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19413 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19413 DEBUG: Processing dependency, name: 'libwebpmux-6f2b1ad9.so.3.1.1', resolved path: '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libwebpmux-6f2b1ad9.so.3.1.1'\n19413 DEBUG: Collecting dependency '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libwebpmux-6f2b1ad9.so.3.1.1' as 'pillow.libs/libwebpmux-6f2b1ad9.so.3.1.1'.\n19414 DEBUG: Adding symbolic link from 'pillow.libs/libwebpmux-6f2b1ad9.so.3.1.1' to top-level application directory.\n19414 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19414 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19414 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/PIL/_imagingtk.cpython-312-x86_64-linux-gnu.so'\n19426 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19426 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19427 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19427 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19427 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/PIL/_avif.cpython-312-x86_64-linux-gnu.so'\n19436 DEBUG: Processing dependency, name: 'libdl.so.2', resolved path: '/lib/x86_64-linux-gnu/libdl.so.2'\n19436 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libdl.so.2' due to global exclusion rules.\n19436 DEBUG: Processing dependency, name: 'libstdc++.so.6', resolved path: '/lib/x86_64-linux-gnu/libstdc++.so.6'\n19436 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libstdc++.so.6' as 'libstdc++.so.6'.\n19436 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19436 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19436 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19436 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19436 DEBUG: Processing dependency, name: 'libavif-01e67780.so.16.3.0', resolved path: '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libavif-01e67780.so.16.3.0'\n19436 DEBUG: Collecting dependency '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libavif-01e67780.so.16.3.0' as 'pillow.libs/libavif-01e67780.so.16.3.0'.\n19436 DEBUG: Adding symbolic link from 'pillow.libs/libavif-01e67780.so.16.3.0' to top-level application directory.\n19436 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19437 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19437 DEBUG: Processing dependency, name: 'libgcc_s.so.1', resolved path: '/lib/x86_64-linux-gnu/libgcc_s.so.1'\n19437 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libgcc_s.so.1' due to prior processing.\n19437 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/PIL/_imagingcms.cpython-312-x86_64-linux-gnu.so'\n19447 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19447 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19447 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19447 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19447 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19447 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19447 DEBUG: Processing dependency, name: 'liblcms2-cc10e42f.so.2.0.17', resolved path: '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/liblcms2-cc10e42f.so.2.0.17'\n19447 DEBUG: Collecting dependency '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/liblcms2-cc10e42f.so.2.0.17' as 'pillow.libs/liblcms2-cc10e42f.so.2.0.17'.\n19448 DEBUG: Adding symbolic link from 'pillow.libs/liblcms2-cc10e42f.so.2.0.17' to top-level application directory.\n19448 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/PIL/_imagingmath.cpython-312-x86_64-linux-gnu.so'\n19460 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19460 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19460 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19460 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19460 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy/_core/_multiarray_tests.cpython-312-x86_64-linux-gnu.so'\n19468 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19468 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19468 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19468 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19468 DEBUG: Processing dependency, name: 'libgcc_s.so.1', resolved path: '/lib/x86_64-linux-gnu/libgcc_s.so.1'\n19469 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libgcc_s.so.1' due to prior processing.\n19469 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy/_core/_multiarray_umath.cpython-312-x86_64-linux-gnu.so'\n19480 DEBUG: Processing dependency, name: 'libgfortran-040039e1-0352e75f.so.5.0.0', resolved path: '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libgfortran-040039e1-0352e75f.so.5.0.0'\n19480 DEBUG: Collecting dependency '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libgfortran-040039e1-0352e75f.so.5.0.0' as 'numpy.libs/libgfortran-040039e1-0352e75f.so.5.0.0'.\n19480 DEBUG: Adding symbolic link from 'numpy.libs/libgfortran-040039e1-0352e75f.so.5.0.0' to top-level application directory.\n19480 DEBUG: Processing dependency, name: 'libstdc++.so.6', resolved path: '/lib/x86_64-linux-gnu/libstdc++.so.6'\n19480 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libstdc++.so.6' due to prior processing.\n19480 DEBUG: Processing dependency, name: 'libquadmath-96973f99-934c22de.so.0.0.0', resolved path: '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libquadmath-96973f99-934c22de.so.0.0.0'\n19480 DEBUG: Collecting dependency '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libquadmath-96973f99-934c22de.so.0.0.0' as 'numpy.libs/libquadmath-96973f99-934c22de.so.0.0.0'.\n19480 DEBUG: Adding symbolic link from 'numpy.libs/libquadmath-96973f99-934c22de.so.0.0.0' to top-level application directory.\n19480 DEBUG: Processing dependency, name: 'libz.so.1', resolved path: '/lib/x86_64-linux-gnu/libz.so.1'\n19480 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libz.so.1' due to prior processing.\n19481 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19481 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19481 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19481 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19481 DEBUG: Processing dependency, name: 'libscipy_openblas64_-6bb31eeb.so', resolved path: '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libscipy_openblas64_-6bb31eeb.so'\n19481 DEBUG: Collecting dependency '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libscipy_openblas64_-6bb31eeb.so' as 'numpy.libs/libscipy_openblas64_-6bb31eeb.so'.\n19481 DEBUG: Adding symbolic link from 'numpy.libs/libscipy_openblas64_-6bb31eeb.so' to top-level application directory.\n19481 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19481 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19481 DEBUG: Processing dependency, name: 'libgcc_s.so.1', resolved path: '/lib/x86_64-linux-gnu/libgcc_s.so.1'\n19481 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libgcc_s.so.1' due to prior processing.\n19481 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/psutil/_psutil_posix.abi3.so'\n19493 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19493 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19493 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19493 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19493 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/psutil/_psutil_linux.abi3.so'\n19502 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19502 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19502 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19502 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19502 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_curses.cpython-312-x86_64-linux-gnu.so'\n19512 DEBUG: Processing dependency, name: 'libtinfo.so.6', resolved path: '/lib/x86_64-linux-gnu/libtinfo.so.6'\n19512 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libtinfo.so.6' due to prior processing.\n19512 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19513 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19513 DEBUG: Processing dependency, name: 'libncursesw.so.6', resolved path: '/lib/x86_64-linux-gnu/libncursesw.so.6'\n19513 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libncursesw.so.6' as 'libncursesw.so.6'.\n19513 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy/linalg/_umath_linalg.cpython-312-x86_64-linux-gnu.so'\n19526 DEBUG: Processing dependency, name: 'libgfortran-040039e1-0352e75f.so.5.0.0', resolved path: '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libgfortran-040039e1-0352e75f.so.5.0.0'\n19526 DEBUG: Skipping dependency '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libgfortran-040039e1-0352e75f.so.5.0.0' due to prior processing.\n19526 DEBUG: Processing dependency, name: 'libquadmath-96973f99-934c22de.so.0.0.0', resolved path: '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libquadmath-96973f99-934c22de.so.0.0.0'\n19526 DEBUG: Skipping dependency '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libquadmath-96973f99-934c22de.so.0.0.0' due to prior processing.\n19526 DEBUG: Processing dependency, name: 'libz.so.1', resolved path: '/lib/x86_64-linux-gnu/libz.so.1'\n19526 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libz.so.1' due to prior processing.\n19526 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19526 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19526 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19526 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19526 DEBUG: Processing dependency, name: 'libscipy_openblas64_-6bb31eeb.so', resolved path: '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libscipy_openblas64_-6bb31eeb.so'\n19526 DEBUG: Skipping dependency '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libscipy_openblas64_-6bb31eeb.so' due to prior processing.\n19526 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19527 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19527 DEBUG: Processing dependency, name: 'libgcc_s.so.1', resolved path: '/lib/x86_64-linux-gnu/libgcc_s.so.1'\n19527 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libgcc_s.so.1' due to prior processing.\n19527 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy/random/mtrand.cpython-312-x86_64-linux-gnu.so'\n19535 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19535 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19535 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19535 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19535 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy/random/_sfc64.cpython-312-x86_64-linux-gnu.so'\n19546 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19546 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19546 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy/random/_philox.cpython-312-x86_64-linux-gnu.so'\n19558 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19558 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19558 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy/random/_pcg64.cpython-312-x86_64-linux-gnu.so'\n19566 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19566 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19566 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy/random/_mt19937.cpython-312-x86_64-linux-gnu.so'\n19576 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19576 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19576 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy/random/bit_generator.cpython-312-x86_64-linux-gnu.so'\n19586 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19587 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19587 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy/random/_generator.cpython-312-x86_64-linux-gnu.so'\n19600 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19600 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19600 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19600 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19600 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy/random/_bounded_integers.cpython-312-x86_64-linux-gnu.so'\n19609 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19609 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19609 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19609 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19609 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy/random/_common.cpython-312-x86_64-linux-gnu.so'\n19617 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19617 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19617 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy/fft/_pocketfft_umath.cpython-312-x86_64-linux-gnu.so'\n19631 DEBUG: Processing dependency, name: 'libstdc++.so.6', resolved path: '/lib/x86_64-linux-gnu/libstdc++.so.6'\n19631 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libstdc++.so.6' due to prior processing.\n19631 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19631 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19631 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19631 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19631 DEBUG: Processing dependency, name: 'libgcc_s.so.1', resolved path: '/lib/x86_64-linux-gnu/libgcc_s.so.1'\n19631 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libgcc_s.so.1' due to prior processing.\n19631 DEBUG: Analyzing binary '/usr/lib/python3/dist-packages/yaml/_yaml.cpython-312-x86_64-linux-gnu.so'\n19640 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19640 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19640 DEBUG: Processing dependency, name: 'libyaml-0.so.2', resolved path: '/lib/x86_64-linux-gnu/libyaml-0.so.2'\n19640 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libyaml-0.so.2' as 'libyaml-0.so.2'.\n19641 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/PIL/_imaging.cpython-312-x86_64-linux-gnu.so'\n19650 DEBUG: Processing dependency, name: 'libz.so.1', resolved path: '/lib/x86_64-linux-gnu/libz.so.1'\n19650 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libz.so.1' due to prior processing.\n19650 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19650 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19650 DEBUG: Processing dependency, name: 'libopenjp2-56811f71.so.2.5.3', resolved path: '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libopenjp2-56811f71.so.2.5.3'\n19650 DEBUG: Collecting dependency '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libopenjp2-56811f71.so.2.5.3' as 'pillow.libs/libopenjp2-56811f71.so.2.5.3'.\n19650 DEBUG: Adding symbolic link from 'pillow.libs/libopenjp2-56811f71.so.2.5.3' to top-level application directory.\n19650 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19651 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19651 DEBUG: Processing dependency, name: 'liblzma-64b7ab39.so.5.8.1', resolved path: '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/liblzma-64b7ab39.so.5.8.1'\n19651 DEBUG: Collecting dependency '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/liblzma-64b7ab39.so.5.8.1' as 'pillow.libs/liblzma-64b7ab39.so.5.8.1'.\n19651 DEBUG: Adding symbolic link from 'pillow.libs/liblzma-64b7ab39.so.5.8.1' to top-level application directory.\n19651 DEBUG: Processing dependency, name: 'libXau-154567c4.so.6.0.0', resolved path: '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libXau-154567c4.so.6.0.0'\n19651 DEBUG: Collecting dependency '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libXau-154567c4.so.6.0.0' as 'pillow.libs/libXau-154567c4.so.6.0.0'.\n19651 DEBUG: Adding symbolic link from 'pillow.libs/libXau-154567c4.so.6.0.0' to top-level application directory.\n19652 DEBUG: Processing dependency, name: 'libtiff-13a02c81.so.6.1.0', resolved path: '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libtiff-13a02c81.so.6.1.0'\n19652 DEBUG: Collecting dependency '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libtiff-13a02c81.so.6.1.0' as 'pillow.libs/libtiff-13a02c81.so.6.1.0'.\n19652 DEBUG: Adding symbolic link from 'pillow.libs/libtiff-13a02c81.so.6.1.0' to top-level application directory.\n19652 DEBUG: Processing dependency, name: 'libjpeg-8a13c6e0.so.62.4.0', resolved path: '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libjpeg-8a13c6e0.so.62.4.0'\n19652 DEBUG: Collecting dependency '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libjpeg-8a13c6e0.so.62.4.0' as 'pillow.libs/libjpeg-8a13c6e0.so.62.4.0'.\n19652 DEBUG: Adding symbolic link from 'pillow.libs/libjpeg-8a13c6e0.so.62.4.0' to top-level application directory.\n19652 DEBUG: Processing dependency, name: 'libxcb-64009ff3.so.1.1.0', resolved path: '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libxcb-64009ff3.so.1.1.0'\n19653 DEBUG: Collecting dependency '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libxcb-64009ff3.so.1.1.0' as 'pillow.libs/libxcb-64009ff3.so.1.1.0'.\n19653 DEBUG: Adding symbolic link from 'pillow.libs/libxcb-64009ff3.so.1.1.0' to top-level application directory.\n19653 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19653 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19653 DEBUG: Analyzing binary '/usr/lib/python3/dist-packages/simplejson/_speedups.cpython-312-x86_64-linux-gnu.so'\n19663 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19663 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19663 DEBUG: Analyzing binary '/usr/lib/python3/dist-packages/_brotli.cpython-312-x86_64-linux-gnu.so'\n19674 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19674 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19674 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_tkinter.cpython-312-x86_64-linux-gnu.so'\n19687 DEBUG: Processing dependency, name: 'libmd.so.0', resolved path: '/lib/x86_64-linux-gnu/libmd.so.0'\n19687 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libmd.so.0' as 'libmd.so.0'.\n19687 DEBUG: Processing dependency, name: 'libz.so.1', resolved path: '/lib/x86_64-linux-gnu/libz.so.1'\n19687 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libz.so.1' due to prior processing.\n19687 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19688 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19688 DEBUG: Processing dependency, name: 'libXss.so.1', resolved path: '/lib/x86_64-linux-gnu/libXss.so.1'\n19688 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libXss.so.1' as 'libXss.so.1'.\n19688 DEBUG: Processing dependency, name: 'libXau.so.6', resolved path: '/lib/x86_64-linux-gnu/libXau.so.6'\n19688 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libXau.so.6' as 'libXau.so.6'.\n19688 DEBUG: Processing dependency, name: 'libfontconfig.so.1', resolved path: '/lib/x86_64-linux-gnu/libfontconfig.so.1'\n19688 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libfontconfig.so.1' as 'libfontconfig.so.1'.\n19689 DEBUG: Processing dependency, name: 'libXdmcp.so.6', resolved path: '/lib/x86_64-linux-gnu/libXdmcp.so.6'\n19689 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libXdmcp.so.6' as 'libXdmcp.so.6'.\n19689 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19689 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19689 DEBUG: Processing dependency, name: 'libXft.so.2', resolved path: '/lib/x86_64-linux-gnu/libXft.so.2'\n19690 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libXft.so.2' as 'libXft.so.2'.\n19690 DEBUG: Processing dependency, name: 'libtk8.6.so', resolved path: '/lib/x86_64-linux-gnu/libtk8.6.so'\n19690 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libtk8.6.so' as 'libtk8.6.so'.\n19690 DEBUG: Processing dependency, name: 'libbz2.so.1.0', resolved path: '/lib/x86_64-linux-gnu/libbz2.so.1.0'\n19690 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbz2.so.1.0' due to prior processing.\n19690 DEBUG: Processing dependency, name: 'libfreetype.so.6', resolved path: '/lib/x86_64-linux-gnu/libfreetype.so.6'\n19690 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libfreetype.so.6' as 'libfreetype.so.6'.\n19690 DEBUG: Processing dependency, name: 'libtcl8.6.so', resolved path: '/lib/x86_64-linux-gnu/libtcl8.6.so'\n19690 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libtcl8.6.so' as 'libtcl8.6.so'.\n19690 DEBUG: Processing dependency, name: 'libBLT.2.5.so.8.6', resolved path: '/lib/libBLT.2.5.so.8.6'\n19690 DEBUG: Collecting dependency '/lib/libBLT.2.5.so.8.6' as 'libBLT.2.5.so.8.6'.\n19691 DEBUG: Processing dependency, name: 'libbrotlicommon.so.1', resolved path: '/lib/x86_64-linux-gnu/libbrotlicommon.so.1'\n19691 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libbrotlicommon.so.1' as 'libbrotlicommon.so.1'.\n19691 DEBUG: Processing dependency, name: 'libXext.so.6', resolved path: '/lib/x86_64-linux-gnu/libXext.so.6'\n19691 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libXext.so.6' as 'libXext.so.6'.\n19691 DEBUG: Processing dependency, name: 'libbrotlidec.so.1', resolved path: '/lib/x86_64-linux-gnu/libbrotlidec.so.1'\n19691 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libbrotlidec.so.1' as 'libbrotlidec.so.1'.\n19691 DEBUG: Processing dependency, name: 'libxcb.so.1', resolved path: '/lib/x86_64-linux-gnu/libxcb.so.1'\n19691 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libxcb.so.1' due to global exclusion rules.\n19691 DEBUG: Processing dependency, name: 'libXrender.so.1', resolved path: '/lib/x86_64-linux-gnu/libXrender.so.1'\n19692 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libXrender.so.1' as 'libXrender.so.1'.\n19692 DEBUG: Processing dependency, name: 'libexpat.so.1', resolved path: '/lib/x86_64-linux-gnu/libexpat.so.1'\n19692 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libexpat.so.1' due to prior processing.\n19692 DEBUG: Processing dependency, name: 'libX11.so.6', resolved path: '/lib/x86_64-linux-gnu/libX11.so.6'\n19692 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libX11.so.6' as 'libX11.so.6'.\n19692 DEBUG: Processing dependency, name: 'libpng16.so.16', resolved path: '/lib/x86_64-linux-gnu/libpng16.so.16'\n19692 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libpng16.so.16' as 'libpng16.so.16'.\n19692 DEBUG: Processing dependency, name: 'libbsd.so.0', resolved path: '/lib/x86_64-linux-gnu/libbsd.so.0'\n19692 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libbsd.so.0' as 'libbsd.so.0'.\n19693 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/yarl/_quoting_c.cpython-312-x86_64-linux-gnu.so'\n19705 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19705 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19705 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19705 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19705 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/propcache/_helpers_c.cpython-312-x86_64-linux-gnu.so'\n19716 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19716 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19716 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19716 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19716 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/multidict/_multidict.cpython-312-x86_64-linux-gnu.so'\n19727 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19727 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19727 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19727 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19728 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/aiohttp/_http_writer.cpython-312-x86_64-linux-gnu.so'\n19739 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19739 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19739 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19739 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19739 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/aiohttp/_http_parser.cpython-312-x86_64-linux-gnu.so'\n19749 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19749 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19749 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19749 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19749 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/frozenlist/_frozenlist.cpython-312-x86_64-linux-gnu.so'\n19760 DEBUG: Processing dependency, name: 'libstdc++.so.6', resolved path: '/lib/x86_64-linux-gnu/libstdc++.so.6'\n19760 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libstdc++.so.6' due to prior processing.\n19760 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19760 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19760 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19760 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19760 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19760 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19760 DEBUG: Processing dependency, name: 'libgcc_s.so.1', resolved path: '/lib/x86_64-linux-gnu/libgcc_s.so.1'\n19760 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libgcc_s.so.1' due to prior processing.\n19761 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/aiohttp/_websocket/mask.cpython-312-x86_64-linux-gnu.so'\n19771 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19772 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19772 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19772 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19772 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/aiohttp/_websocket/reader_c.cpython-312-x86_64-linux-gnu.so'\n19780 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19780 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19780 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19780 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19781 DEBUG: Analyzing binary '/usr/lib/python3.12/lib-dynload/_sqlite3.cpython-312-x86_64-linux-gnu.so'\n19791 DEBUG: Processing dependency, name: 'libsqlite3.so.0', resolved path: '/lib/x86_64-linux-gnu/libsqlite3.so.0'\n19792 DEBUG: Collecting dependency '/lib/x86_64-linux-gnu/libsqlite3.so.0' as 'libsqlite3.so.0'.\n19792 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19792 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19792 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19792 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19792 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libz.so.1'\n19802 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19802 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19802 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libexpat.so.1'\n19811 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19811 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19811 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libcrypto.so.3'\n19822 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19822 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19822 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/liblzma.so.5'\n19831 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19831 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19831 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libbz2.so.1.0'\n19842 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19842 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19842 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libssl.so.3'\n19852 DEBUG: Processing dependency, name: 'libcrypto.so.3', resolved path: '/lib/x86_64-linux-gnu/libcrypto.so.3'\n19852 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libcrypto.so.3' due to prior processing.\n19852 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19852 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19852 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libffi.so.8'\n19861 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19862 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19862 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libreadline.so.8'\n19873 DEBUG: Processing dependency, name: 'libtinfo.so.6', resolved path: '/lib/x86_64-linux-gnu/libtinfo.so.6'\n19873 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libtinfo.so.6' due to prior processing.\n19873 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19873 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19873 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libtinfo.so.6'\n19882 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19882 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19882 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libgcc_s.so.1'\n19892 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19892 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19892 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libwebp-5f0275c0.so.7.1.10'\n19903 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19903 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19903 DEBUG: Processing dependency, name: 'libsharpyuv-60a7c00b.so.0.1.1', resolved path: None\n19903 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19903 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19903 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19903 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19903 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libwebpdemux-efaed568.so.2.0.16'\n19912 DEBUG: Processing dependency, name: 'libwebp-5f0275c0.so.7.1.10', resolved path: None\n19913 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19913 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19913 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19913 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19913 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libsharpyuv-60a7c00b.so.0.1.1'\n19924 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19924 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19924 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19924 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19924 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19924 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19925 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libwebpmux-6f2b1ad9.so.3.1.1'\n19934 DEBUG: Processing dependency, name: 'libwebp-5f0275c0.so.7.1.10', resolved path: None\n19934 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19934 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19934 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19934 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19934 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19935 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19935 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libstdc++.so.6'\n19944 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19944 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19944 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19944 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19944 DEBUG: Processing dependency, name: 'libgcc_s.so.1', resolved path: '/lib/x86_64-linux-gnu/libgcc_s.so.1'\n19944 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libgcc_s.so.1' due to prior processing.\n19944 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libavif-01e67780.so.16.3.0'\n19956 DEBUG: Processing dependency, name: 'libdl.so.2', resolved path: '/lib/x86_64-linux-gnu/libdl.so.2'\n19956 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libdl.so.2' due to global exclusion rules.\n19956 DEBUG: Processing dependency, name: 'libstdc++.so.6', resolved path: '/lib/x86_64-linux-gnu/libstdc++.so.6'\n19956 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libstdc++.so.6' due to prior processing.\n19956 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19956 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19956 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19956 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19956 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19956 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19956 DEBUG: Processing dependency, name: 'libgcc_s.so.1', resolved path: '/lib/x86_64-linux-gnu/libgcc_s.so.1'\n19956 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libgcc_s.so.1' due to prior processing.\n19956 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/liblcms2-cc10e42f.so.2.0.17'\n19966 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19966 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19966 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19966 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19966 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19966 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19966 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libgfortran-040039e1-0352e75f.so.5.0.0'\n19976 DEBUG: Processing dependency, name: 'libquadmath-96973f99-934c22de.so.0.0.0', resolved path: '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libquadmath-96973f99-934c22de.so.0.0.0'\n19977 DEBUG: Skipping dependency '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libquadmath-96973f99-934c22de.so.0.0.0' due to prior processing.\n19977 DEBUG: Processing dependency, name: 'libz.so.1', resolved path: '/lib/x86_64-linux-gnu/libz.so.1'\n19977 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libz.so.1' due to prior processing.\n19977 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19977 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19977 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19977 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19977 DEBUG: Processing dependency, name: 'libgcc_s.so.1', resolved path: '/lib/x86_64-linux-gnu/libgcc_s.so.1'\n19977 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libgcc_s.so.1' due to prior processing.\n19977 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libquadmath-96973f99-934c22de.so.0.0.0'\n19988 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19988 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19988 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19988 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19989 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libscipy_openblas64_-6bb31eeb.so'\n19998 DEBUG: Processing dependency, name: 'libgfortran-040039e1-0352e75f.so.5.0.0', resolved path: '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libgfortran-040039e1-0352e75f.so.5.0.0'\n19999 DEBUG: Skipping dependency '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libgfortran-040039e1-0352e75f.so.5.0.0' due to prior processing.\n19999 DEBUG: Processing dependency, name: 'libquadmath-96973f99-934c22de.so.0.0.0', resolved path: '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libquadmath-96973f99-934c22de.so.0.0.0'\n19999 DEBUG: Skipping dependency '/home/gross/.local/lib/python3.12/site-packages/numpy.libs/libquadmath-96973f99-934c22de.so.0.0.0' due to prior processing.\n19999 DEBUG: Processing dependency, name: 'libz.so.1', resolved path: '/lib/x86_64-linux-gnu/libz.so.1'\n19999 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libz.so.1' due to prior processing.\n19999 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n19999 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n19999 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n19999 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n19999 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n19999 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n19999 DEBUG: Processing dependency, name: 'libgcc_s.so.1', resolved path: '/lib/x86_64-linux-gnu/libgcc_s.so.1'\n19999 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libgcc_s.so.1' due to prior processing.\n19999 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libncursesw.so.6'\n20009 DEBUG: Processing dependency, name: 'libtinfo.so.6', resolved path: '/lib/x86_64-linux-gnu/libtinfo.so.6'\n20009 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libtinfo.so.6' due to prior processing.\n20009 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20009 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20009 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libyaml-0.so.2'\n20019 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20019 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20019 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libopenjp2-56811f71.so.2.5.3'\n20028 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n20028 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n20028 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20028 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20028 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n20028 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n20029 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/liblzma-64b7ab39.so.5.8.1'\n20039 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20039 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20039 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n20039 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n20040 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libXau-154567c4.so.6.0.0'\n20049 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20049 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20049 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libtiff-13a02c81.so.6.1.0'\n20060 DEBUG: Processing dependency, name: 'libz.so.1', resolved path: '/lib/x86_64-linux-gnu/libz.so.1'\n20060 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libz.so.1' due to prior processing.\n20060 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n20060 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n20060 DEBUG: Processing dependency, name: 'libpthread.so.0', resolved path: '/lib/x86_64-linux-gnu/libpthread.so.0'\n20060 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpthread.so.0' due to global exclusion rules.\n20060 DEBUG: Processing dependency, name: 'libjpeg-8a13c6e0.so.62.4.0', resolved path: None\n20060 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20060 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20060 DEBUG: Processing dependency, name: 'liblzma-64b7ab39.so.5.8.1', resolved path: None\n20060 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libjpeg-8a13c6e0.so.62.4.0'\n20071 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20071 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20071 DEBUG: Analyzing binary '/home/gross/.local/lib/python3.12/site-packages/pillow.libs/libxcb-64009ff3.so.1.1.0'\n20080 DEBUG: Processing dependency, name: 'libXau-154567c4.so.6.0.0', resolved path: None\n20080 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20080 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20080 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libmd.so.0'\n20091 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20091 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20091 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libXss.so.1'\n20102 DEBUG: Processing dependency, name: 'libmd.so.0', resolved path: '/lib/x86_64-linux-gnu/libmd.so.0'\n20102 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libmd.so.0' due to prior processing.\n20102 DEBUG: Processing dependency, name: 'libXext.so.6', resolved path: '/lib/x86_64-linux-gnu/libXext.so.6'\n20102 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXext.so.6' due to prior processing.\n20102 DEBUG: Processing dependency, name: 'libXau.so.6', resolved path: '/lib/x86_64-linux-gnu/libXau.so.6'\n20102 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXau.so.6' due to prior processing.\n20102 DEBUG: Processing dependency, name: 'libbsd.so.0', resolved path: '/lib/x86_64-linux-gnu/libbsd.so.0'\n20102 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbsd.so.0' due to prior processing.\n20102 DEBUG: Processing dependency, name: 'libX11.so.6', resolved path: '/lib/x86_64-linux-gnu/libX11.so.6'\n20102 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libX11.so.6' due to prior processing.\n20102 DEBUG: Processing dependency, name: 'libXdmcp.so.6', resolved path: '/lib/x86_64-linux-gnu/libXdmcp.so.6'\n20102 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXdmcp.so.6' due to prior processing.\n20102 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20102 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20103 DEBUG: Processing dependency, name: 'libxcb.so.1', resolved path: '/lib/x86_64-linux-gnu/libxcb.so.1'\n20103 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libxcb.so.1' due to global exclusion rules.\n20103 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libXau.so.6'\n20112 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20112 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20112 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libfontconfig.so.1'\n20124 DEBUG: Processing dependency, name: 'libbz2.so.1.0', resolved path: '/lib/x86_64-linux-gnu/libbz2.so.1.0'\n20124 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbz2.so.1.0' due to prior processing.\n20124 DEBUG: Processing dependency, name: 'libz.so.1', resolved path: '/lib/x86_64-linux-gnu/libz.so.1'\n20124 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libz.so.1' due to prior processing.\n20124 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n20124 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n20124 DEBUG: Processing dependency, name: 'libfreetype.so.6', resolved path: '/lib/x86_64-linux-gnu/libfreetype.so.6'\n20124 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libfreetype.so.6' due to prior processing.\n20124 DEBUG: Processing dependency, name: 'libexpat.so.1', resolved path: '/lib/x86_64-linux-gnu/libexpat.so.1'\n20124 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libexpat.so.1' due to prior processing.\n20124 DEBUG: Processing dependency, name: 'libbrotlidec.so.1', resolved path: '/lib/x86_64-linux-gnu/libbrotlidec.so.1'\n20124 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbrotlidec.so.1' due to prior processing.\n20124 DEBUG: Processing dependency, name: 'libpng16.so.16', resolved path: '/lib/x86_64-linux-gnu/libpng16.so.16'\n20124 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpng16.so.16' due to prior processing.\n20124 DEBUG: Processing dependency, name: 'libbrotlicommon.so.1', resolved path: '/lib/x86_64-linux-gnu/libbrotlicommon.so.1'\n20125 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbrotlicommon.so.1' due to prior processing.\n20125 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20125 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20125 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libXdmcp.so.6'\n20135 DEBUG: Processing dependency, name: 'libmd.so.0', resolved path: '/lib/x86_64-linux-gnu/libmd.so.0'\n20135 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libmd.so.0' due to prior processing.\n20135 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20135 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20135 DEBUG: Processing dependency, name: 'libbsd.so.0', resolved path: '/lib/x86_64-linux-gnu/libbsd.so.0'\n20135 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbsd.so.0' due to prior processing.\n20135 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libXft.so.2'\n20145 DEBUG: Processing dependency, name: 'libbz2.so.1.0', resolved path: '/lib/x86_64-linux-gnu/libbz2.so.1.0'\n20145 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbz2.so.1.0' due to prior processing.\n20145 DEBUG: Processing dependency, name: 'libmd.so.0', resolved path: '/lib/x86_64-linux-gnu/libmd.so.0'\n20146 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libmd.so.0' due to prior processing.\n20146 DEBUG: Processing dependency, name: 'libz.so.1', resolved path: '/lib/x86_64-linux-gnu/libz.so.1'\n20146 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libz.so.1' due to prior processing.\n20146 DEBUG: Processing dependency, name: 'libXrender.so.1', resolved path: '/lib/x86_64-linux-gnu/libXrender.so.1'\n20146 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXrender.so.1' due to prior processing.\n20146 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n20146 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n20146 DEBUG: Processing dependency, name: 'libfreetype.so.6', resolved path: '/lib/x86_64-linux-gnu/libfreetype.so.6'\n20146 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libfreetype.so.6' due to prior processing.\n20146 DEBUG: Processing dependency, name: 'libXau.so.6', resolved path: '/lib/x86_64-linux-gnu/libXau.so.6'\n20146 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXau.so.6' due to prior processing.\n20146 DEBUG: Processing dependency, name: 'libexpat.so.1', resolved path: '/lib/x86_64-linux-gnu/libexpat.so.1'\n20146 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libexpat.so.1' due to prior processing.\n20146 DEBUG: Processing dependency, name: 'libX11.so.6', resolved path: '/lib/x86_64-linux-gnu/libX11.so.6'\n20146 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libX11.so.6' due to prior processing.\n20146 DEBUG: Processing dependency, name: 'libpng16.so.16', resolved path: '/lib/x86_64-linux-gnu/libpng16.so.16'\n20146 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpng16.so.16' due to prior processing.\n20146 DEBUG: Processing dependency, name: 'libbrotlidec.so.1', resolved path: '/lib/x86_64-linux-gnu/libbrotlidec.so.1'\n20147 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbrotlidec.so.1' due to prior processing.\n20147 DEBUG: Processing dependency, name: 'libbsd.so.0', resolved path: '/lib/x86_64-linux-gnu/libbsd.so.0'\n20147 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbsd.so.0' due to prior processing.\n20147 DEBUG: Processing dependency, name: 'libfontconfig.so.1', resolved path: '/lib/x86_64-linux-gnu/libfontconfig.so.1'\n20147 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libfontconfig.so.1' due to prior processing.\n20147 DEBUG: Processing dependency, name: 'libXdmcp.so.6', resolved path: '/lib/x86_64-linux-gnu/libXdmcp.so.6'\n20147 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXdmcp.so.6' due to prior processing.\n20147 DEBUG: Processing dependency, name: 'libbrotlicommon.so.1', resolved path: '/lib/x86_64-linux-gnu/libbrotlicommon.so.1'\n20147 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbrotlicommon.so.1' due to prior processing.\n20147 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20147 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20147 DEBUG: Processing dependency, name: 'libxcb.so.1', resolved path: '/lib/x86_64-linux-gnu/libxcb.so.1'\n20147 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libxcb.so.1' due to global exclusion rules.\n20147 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libtk8.6.so'\n20159 DEBUG: Processing dependency, name: 'libmd.so.0', resolved path: '/lib/x86_64-linux-gnu/libmd.so.0'\n20159 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libmd.so.0' due to prior processing.\n20159 DEBUG: Processing dependency, name: 'libz.so.1', resolved path: '/lib/x86_64-linux-gnu/libz.so.1'\n20160 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libz.so.1' due to prior processing.\n20160 DEBUG: Processing dependency, name: 'libXss.so.1', resolved path: '/lib/x86_64-linux-gnu/libXss.so.1'\n20160 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXss.so.1' due to prior processing.\n20160 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n20160 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n20160 DEBUG: Processing dependency, name: 'libXau.so.6', resolved path: '/lib/x86_64-linux-gnu/libXau.so.6'\n20160 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXau.so.6' due to prior processing.\n20160 DEBUG: Processing dependency, name: 'libfontconfig.so.1', resolved path: '/lib/x86_64-linux-gnu/libfontconfig.so.1'\n20160 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libfontconfig.so.1' due to prior processing.\n20160 DEBUG: Processing dependency, name: 'libXdmcp.so.6', resolved path: '/lib/x86_64-linux-gnu/libXdmcp.so.6'\n20160 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXdmcp.so.6' due to prior processing.\n20160 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20160 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20160 DEBUG: Processing dependency, name: 'libXft.so.2', resolved path: '/lib/x86_64-linux-gnu/libXft.so.2'\n20160 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXft.so.2' due to prior processing.\n20160 DEBUG: Processing dependency, name: 'libbz2.so.1.0', resolved path: '/lib/x86_64-linux-gnu/libbz2.so.1.0'\n20160 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbz2.so.1.0' due to prior processing.\n20160 DEBUG: Processing dependency, name: 'libfreetype.so.6', resolved path: '/lib/x86_64-linux-gnu/libfreetype.so.6'\n20160 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libfreetype.so.6' due to prior processing.\n20160 DEBUG: Processing dependency, name: 'libbrotlicommon.so.1', resolved path: '/lib/x86_64-linux-gnu/libbrotlicommon.so.1'\n20161 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbrotlicommon.so.1' due to prior processing.\n20161 DEBUG: Processing dependency, name: 'libXext.so.6', resolved path: '/lib/x86_64-linux-gnu/libXext.so.6'\n20161 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXext.so.6' due to prior processing.\n20161 DEBUG: Processing dependency, name: 'libbrotlidec.so.1', resolved path: '/lib/x86_64-linux-gnu/libbrotlidec.so.1'\n20161 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbrotlidec.so.1' due to prior processing.\n20161 DEBUG: Processing dependency, name: 'libxcb.so.1', resolved path: '/lib/x86_64-linux-gnu/libxcb.so.1'\n20161 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libxcb.so.1' due to global exclusion rules.\n20161 DEBUG: Processing dependency, name: 'libXrender.so.1', resolved path: '/lib/x86_64-linux-gnu/libXrender.so.1'\n20161 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXrender.so.1' due to prior processing.\n20161 DEBUG: Processing dependency, name: 'libexpat.so.1', resolved path: '/lib/x86_64-linux-gnu/libexpat.so.1'\n20161 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libexpat.so.1' due to prior processing.\n20161 DEBUG: Processing dependency, name: 'libX11.so.6', resolved path: '/lib/x86_64-linux-gnu/libX11.so.6'\n20161 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libX11.so.6' due to prior processing.\n20161 DEBUG: Processing dependency, name: 'libpng16.so.16', resolved path: '/lib/x86_64-linux-gnu/libpng16.so.16'\n20161 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpng16.so.16' due to prior processing.\n20161 DEBUG: Processing dependency, name: 'libbsd.so.0', resolved path: '/lib/x86_64-linux-gnu/libbsd.so.0'\n20161 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbsd.so.0' due to prior processing.\n20161 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libfreetype.so.6'\n20173 DEBUG: Processing dependency, name: 'libbz2.so.1.0', resolved path: '/lib/x86_64-linux-gnu/libbz2.so.1.0'\n20173 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbz2.so.1.0' due to prior processing.\n20173 DEBUG: Processing dependency, name: 'libz.so.1', resolved path: '/lib/x86_64-linux-gnu/libz.so.1'\n20174 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libz.so.1' due to prior processing.\n20174 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n20174 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n20174 DEBUG: Processing dependency, name: 'libbrotlidec.so.1', resolved path: '/lib/x86_64-linux-gnu/libbrotlidec.so.1'\n20174 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbrotlidec.so.1' due to prior processing.\n20174 DEBUG: Processing dependency, name: 'libpng16.so.16', resolved path: '/lib/x86_64-linux-gnu/libpng16.so.16'\n20174 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpng16.so.16' due to prior processing.\n20174 DEBUG: Processing dependency, name: 'libbrotlicommon.so.1', resolved path: '/lib/x86_64-linux-gnu/libbrotlicommon.so.1'\n20174 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbrotlicommon.so.1' due to prior processing.\n20174 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20174 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20174 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libtcl8.6.so'\n20184 DEBUG: Processing dependency, name: 'libz.so.1', resolved path: '/lib/x86_64-linux-gnu/libz.so.1'\n20184 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libz.so.1' due to prior processing.\n20184 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n20184 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n20184 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20184 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20184 DEBUG: Analyzing binary '/lib/libBLT.2.5.so.8.6'\n20195 DEBUG: Processing dependency, name: 'libmd.so.0', resolved path: '/lib/x86_64-linux-gnu/libmd.so.0'\n20195 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libmd.so.0' due to prior processing.\n20195 DEBUG: Processing dependency, name: 'libz.so.1', resolved path: '/lib/x86_64-linux-gnu/libz.so.1'\n20195 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libz.so.1' due to prior processing.\n20195 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n20195 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n20196 DEBUG: Processing dependency, name: 'libXss.so.1', resolved path: '/lib/x86_64-linux-gnu/libXss.so.1'\n20196 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXss.so.1' due to prior processing.\n20196 DEBUG: Processing dependency, name: 'libXau.so.6', resolved path: '/lib/x86_64-linux-gnu/libXau.so.6'\n20196 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXau.so.6' due to prior processing.\n20196 DEBUG: Processing dependency, name: 'libfontconfig.so.1', resolved path: '/lib/x86_64-linux-gnu/libfontconfig.so.1'\n20196 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libfontconfig.so.1' due to prior processing.\n20196 DEBUG: Processing dependency, name: 'libXdmcp.so.6', resolved path: '/lib/x86_64-linux-gnu/libXdmcp.so.6'\n20196 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXdmcp.so.6' due to prior processing.\n20196 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20196 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20196 DEBUG: Processing dependency, name: 'libXft.so.2', resolved path: '/lib/x86_64-linux-gnu/libXft.so.2'\n20196 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXft.so.2' due to prior processing.\n20196 DEBUG: Processing dependency, name: 'libtk8.6.so', resolved path: '/lib/x86_64-linux-gnu/libtk8.6.so'\n20196 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libtk8.6.so' due to prior processing.\n20196 DEBUG: Processing dependency, name: 'libbz2.so.1.0', resolved path: '/lib/x86_64-linux-gnu/libbz2.so.1.0'\n20196 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbz2.so.1.0' due to prior processing.\n20196 DEBUG: Processing dependency, name: 'libfreetype.so.6', resolved path: '/lib/x86_64-linux-gnu/libfreetype.so.6'\n20196 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libfreetype.so.6' due to prior processing.\n20196 DEBUG: Processing dependency, name: 'libtcl8.6.so', resolved path: '/lib/x86_64-linux-gnu/libtcl8.6.so'\n20196 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libtcl8.6.so' due to prior processing.\n20197 DEBUG: Processing dependency, name: 'libbrotlicommon.so.1', resolved path: '/lib/x86_64-linux-gnu/libbrotlicommon.so.1'\n20197 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbrotlicommon.so.1' due to prior processing.\n20197 DEBUG: Processing dependency, name: 'libXext.so.6', resolved path: '/lib/x86_64-linux-gnu/libXext.so.6'\n20197 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXext.so.6' due to prior processing.\n20197 DEBUG: Processing dependency, name: 'libbrotlidec.so.1', resolved path: '/lib/x86_64-linux-gnu/libbrotlidec.so.1'\n20197 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbrotlidec.so.1' due to prior processing.\n20197 DEBUG: Processing dependency, name: 'libxcb.so.1', resolved path: '/lib/x86_64-linux-gnu/libxcb.so.1'\n20197 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libxcb.so.1' due to global exclusion rules.\n20197 DEBUG: Processing dependency, name: 'libXrender.so.1', resolved path: '/lib/x86_64-linux-gnu/libXrender.so.1'\n20197 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXrender.so.1' due to prior processing.\n20197 DEBUG: Processing dependency, name: 'libexpat.so.1', resolved path: '/lib/x86_64-linux-gnu/libexpat.so.1'\n20197 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libexpat.so.1' due to prior processing.\n20197 DEBUG: Processing dependency, name: 'libX11.so.6', resolved path: '/lib/x86_64-linux-gnu/libX11.so.6'\n20197 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libX11.so.6' due to prior processing.\n20197 DEBUG: Processing dependency, name: 'libpng16.so.16', resolved path: '/lib/x86_64-linux-gnu/libpng16.so.16'\n20197 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libpng16.so.16' due to prior processing.\n20197 DEBUG: Processing dependency, name: 'libbsd.so.0', resolved path: '/lib/x86_64-linux-gnu/libbsd.so.0'\n20198 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbsd.so.0' due to prior processing.\n20198 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libbrotlicommon.so.1'\n20208 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20208 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20208 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libXext.so.6'\n20219 DEBUG: Processing dependency, name: 'libmd.so.0', resolved path: '/lib/x86_64-linux-gnu/libmd.so.0'\n20219 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libmd.so.0' due to prior processing.\n20219 DEBUG: Processing dependency, name: 'libXau.so.6', resolved path: '/lib/x86_64-linux-gnu/libXau.so.6'\n20219 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXau.so.6' due to prior processing.\n20219 DEBUG: Processing dependency, name: 'libbsd.so.0', resolved path: '/lib/x86_64-linux-gnu/libbsd.so.0'\n20219 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbsd.so.0' due to prior processing.\n20219 DEBUG: Processing dependency, name: 'libX11.so.6', resolved path: '/lib/x86_64-linux-gnu/libX11.so.6'\n20219 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libX11.so.6' due to prior processing.\n20220 DEBUG: Processing dependency, name: 'libXdmcp.so.6', resolved path: '/lib/x86_64-linux-gnu/libXdmcp.so.6'\n20220 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXdmcp.so.6' due to prior processing.\n20220 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20220 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20220 DEBUG: Processing dependency, name: 'libxcb.so.1', resolved path: '/lib/x86_64-linux-gnu/libxcb.so.1'\n20220 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libxcb.so.1' due to global exclusion rules.\n20220 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libbrotlidec.so.1'\n20229 DEBUG: Processing dependency, name: 'libbrotlicommon.so.1', resolved path: '/lib/x86_64-linux-gnu/libbrotlicommon.so.1'\n20229 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbrotlicommon.so.1' due to prior processing.\n20229 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20229 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20229 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libXrender.so.1'\n20240 DEBUG: Processing dependency, name: 'libmd.so.0', resolved path: '/lib/x86_64-linux-gnu/libmd.so.0'\n20241 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libmd.so.0' due to prior processing.\n20241 DEBUG: Processing dependency, name: 'libXau.so.6', resolved path: '/lib/x86_64-linux-gnu/libXau.so.6'\n20241 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXau.so.6' due to prior processing.\n20241 DEBUG: Processing dependency, name: 'libbsd.so.0', resolved path: '/lib/x86_64-linux-gnu/libbsd.so.0'\n20241 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbsd.so.0' due to prior processing.\n20241 DEBUG: Processing dependency, name: 'libX11.so.6', resolved path: '/lib/x86_64-linux-gnu/libX11.so.6'\n20241 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libX11.so.6' due to prior processing.\n20241 DEBUG: Processing dependency, name: 'libXdmcp.so.6', resolved path: '/lib/x86_64-linux-gnu/libXdmcp.so.6'\n20241 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXdmcp.so.6' due to prior processing.\n20241 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20241 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20241 DEBUG: Processing dependency, name: 'libxcb.so.1', resolved path: '/lib/x86_64-linux-gnu/libxcb.so.1'\n20241 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libxcb.so.1' due to global exclusion rules.\n20241 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libX11.so.6'\n20251 DEBUG: Processing dependency, name: 'libmd.so.0', resolved path: '/lib/x86_64-linux-gnu/libmd.so.0'\n20252 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libmd.so.0' due to prior processing.\n20252 DEBUG: Processing dependency, name: 'libXau.so.6', resolved path: '/lib/x86_64-linux-gnu/libXau.so.6'\n20252 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXau.so.6' due to prior processing.\n20252 DEBUG: Processing dependency, name: 'libxcb.so.1', resolved path: '/lib/x86_64-linux-gnu/libxcb.so.1'\n20252 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libxcb.so.1' due to global exclusion rules.\n20252 DEBUG: Processing dependency, name: 'libXdmcp.so.6', resolved path: '/lib/x86_64-linux-gnu/libXdmcp.so.6'\n20252 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libXdmcp.so.6' due to prior processing.\n20252 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20252 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20252 DEBUG: Processing dependency, name: 'libbsd.so.0', resolved path: '/lib/x86_64-linux-gnu/libbsd.so.0'\n20252 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libbsd.so.0' due to prior processing.\n20252 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libpng16.so.16'\n20262 DEBUG: Processing dependency, name: 'libz.so.1', resolved path: '/lib/x86_64-linux-gnu/libz.so.1'\n20262 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libz.so.1' due to prior processing.\n20262 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n20262 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n20262 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20262 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20262 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libbsd.so.0'\n20273 DEBUG: Processing dependency, name: 'libmd.so.0', resolved path: '/lib/x86_64-linux-gnu/libmd.so.0'\n20273 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libmd.so.0' due to prior processing.\n20273 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20273 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20273 DEBUG: Analyzing binary '/lib/x86_64-linux-gnu/libsqlite3.so.0'\n20282 DEBUG: Processing dependency, name: 'libm.so.6', resolved path: '/lib/x86_64-linux-gnu/libm.so.6'\n20282 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libm.so.6' due to global exclusion rules.\n20282 DEBUG: Processing dependency, name: 'libc.so.6', resolved path: '/lib/x86_64-linux-gnu/libc.so.6'\n20282 DEBUG: Skipping dependency '/lib/x86_64-linux-gnu/libc.so.6' due to global exclusion rules.\n20314 INFO: Warnings written to /home/gross/FunKit/build/funkit/warn-funkit.txt\n20370 INFO: Graph cross-reference written to /home/gross/FunKit/build/funkit/xref-funkit.html\n20409 INFO: Graph drawing written to /home/gross/FunKit/build/funkit/graph-funkit.dot\n20439 INFO: checking PYZ\n20439 INFO: Building PYZ because PYZ-00.toc is non existent\n20439 INFO: Building PYZ (ZlibArchive) /home/gross/FunKit/build/funkit/PYZ-00.pyz\n20439 DEBUG: Compiling namespace package flask.sansio\n20440 DEBUG: Compiling namespace package numpy._core.tests\n21539 INFO: Building PYZ (ZlibArchive) /home/gross/FunKit/build/funkit/PYZ-00.pyz completed successfully.\n21561 INFO: checking PKG\n21561 INFO: Building PKG because PKG-00.toc is non existent\n21562 INFO: Building PKG (CArchive) funkit.pkg\n21570 DEBUG: Compiling python script/module file /home/gross/.local/lib/python3.12/site-packages/PyInstaller/loader/pyiboot01_bootstrap.py\n21571 DEBUG: Compiling python script/module file /home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks/rthooks/pyi_rth_inspect.py\n21572 DEBUG: Compiling python script/module file /home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks/rthooks/pyi_rth_pkgutil.py\n21572 DEBUG: Compiling python script/module file /home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks/rthooks/pyi_rth_multiprocessing.py\n21573 DEBUG: Compiling python script/module file /home/gross/.local/lib/python3.12/site-packages/_pyinstaller_hooks_contrib/rthooks/pyi_rth_cryptography_openssl.py\n21573 DEBUG: Compiling python script/module file /home/gross/.local/lib/python3.12/site-packages/PyInstaller/hooks/rthooks/pyi_rth__tkinter.py\n21573 DEBUG: Compiling python script/module file /home/gross/FunKit/main.py\n21579 INFO: Building PKG (CArchive) funkit.pkg completed successfully.\n21580 INFO: Bootloader /home/gross/.local/lib/python3.12/site-packages/PyInstaller/bootloader/Linux-64bit-intel/run\n21580 INFO: checking EXE\n21580 INFO: Building EXE because EXE-00.toc is non existent\n21580 INFO: Building EXE from EXE-00.toc\n21580 INFO: Copying bootloader EXE to /home/gross/FunKit/build/funkit/funkit\n21580 INFO: Appending PKG archive to custom ELF section in EXE\n21604 INFO: Building EXE from EXE-00.toc completed successfully.\n21609 INFO: checking COLLECT\n21609 INFO: Building COLLECT because COLLECT-00.toc is non existent\n21609 INFO: Building COLLECT COLLECT-00.toc\n21648 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libpython3.12.so\n21690 DEBUG: Output from strip command:\n\n21710 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/ossl-modules/legacy.so\n21713 DEBUG: Output from strip command:\n\n21728 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_contextvars.cpython-312-x86_64-linux-gnu.so\n21730 DEBUG: Output from strip command:\n\n21742 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_decimal.cpython-312-x86_64-linux-gnu.so\n21746 DEBUG: Output from strip command:\n\n21762 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_hashlib.cpython-312-x86_64-linux-gnu.so\n21765 DEBUG: Output from strip command:\n\n21778 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/resource.cpython-312-x86_64-linux-gnu.so\n21781 DEBUG: Output from strip command:\n\n21796 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_lzma.cpython-312-x86_64-linux-gnu.so\n21798 DEBUG: Output from strip command:\n\n21811 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_bz2.cpython-312-x86_64-linux-gnu.so\n21814 DEBUG: Output from strip command:\n\n21829 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_posixshmem.cpython-312-x86_64-linux-gnu.so\n21832 DEBUG: Output from strip command:\n\n21846 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_multiprocessing.cpython-312-x86_64-linux-gnu.so\n21848 DEBUG: Output from strip command:\n\n21860 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/termios.cpython-312-x86_64-linux-gnu.so\n21864 DEBUG: Output from strip command:\n\n21880 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_ssl.cpython-312-x86_64-linux-gnu.so\n21883 DEBUG: Output from strip command:\n\n21897 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/mmap.cpython-312-x86_64-linux-gnu.so\n21899 DEBUG: Output from strip command:\n\n21913 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_ctypes.cpython-312-x86_64-linux-gnu.so\n21915 DEBUG: Output from strip command:\n\n21930 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_queue.cpython-312-x86_64-linux-gnu.so\n21933 DEBUG: Output from strip command:\n\n21947 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_json.cpython-312-x86_64-linux-gnu.so\n21950 DEBUG: Output from strip command:\n\n21962 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_asyncio.cpython-312-x86_64-linux-gnu.so\n21965 DEBUG: Output from strip command:\n\n21980 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/markupsafe/_speedups.cpython-312-x86_64-linux-gnu.so\n21983 DEBUG: Output from strip command:\n\n21997 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/readline.cpython-312-x86_64-linux-gnu.so\n22000 DEBUG: Output from strip command:\n\n22019 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/cryptography/hazmat/bindings/_rust.abi3.so\n22028 DEBUG: Output from strip command:\n\n22046 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/_cffi_backend.cpython-312-x86_64-linux-gnu.so\n22050 DEBUG: Output from strip command:\n\n22063 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/bcrypt/_bcrypt.abi3.so\n22066 DEBUG: Output from strip command:\n\n22082 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_multibytecodec.cpython-312-x86_64-linux-gnu.so\n22084 DEBUG: Output from strip command:\n\n22099 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_codecs_jp.cpython-312-x86_64-linux-gnu.so\n22102 DEBUG: Output from strip command:\n\n22117 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_codecs_kr.cpython-312-x86_64-linux-gnu.so\n22120 DEBUG: Output from strip command:\n\n22132 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_codecs_iso2022.cpython-312-x86_64-linux-gnu.so\n22135 DEBUG: Output from strip command:\n\n22153 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_codecs_cn.cpython-312-x86_64-linux-gnu.so\n22155 DEBUG: Output from strip command:\n\n22170 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_codecs_tw.cpython-312-x86_64-linux-gnu.so\n22172 DEBUG: Output from strip command:\n\n22185 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_codecs_hk.cpython-312-x86_64-linux-gnu.so\n22188 DEBUG: Output from strip command:\n\n22208 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/PIL/_webp.cpython-312-x86_64-linux-gnu.so\n22211 DEBUG: Output from strip command:\n\n22223 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/PIL/_imagingtk.cpython-312-x86_64-linux-gnu.so\n22226 DEBUG: Output from strip command:\n\n22243 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/PIL/_avif.cpython-312-x86_64-linux-gnu.so\n22245 DEBUG: Output from strip command:\n\n22259 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/PIL/_imagingcms.cpython-312-x86_64-linux-gnu.so\n22261 DEBUG: Output from strip command:\n\n22278 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/PIL/_imagingmath.cpython-312-x86_64-linux-gnu.so\n22280 DEBUG: Output from strip command:\n\n22294 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy/_core/_multiarray_tests.cpython-312-x86_64-linux-gnu.so\n22297 DEBUG: Output from strip command:\n\n22334 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy/_core/_multiarray_umath.cpython-312-x86_64-linux-gnu.so\n22365 DEBUG: Output from strip command:\n\n22386 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/psutil/_psutil_posix.abi3.so\n22389 DEBUG: Output from strip command:\n\n22406 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/psutil/_psutil_linux.abi3.so\n22409 DEBUG: Output from strip command:\n\n22422 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_curses.cpython-312-x86_64-linux-gnu.so\n22426 DEBUG: Output from strip command:\n\n22443 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy/linalg/_umath_linalg.cpython-312-x86_64-linux-gnu.so\n22446 DEBUG: Output from strip command:\n\n22462 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy/random/mtrand.cpython-312-x86_64-linux-gnu.so\n22467 DEBUG: Output from strip command:\n\n22481 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy/random/_sfc64.cpython-312-x86_64-linux-gnu.so\n22485 DEBUG: Output from strip command:\n\n22502 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy/random/_philox.cpython-312-x86_64-linux-gnu.so\n22505 DEBUG: Output from strip command:\n\n22518 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy/random/_pcg64.cpython-312-x86_64-linux-gnu.so\n22521 DEBUG: Output from strip command:\n\n22539 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy/random/_mt19937.cpython-312-x86_64-linux-gnu.so\n22542 DEBUG: Output from strip command:\n\n22557 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy/random/bit_generator.cpython-312-x86_64-linux-gnu.so\n22560 DEBUG: Output from strip command:\n\n22577 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy/random/_generator.cpython-312-x86_64-linux-gnu.so\n22583 DEBUG: Output from strip command:\n\n22599 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy/random/_bounded_integers.cpython-312-x86_64-linux-gnu.so\n22603 DEBUG: Output from strip command:\n\n22618 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy/random/_common.cpython-312-x86_64-linux-gnu.so\n22622 DEBUG: Output from strip command:\n\n22639 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy/fft/_pocketfft_umath.cpython-312-x86_64-linux-gnu.so\n22643 DEBUG: Output from strip command:\n\n22659 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/yaml/_yaml.cpython-312-x86_64-linux-gnu.so\n22662 DEBUG: Output from strip command:\n\n22684 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/PIL/_imaging.cpython-312-x86_64-linux-gnu.so\n22689 DEBUG: Output from strip command:\n\n22703 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/simplejson/_speedups.cpython-312-x86_64-linux-gnu.so\n22707 DEBUG: Output from strip command:\n\n22722 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/_brotli.cpython-312-x86_64-linux-gnu.so\n22727 DEBUG: Output from strip command:\n\n22744 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_tkinter.cpython-312-x86_64-linux-gnu.so\n22747 DEBUG: Output from strip command:\n\n22763 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/yarl/_quoting_c.cpython-312-x86_64-linux-gnu.so\n22766 DEBUG: Output from strip command:\n\n22784 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/propcache/_helpers_c.cpython-312-x86_64-linux-gnu.so\n22787 DEBUG: Output from strip command:\n\n22806 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/multidict/_multidict.cpython-312-x86_64-linux-gnu.so\n22809 DEBUG: Output from strip command:\n\n22825 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/aiohttp/_http_writer.cpython-312-x86_64-linux-gnu.so\n22828 DEBUG: Output from strip command:\n\n22849 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/aiohttp/_http_parser.cpython-312-x86_64-linux-gnu.so\n22853 DEBUG: Output from strip command:\n\n22870 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/frozenlist/_frozenlist.cpython-312-x86_64-linux-gnu.so\n22873 DEBUG: Output from strip command:\n\n22886 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/aiohttp/_websocket/mask.cpython-312-x86_64-linux-gnu.so\n22891 DEBUG: Output from strip command:\n\n22913 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/aiohttp/_websocket/reader_c.cpython-312-x86_64-linux-gnu.so\n22916 DEBUG: Output from strip command:\n\n22931 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/lib-dynload/_sqlite3.cpython-312-x86_64-linux-gnu.so\n22935 DEBUG: Output from strip command:\n\n22953 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libz.so.1\n22955 DEBUG: Output from strip command:\n\n22968 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libexpat.so.1\n22973 DEBUG: Output from strip command:\n\n23001 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libcrypto.so.3\n23017 DEBUG: Output from strip command:\n\n23039 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/liblzma.so.5\n23041 DEBUG: Output from strip command:\n\n23055 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libbz2.so.1.0\n23060 DEBUG: Output from strip command:\n\n23078 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libssl.so.3\n23083 DEBUG: Output from strip command:\n\n23099 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libffi.so.8\n23103 DEBUG: Output from strip command:\n\n23118 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libreadline.so.8\n23122 DEBUG: Output from strip command:\n\n23138 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libtinfo.so.6\n23141 DEBUG: Output from strip command:\n\n23156 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libgcc_s.so.1\n23159 DEBUG: Output from strip command:\n\n23176 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/pillow.libs/libwebp-5f0275c0.so.7.1.10\n23180 DEBUG: Output from strip command:\n\n23196 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/pillow.libs/libwebpdemux-efaed568.so.2.0.16\n23199 DEBUG: Output from strip command:\n\n23215 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/pillow.libs/libsharpyuv-60a7c00b.so.0.1.1\n23218 DEBUG: Output from strip command:\n\n23233 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/pillow.libs/libwebpmux-6f2b1ad9.so.3.1.1\n23237 DEBUG: Output from strip command:\n\n23257 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libstdc++.so.6\n23266 DEBUG: Output from strip command:\n\n23293 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/pillow.libs/libavif-01e67780.so.16.3.0\n23311 DEBUG: Output from strip command:\n\n23331 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/pillow.libs/liblcms2-cc10e42f.so.2.0.17\n23335 DEBUG: Output from strip command:\n\n23356 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy.libs/libgfortran-040039e1-0352e75f.so.5.0.0\n23365 DEBUG: Output from strip command:\n\n23382 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy.libs/libquadmath-96973f99-934c22de.so.0.0.0\n23385 DEBUG: Output from strip command:\n\n23444 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/numpy.libs/libscipy_openblas64_-6bb31eeb.so\n23530 DEBUG: Output from strip command:\n\n23558 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libncursesw.so.6\n23563 DEBUG: Output from strip command:\n\n23580 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libyaml-0.so.2\n23583 DEBUG: Output from strip command:\n\n23599 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/pillow.libs/libopenjp2-56811f71.so.2.5.3\n23605 DEBUG: Output from strip command:\n\n23620 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/pillow.libs/liblzma-64b7ab39.so.5.8.1\n23626 DEBUG: Output from strip command:\n\n23644 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/pillow.libs/libXau-154567c4.so.6.0.0\n23647 DEBUG: Output from strip command:\n\n23665 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/pillow.libs/libtiff-13a02c81.so.6.1.0\n23670 DEBUG: Output from strip command:\n\n23687 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/pillow.libs/libjpeg-8a13c6e0.so.62.4.0\n23691 DEBUG: Output from strip command:\n\n23708 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/pillow.libs/libxcb-64009ff3.so.1.1.0\n23712 DEBUG: Output from strip command:\n\n23726 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libmd.so.0\n23730 DEBUG: Output from strip command:\n\n23747 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libXss.so.1\n23750 DEBUG: Output from strip command:\n\n23765 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libXau.so.6\n23768 DEBUG: Output from strip command:\n\n23784 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libfontconfig.so.1\n23787 DEBUG: Output from strip command:\n\n23801 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libXdmcp.so.6\n23806 DEBUG: Output from strip command:\n\n23826 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libXft.so.2\n23829 DEBUG: Output from strip command:\n\n23846 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libtk8.6.so\n23855 DEBUG: Output from strip command:\n\n23875 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libfreetype.so.6\n23879 DEBUG: Output from strip command:\n\n23899 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libtcl8.6.so\n23906 DEBUG: Output from strip command:\n\n23928 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libBLT.2.5.so.8.6\n23935 DEBUG: Output from strip command:\n\n23952 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libbrotlicommon.so.1\n23955 DEBUG: Output from strip command:\n\n23971 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libXext.so.6\n23973 DEBUG: Output from strip command:\n\n23987 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libbrotlidec.so.1\n23993 DEBUG: Output from strip command:\n\n24011 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libXrender.so.1\n24014 DEBUG: Output from strip command:\n\n24031 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libX11.so.6\n24041 DEBUG: Output from strip command:\n\n24057 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libpng16.so.16\n24061 DEBUG: Output from strip command:\n\n24074 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libbsd.so.0\n24077 DEBUG: Output from strip command:\n\n24099 INFO: Executing: strip /home/gross/.cache/pyinstaller/bincache10py31264bit/libsqlite3.so.0\n24106 DEBUG: Output from strip command:\n\n24153 INFO: Building COLLECT COLLECT-00.toc completed successfully.\n24161 INFO: Build complete! The results are available in: /home/gross/FunKit/dist\n---- dist contents ----\ntotal 12K\ndrwxrwxr-x  3 gross gross 4.0K Aug 13 19:39 .\ndrwxrwxr-x 14 gross gross 4.0K Aug 13 19:39 ..\ndrwxrwxr-x  3 gross gross 4.0K Aug 13 19:39 funkit\n---- funkit artifact ----\ntotal 7.7M\ndrwxrwxr-x  3 gross gross 4.0K Aug 13 19:39 .\ndrwxrwxr-x  3 gross gross 4.0K Aug 13 19:39 ..\ndrwxrwxr-x 29 gross gross 4.0K Aug 13 19:39 _internal\n-rwxr-xr-x  1 gross gross 7.7M Aug 13 19:39 funkit\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ ls -ltra\n\u001b[?2004l\ntotal 8024\n-rw-rw-r--   1 gross gross      8 Aug  5 21:18 .python-version\ndrwxrwxr-x   4 gross gross   4096 Aug  5 21:18 \u001b[0m\u001b[0;36m.venv\u001b[0m\n-rw-rw-r--   1 gross gross   1190 Aug  5 21:18 In_Tranquil_Groves.txt\n-rw-rw-r--   1 gross gross   1156 Aug  5 21:18 In_Quiet_Woods.txt\n-rw-rw-r--   1 gross gross    472 Aug  5 21:18 Hypertext_Standards\n-rw-rw-r--   1 gross gross   2463 Aug  5 21:18 French_AI_Poem.txt\n-rwxrwxr-x   1 gross gross    953 Aug  5 21:18 \u001b[01;32mDemoKit_Intraweb_Ready.zip\u001b[0m\n-rw-rw-r--   1 gross gross   2959 Aug  5 21:18 Communication.txt\n-rw-rw-r--   1 gross gross   1613 Aug  5 21:18 AI_ROADMAP\n-rw-rw-r--   1 gross gross   1113 Aug  5 21:18 Mouse-HOWTO\n-rw-rw-r--   1 gross gross 434858 Aug  5 21:18 Love_and_intimacy.png\n-rw-rw-r--   1 gross gross  35149 Aug  5 21:18 LICENSE\n-rw-rw-r--   1 gross gross    732 Aug  5 21:18 Streamline_a_terminal_App\n-rw-rw-r--   1 gross gross   2314 Aug  5 21:18 README.md\n-rw-rw-r--   1 gross gross    576 Aug  5 21:18 README-DB\n-rw-rw-r--   1 gross gross    744 Aug  5 21:18 PYLINT\n-rw-rw-r--   1 gross gross 507423 Aug  5 21:18 No_Longer_Strangers.png\n-rw-rw-r--   1 gross gross 434055 Aug  5 21:18 Two_Girls_At_Table.png\n-rw-rw-r--   1 gross gross   1111 Aug  5 21:18 ai_interface.py\n-rw-rw-r--   1 gross gross    193 Aug  5 21:18 add_test_doc.py\n-rw-rw-r--   1 gross gross   3461 Aug  5 21:18 create_new_build.py\n-rw-rw-r--   1 gross gross   3565 Aug  5 21:18 commands.py\n-rw-rw-r--   1 gross gross    327 Aug  5 21:18 clicktest.py\n-rwxrwxr-x   1 gross gross   1276 Aug  5 21:18 \u001b[01;32mbuild_with_tk.old\u001b[0m\n-rw-rw-r--   1 gross gross   1744 Aug  5 21:18 build_python_with_tk.sh\n-rwxrwxr-x   1 gross gross   1147 Aug  5 21:18 \u001b[01;32mbuild_python310_with_tk.sh\u001b[0m\n-rw-rw-r--   1 gross gross     73 Aug  5 21:18 doctest.py\n-rw-rw-r--   1 gross gross   4472 Aug  5 21:18 doc_382.txt\n-rw-rw-r--   1 gross gross 434858 Aug  5 21:18 document_378.png\n-rw-rw-r--   1 gross gross 388454 Aug  5 21:18 document_33.png\n-rw-rw-r--   1 gross gross    648 Aug  5 21:18 document_385.txt\n-rw-rw-r--   1 gross gross 320710 Aug  5 21:18 document_380.png\n-rw-rw-r--   1 gross gross 335194 Aug  5 21:18 document_379.png\n-rw-rw-r--   1 gross gross   2937 Aug  5 21:18 document_386.txt\n-rw-rw-r--   1 gross gross 296916 Aug  5 21:18 document_386.png\n-rw-rw-r--   1 gross gross   1156 Aug  5 21:18 document_4.txt\n-rw-rw-r--   1 gross gross 307816 Aug  5 21:18 document_400.png\n-rw-rw-r--   1 gross gross 456734 Aug  5 21:18 document_388.png\n-rw-rw-r--   1 gross gross   1190 Aug  5 21:18 document_5.txt\n-rw-rw-r--   1 gross gross 507423 Aug  5 21:18 document_5.png\n-rw-rw-r--   1 gross gross 351909 Aug  5 21:18 document_6.png\n-rw-rw-r--   1 gross gross 377668 Aug  5 21:18 document_64.png\n-rw-rw-r--   1 gross gross 408176 Aug  5 21:18 document_69.png\n-rw-rw-r--   1 gross gross 346816 Aug  5 21:18 document_66.png\n-rw-rw-r--   1 gross gross 464146 Aug  5 21:18 document_7.png\n-rw-rw-r--   1 gross gross   4613 Aug  5 21:18 gui.zip\n-rw-rw-r--   1 gross gross   2555 Aug  5 21:18 google_system.py\n-rw-rw-r--   1 gross gross    835 Aug  5 21:18 fix_sqlite_column.py\n-rw-rw-r--   1 gross gross      0 Aug  5 21:18 documents-db.sqlite\n-rw-rw-r--   1 gross gross 434055 Aug  5 21:18 document_71.png\n-rw-rw-r--   1 gross gross 347770 Aug  5 21:18 document_70.png\ndrwxrwxr-x   2 gross gross   4096 Aug  5 21:18 \u001b[0;36mlogs\u001b[0m\n-rw-rw-r--   1 gross gross    724 Aug  5 21:18 link_test.py\n-rw-rw-r--   1 gross gross  59160 Aug  5 21:18 hypertext_graph.png\n-rw-rw-r--   1 gross gross  15433 Aug  5 21:18 gui_tkinter_merged.py\n-rw-rw-r--   1 gross gross  15078 Aug  5 21:18 gui_tkinter_grokfix.py\n-rw-rw-r--   1 gross gross  15433 Aug  5 21:18 gui_tkinter_green_links.py\n-rw-rw-r--   1 gross gross  15751 Aug  5 21:18 gui_tkinter_backfix.py\n-rw-rw-r--   1 gross gross    710 Aug  5 21:18 main.py\n-rw-rw-r--   1 gross gross 164600 Aug  5 21:18 main.c\n-rw-rw-r--   1 gross gross    920 Aug  5 21:18 new_link_test.py\n-rwxrwxr-x   1 gross gross  12288 Aug  5 21:18 \u001b[01;32msample_documents.db\u001b[0m\n-rwxrwxr-x   1 gross gross    511 Aug  5 21:18 \u001b[01;32mrun.sh-old\u001b[0m\n-rwxrwxr-x   1 gross gross    684 Aug  5 21:18 \u001b[01;32mrun.sh\u001b[0m\n-rwxrwxr-x   1 gross gross    425 Aug  5 21:18 \u001b[01;32mrequirements.txt\u001b[0m\ndrwxrwxr-x   4 gross gross   4096 Aug  5 21:18 \u001b[0;36mpykit-env\u001b[0m\n-rwxrwxr-x   1 gross gross    551 Aug  5 21:18 \u001b[01;32msqlite_shell_access.sh\u001b[0m\n-rwxrwxr-x   1 gross gross    927 Aug  5 21:18 \u001b[01;32msetup_tkinter.sh\u001b[0m\n-rwxrwxr-x   1 gross gross    490 Aug  5 21:18 \u001b[01;32msetup.sh\u001b[0m\n-rwxrwxr-x   1 gross gross    303 Aug  5 21:18 \u001b[01;32msetenv-mac.sh\u001b[0m\ndrwxrwxr-x   3 gross gross   4096 Aug  5 21:18 \u001b[0;36msrc\u001b[0m\n-rw-rw-r--   1 gross gross   1080 Aug  5 21:19 working_requirements.txt\n-rw-rw-r--   1 gross gross    825 Aug  5 21:19 test_sidebar_buttons.py\n-rw-rw-r--   1 gross gross    165 Aug  5 21:19 test-add.py\n-rw-rw-r--   1 gross gross    920 Aug  5 21:19 tag_debug.py\ndrwxrwxr-x   4 gross gross   4096 Aug  5 21:28 \u001b[0;36mfunkit-env\u001b[0m\n-rw-rw-r--   1 gross gross    736 Aug  5 22:15 space_saver.py\n-rwxrwxr-x   1 gross gross   1127 Aug  6 12:07 \u001b[01;32mbuild_and_benchmark.sh\u001b[0m\n-rw-rw-r--   1 gross gross    710 Aug  6 12:08 funkit.py\n-rwxrwxr-x   1 gross gross    664 Aug  6 12:26 \u001b[01;32mbuild_funkit.sh\u001b[0m\n-rw-rw-r--   1 gross gross   2430 Aug  6 12:38 document_63.txt\n-rw-rw-r--   1 gross gross   1608 Aug  6 12:43 document_48.txt\n-rw-rw-r--   1 gross gross   1608 Aug  6 12:43 Porting_NLS.txt\n-rw-rw-r--   1 gross gross  14969 Aug  7 15:18 TreeView-pre-opml.py\n-rw-rw-r--   1 gross gross    336 Aug  7 16:03 .gitignore\n-rw-rw-r--   1 gross gross   1053 Aug  7 16:53 migrate_parent_id.py\n-rw-rw-r--   1 gross gross  24415 Aug  7 21:01 gui_tkinter_opml_works.py\n-rwxrwxr-x   1 gross gross   1096 Aug  7 21:36 \u001b[01;32mcommit.sh\u001b[0m\n-rwxrwxr-x   1 gross gross   2787 Aug  7 21:39 \u001b[01;32mcommit_opml-broken.sh\u001b[0m\n-rwxrwxr-x   1 gross gross   3011 Aug  7 21:47 \u001b[01;32mcommit_opml-broken2.sh\u001b[0m\n-rwxrwxr-x   1 gross gross   2570 Aug  7 21:49 \u001b[01;32mcommit_opml.sh\u001b[0m\n-rwxrwxr-x   1 gross gross   1949 Aug  7 21:58 \u001b[01;32mcommit_and_push_opml.sh\u001b[0m\ndrwxrwxr-x   2 gross gross   4096 Aug  8 17:35 \u001b[0;36mexported_docs\u001b[0m\n-rw-rw-r--   1 gross gross   4999 Aug  9 04:42 document_44.txt\n-rw-rw-r--   1 gross gross  13330 Aug  9 04:42 document_45.txt\n-rw-rw-r--   1 gross gross  13330 Aug  9 04:42 Hyperscope_Development_Plan.txt\n-rw-rw-r--   1 gross gross  14257 Aug  9 04:46 document_47.txt\n-rw-rw-r--   1 gross gross  14257 Aug  9 04:46 Hyperscope_python_module_dev_Plan.txt\n-rw-rw-r--   1 gross gross   5686 Aug  9 05:46 document_51.txt\n-rw-rw-r--   1 gross gross   5686 Aug  9 05:47 K_Vision.txt\n-rw-rw-r--   1 gross gross   6996 Aug  9 05:52 document_53.txt\n-rw-rw-r--   1 gross gross   6996 Aug  9 05:53 Better_Schoolrooms.txt\ndrwxrwxr-x   2 gross gross   4096 Aug 13 13:33 \u001b[0;36m__pycache__\u001b[0m\n-rw-rw-r--   1 gross gross  38217 Aug 13 15:19 gui_tkinter_phase2_3_prefs.py\ndrwxrwxr-x   6 gross gross   4096 Aug 13 16:21 \u001b[0;36mmodules\u001b[0m\ndrwxrwxr-x   2 gross gross   4096 Aug 13 16:48 \u001b[0;36mstorage\u001b[0m\n-rwxrwxr-x   1 gross gross   3110 Aug 13 17:13 \u001b[01;32mrelease_1_2_1.sh\u001b[0m\n-rw-rw-r--   1 gross gross      6 Aug 13 17:13 VERSION\n-rw-------   1 gross gross   1784 Aug 13 17:13 CHANGELOG.md\n-rw-rw-r--   1 gross gross   3396 Aug 13 17:33 RELEASE_NOTES_v1.2.1\ndrwxrwxr-x   9 gross gross   4096 Aug 13 17:34 \u001b[0;36m.git\u001b[0m\n-rw-rw-r--   1 gross gross    657 Aug 13 17:38 funkit-large.spec\n-rwxrwxr-x   1 gross gross   1310 Aug 13 17:57 \u001b[01;32mbuild_lean_no_torch.sh\u001b[0m\n-rw-rw-r--   1 gross gross    882 Aug 13 19:13 funkit_standard.spec\n-rw-rw-r--   1 gross gross   2039 Aug 13 19:27 funkit_lean.spec\n-rwxrwxr-x   1 gross gross   1184 Aug 13 19:38 \u001b[01;32mbuild_all_variants.sh\u001b[0m\ndrwxr-xr-x 111 gross gross  16384 Aug 13 19:38 \u001b[0;36m..\u001b[0m\n-rw-rw-r--   1 gross gross      0 Aug 13 19:39 build.log\n-rw-rw-r--   1 gross gross    939 Aug 13 19:39 funkit.spec\ndrwxrwxr-x   3 gross gross   4096 Aug 13 19:39 \u001b[0;36mbuild\u001b[0m\ndrwxrwxr-x  14 gross gross   4096 Aug 13 19:39 \u001b[0;36m.\u001b[0m\ndrwxrwxr-x   3 gross gross   4096 Aug 13 19:39 \u001b[0;36mdist\u001b[0m\n-rw-rw-r--   1 gross gross 143360 Aug 13 19:39 buildlog\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ ls dist\n\u001b[?2004l\n\u001b[0m\u001b[0;36mfunkit\u001b[0m\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ du -s funkit\n\u001b[?2004l\ndu: cannot access 'funkit': No such file or directory\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ ls \b\u001b[K\b\u001b[K\b\u001b[Kdu -s dist/funkit/funkit\n\u001b[?2004l\n7844\tdist/funkit/funkit\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ du -s dist\n\u001b[?2004l\n96756\tdist\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ du -sh dist\n\u001b[?2004l\n95M\tdist\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ cd dist\n\u001b[?2004l\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist\u001b[00m$ ls\n\u001b[?2004l\n\u001b[0m\u001b[0;36mfunkit\u001b[0m\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist\u001b[00m$ cd funkit\n\u001b[?2004l\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ ls\n\u001b[?2004l\n\u001b[0m\u001b[0;36m_internal\u001b[0m  \u001b[01;32mfunkit\u001b[0m\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ ls -l\n\u001b[?2004l\ntotal 7848\ndrwxrwxr-x 29 gross gross    4096 Aug 13 19:39 \u001b[0m\u001b[0;36m_internal\u001b[0m\n-rwxr-xr-x  1 gross gross 8030008 Aug 13 19:39 \u001b[01;32mfunkit\u001b[0m\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ du \b\u001b[K\b\u001b[K\b\u001b[K\u0007du -s funkit\n\u001b[?2004l\n7844\tfunkit\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ ./pik\b\u001b[Kkit\n\u001b[?2004l\n[INFO 2025-08-13 19:40:41.646717] OpenAI API key set.\n[INFO 2025-08-13 19:42:13.014319] Imported 1\n[INFO] Imported funkit \u2192 doc 1\n[INFO] Imported 1 file(s), skipped 0.\n[INFO] Imported CHANGELOG.md \u2192 doc 1\n[INFO] Imported gui_tkinter_opml_works.py \u2192 doc 2\n[INFO] Imported ai_interface.py \u2192 doc 3\n[INFO] Imported document_386.txt \u2192 doc 4\n[INFO] Imported In_Quiet_Woods.txt \u2192 doc 5\n[INFO] Imported document_5.txt \u2192 doc 6\n[INFO] Imported document_47.txt \u2192 doc 7\n[INFO] Imported Hyperscope_Development_Plan.txt \u2192 doc 8\n[INFO] Imported setenv-mac.sh \u2192 doc 9\n[INFO] Imported Hyperscope_python_module_dev_Plan.txt \u2192 doc 10\n[INFO] Imported README.md \u2192 doc 11\n[INFO] Imported link_test.py \u2192 doc 12\n[INFO] Imported space_saver.py \u2192 doc 13\n[INFO] Imported build_python_with_tk.sh \u2192 doc 14\n[INFO] Imported gui.zip \u2192 doc 15\n[INFO] Imported document_7.png \u2192 doc 16\n[INFO] Imported .python-version \u2192 doc 17\n[INFO] Imported document_380.png \u2192 doc 18\n[INFO] Imported create_new_build.py \u2192 doc 19\n[INFO] Imported document_44.txt \u2192 doc 20\n[INFO] Imported main.c \u2192 doc 21\n[INFO] Imported run.sh \u2192 doc 22\n[INFO] Imported commands.py \u2192 doc 23\n[INFO] Imported sqlite_shell_access.sh \u2192 doc 24\n[INFO] Imported build_lean_no_torch.sh \u2192 doc 25\n[INFO] Imported document_48.txt \u2192 doc 26\n[INFO] Imported Love_and_intimacy.png \u2192 doc 27\n[INFO] Imported gui_tkinter_phase2_3_prefs.py \u2192 doc 28\n[INFO] Imported gui_tkinter_grokfix.py \u2192 doc 29\n[INFO] Imported document_64.png \u2192 doc 30\n[INFO] Imported build_and_benchmark.sh \u2192 doc 31\n[INFO] Imported documents-db.sqlite \u2192 doc 32\n[INFO] Imported release_1_2_1.sh \u2192 doc 33\n[INFO] Imported document_5.png \u2192 doc 34\n[INFO] Imported gui_tkinter_merged.py \u2192 doc 35\n[INFO] Imported add_test_doc.py \u2192 doc 36\n[INFO] Imported commit_opml-broken.sh \u2192 doc 37\n[INFO] Imported buildlog \u2192 doc 38\n[INFO] Imported commit_opml-broken2.sh \u2192 doc 39\n[INFO] Imported doctest.py \u2192 doc 40\n[INFO] Imported document_378.png \u2192 doc 41\n[INFO] Imported funkit-large.spec \u2192 doc 42\n[INFO] Imported Two_Girls_At_Table.png \u2192 doc 43\n[INFO] Imported document_66.png \u2192 doc 44\n[INFO] Imported google_system.py \u2192 doc 45\n[INFO] Imported hypertext_graph.png \u2192 doc 46\n[INFO] Imported .gitignore \u2192 doc 47\n[INFO] Imported VERSION \u2192 doc 48\n[INFO] Imported document_385.txt \u2192 doc 49\n[INFO] Imported funkit_standard.spec \u2192 doc 50\n[INFO] Imported gui_tkinter_backfix.py \u2192 doc 51\n[INFO] Imported working_requirements.txt \u2192 doc 52\n[INFO] Imported In_Tranquil_Groves.txt \u2192 doc 53\n[INFO] Imported test-add.py \u2192 doc 54\n[INFO] Imported Better_Schoolrooms.txt \u2192 doc 55\n[INFO] Imported No_Longer_Strangers.png \u2192 doc 56\n[INFO] Imported document_71.png \u2192 doc 57\n[INFO] Imported document_70.png \u2192 doc 58\n[INFO] Imported French_AI_Poem.txt \u2192 doc 59\n[INFO] Imported Communication.txt \u2192 doc 60\n[INFO] Imported document_45.txt \u2192 doc 61\n[INFO] Imported LICENSE \u2192 doc 62\n[INFO] Imported document_53.txt \u2192 doc 63\n[INFO] Imported new_link_test.py \u2192 doc 64\n[INFO] Imported document_388.png \u2192 doc 65\n[INFO] Imported gui_tkinter_green_links.py \u2192 doc 66\n[INFO] Imported fix_sqlite_column.py \u2192 doc 67\n[INFO] Imported document_33.png \u2192 doc 68\n[INFO] Imported build_python310_with_tk.sh \u2192 doc 69\n[INFO] Imported document_6.png \u2192 doc 70\n[INFO] Imported document_4.txt \u2192 doc 71\n[INFO] Imported tag_debug.py \u2192 doc 72\n[INFO] Imported commit_opml.sh \u2192 doc 73\n[INFO] Imported document_63.txt \u2192 doc 74\n[INFO] Imported requirements.txt \u2192 doc 75\n[INFO] Imported DemoKit_Intraweb_Ready.zip \u2192 doc 76\n[INFO] Imported TreeView-pre-opml.py \u2192 doc 77\n[INFO] Imported build_all_variants.sh \u2192 doc 78\n[INFO] Imported migrate_parent_id.py \u2192 doc 79\n[INFO] Imported test_sidebar_buttons.py \u2192 doc 80\n[INFO] Imported sample_documents.db \u2192 doc 81\n[INFO] Imported README-DB \u2192 doc 82\n[INFO] Imported document_69.png \u2192 doc 83\n[INFO] Imported build_funkit.sh \u2192 doc 84\n[INFO] Imported K_Vision.txt \u2192 doc 85\n[INFO] Imported setup_tkinter.sh \u2192 doc 86\n[INFO] Imported document_379.png \u2192 doc 87\n[INFO] Imported funkit.py \u2192 doc 88\n[INFO] Imported build_with_tk.old \u2192 doc 89\n[INFO] Imported Streamline_a_terminal_App \u2192 doc 90\n[INFO] Imported setup.sh \u2192 doc 91\n[INFO] Imported AI_ROADMAP \u2192 doc 92\n[INFO] Imported commit_and_push_opml.sh \u2192 doc 93\n[INFO] Imported main.py \u2192 doc 94\n[INFO] Imported document_400.png \u2192 doc 95\n[INFO] Imported PYLINT \u2192 doc 96\n[INFO] Imported build.log \u2192 doc 97\n[INFO] Imported commit.sh \u2192 doc 98\n[INFO] Imported doc_382.txt \u2192 doc 99\n[INFO] Imported Mouse-HOWTO \u2192 doc 100\n[INFO] Imported Porting_NLS.txt \u2192 doc 101\n[INFO] Imported Hypertext_Standards \u2192 doc 102\n[INFO] Imported document_386.png \u2192 doc 103\n[INFO] Imported funkit_lean.spec \u2192 doc 104\n[INFO] Imported clicktest.py \u2192 doc 105\n[INFO] Imported document_51.txt \u2192 doc 106\n[INFO] Imported run.sh-old \u2192 doc 107\n[INFO] Imported RELEASE_NOTES_v1.2.1 \u2192 doc 108\n[INFO] Imported funkit.spec \u2192 doc 109\n[INFO] Imported 109 file(s), skipped 0.\nBinary detected, converting to text using render_binary_as_text.\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ ls -ltra\n\u001b[?2004l\ntotal 0\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ df\n\u001b[?2004l\nFilesystem     1K-blocks      Used Available Use% Mounted on\ntmpfs             392556     41716    350840  11% /run\n/dev/sda2      229637452 196349428  21550272  91% /\ntmpfs            1962764    261536   1701228  14% /dev/shm\ntmpfs               5120         8      5112   1% /run/lock\ntmpfs            1962764         0   1962764   0% /run/qemu\ntmpfs            1962764      8192   1954572   1% /var/log\ntmpfs             392552       184    392368   1% /run/user/1000\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ du\n\u001b[?2004l\n4\t.\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ ls -ltrra\n\u001b[?2004l\ntotal 0\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ cd ..\n\u001b[?2004l\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist\u001b[00m$ ls -ltra\n\u001b[?2004l\ntotal 12\ndrwxrwxr-x 14 gross gross 4096 Aug 13 19:43 \u001b[0m\u001b[0;36m..\u001b[0m\ndrwxrwxr-x  3 gross gross 4096 Aug 13 19:44 \u001b[0;36m.\u001b[0m\ndrwxrwxr-x  3 gross gross 4096 Aug 13 19:44 \u001b[0;36mfunkit\u001b[0m\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist\u001b[00m$ fil\b\u001b[K\b\u001b[K\b\u001b[Kdu -s *\n\u001b[?2004l\n96752\tfunkit\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist\u001b[00m$ cd ..\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[Kc dp\b\u001b[K\b\u001b[K\b\u001b[Kd funkit\n\u001b[?2004l\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ ls\n\u001b[?2004l\n\u001b[0m\u001b[0;36m_internal\u001b[0m  \u001b[01;32mfunkit\u001b[0m\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ l s=-l\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u0007\u0007\u0007\u0007./bi\b\u001b[K\b\u001b[Kpkit\b\u001b[K\b\u001b[K\b\u001b[Kykit\n\u001b[?2004l\nbash: ./pykit: No such file or directory\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ cd pi\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u0007\u0007\u0007\u0007\u0007ls\n\u001b[?2004l\n\u001b[0m\u001b[0;36m_internal\u001b[0m  \u001b[01;32mfunkit\u001b[0m\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ ./funkit\b\u001b[Kt\n\u001b[?2004l\n[INFO 2025-08-13 19:46:54.182077] OpenAI API key set.\n[INFO] Imported generate_report.py \u2192 doc 1\n[INFO] Imported firefox-2.0.tar.gz \u2192 doc 2\n[INFO] Imported digital-metronome.mkv \u2192 doc 3\n[INFO] Imported .lesshst \u2192 doc 4\n[INFO] Imported Debt_Relief \u2192 doc 5\n[INFO] Imported backup_to_dvds_readloop.sh \u2192 doc 6\n[INFO] Imported vcat \u2192 doc 7\n[INFO] Imported network_analysis \u2192 doc 8\n[INFO] Imported bootstrapping.txt \u2192 doc 9\n[INFO] Imported document_115.txt \u2192 doc 10\n[INFO] Imported llama4-report \u2192 doc 11\n[INFO] Imported clean_old_build.sh \u2192 doc 12\n[INFO] Imported cyria_dopamine_receptors \u2192 doc 13\n[INFO] Imported profile-6A.ovpn \u2192 doc 14\n[INFO] Imported startvpn \u2192 doc 15\n[INFO] Imported startvsearch \u2192 doc 16\n[INFO] Imported loving-young-women-morally \u2192 doc 17\n[INFO] Imported .cyria_phone_use.swp \u2192 doc 18\n[INFO] Imported hyperscope-source.html \u2192 doc 19\n[INFO] Imported startvpn-stealth-old.sh \u2192 doc 20\n[INFO] Imported Quadratic_Dismissal \u2192 doc 21\n[INFO] Imported Romance_Psych_Today.txt \u2192 doc 22\n[INFO] Imported sample_outline.opml \u2192 doc 23\n[INFO] Imported documents.db \u2192 doc 24\n[INFO] Imported make_snapshot.sh \u2192 doc 25\n[INFO] Imported recovery_program-w-cannabis.rtf \u2192 doc 26\n[INFO] Imported ping_subnet.pl \u2192 doc 27\n[INFO] Imported Cyria-report \u2192 doc 28\n[INFO] Imported stopvpn-stealth.sh \u2192 doc 29\n[INFO] Imported mozilla_recovery_key \u2192 doc 30\n[INFO] Imported install_ff2_wine.sh \u2192 doc 31\n[INFO] Imported fix_stereo_aspect.sh \u2192 doc 32\n[INFO] Imported ffmpeg_batch_script.DOC \u2192 doc 33\n[INFO] Imported chatgpt-crystal-ball \u2192 doc 34\n[INFO] Imported setup_meta_quest_dev_env.sh \u2192 doc 35\n[INFO] Imported document_40.txt \u2192 doc 36\n[INFO] Imported he6in4 \u2192 doc 37\n[INFO] Imported metadata_backup.db \u2192 doc 38\n[INFO] Imported document_26.txt \u2192 doc 39\n[INFO] Imported html5-streamer.js \u2192 doc 40\n[INFO] Imported build_funkit_w_iso.sh \u2192 doc 41\n[INFO] Imported .vision_env \u2192 doc 42\n[INFO] Imported castaudio \u2192 doc 43\n[INFO] Imported castscreen \u2192 doc 44\n[INFO] Imported reverse-ssh-over-dual-NAT \u2192 doc 45\n[INFO] Imported start-stunnel \u2192 doc 46\n[INFO] Imported certgen \u2192 doc 47\n[INFO] Imported build_pykit_appliance_v7.sh \u2192 doc 48\n[INFO] Imported loving-a-drug-addict \u2192 doc 49\n[INFO] Imported .selected_editor \u2192 doc 50\n[INFO] Imported Python-3.10.14.tgz \u2192 doc 51\n[INFO] Imported chyron_overlay.webm \u2192 doc 52\n[INFO] Imported release_1_2_1.sh \u2192 doc 53\n[INFO] Imported hospice_requirements \u2192 doc 54\n[INFO] Imported stopvpn.sh \u2192 doc 55\n[INFO] Imported vpnmenu.sh \u2192 doc 56\n[INFO] Imported chyron_overlay_scroll.webm \u2192 doc 57\n[INFO] Imported make-pykit-usb-appliance-v9.sh \u2192 doc 58\n[INFO] Imported draw_staff.py \u2192 doc 59\n[INFO] Imported key.pem \u2192 doc 60\n[INFO] Imported warn-funkit.txt \u2192 doc 61\n[INFO] Imported .Debt_Relief.swp \u2192 doc 62\n[INFO] Imported .wget-hsts \u2192 doc 63\n[INFO] Imported pkgsrc.tar.gz \u2192 doc 64\n[INFO] Imported primiere_bankcard \u2192 doc 65\n[INFO] Imported scrolling_test.webm \u2192 doc 66\n[WARNING] Skipped funkit-final-w-torch.exe: BLOB longer than INT_MAX bytes\n[INFO] Imported openai.key \u2192 doc 67\n[INFO] Imported secrets.tgz \u2192 doc 68\n[INFO] Imported bootstrapping_symposium_transcript_0712.txt \u2192 doc 69\n[INFO] Imported dist.tgz \u2192 doc 70\n[INFO] Imported hyperscope-demo.txt \u2192 doc 71\n[INFO] Imported burndir.sh \u2192 doc 72\n[INFO] Imported startvpn.sh \u2192 doc 73\n[INFO] Imported Quadratic_Attachement_Expansion.txt \u2192 doc 74\n[INFO] Imported speedtest_monitor.sh \u2192 doc 75\n[INFO] Imported pxe-dnsmasq.conf \u2192 doc 76\n[INFO] Imported ADHD-help \u2192 doc 77\n[INFO] Imported restart-vpn.sh \u2192 doc 78\n[WARNING] Skipped funkit-3G.exe: BLOB longer than INT_MAX bytes\n[INFO] Imported install_video_search_local.sh \u2192 doc 79\n[INFO] Imported Engelbart_Bootstrapping.txt \u2192 doc 80\n[INFO] Imported boostrapping.opml \u2192 doc 81\n[INFO] Imported cast \u2192 doc 82\n[INFO] Imported trinity.mp3 \u2192 doc 83\n[INFO] Imported vidserver.js \u2192 doc 84\n[INFO] Imported .text_output.swp \u2192 doc 85\n[INFO] Imported video_metadata.db \u2192 doc 86\n[INFO] Imported .gitconfig \u2192 doc 87\n[INFO] Imported openvpn-config \u2192 doc 88\n[INFO] Imported brautigan-cgbt-advice \u2192 doc 89\n[INFO] Imported AI_Romance \u2192 doc 90\n[INFO] Imported build_pykit_usb.sh \u2192 doc 91\n[INFO] Imported make_pykit_usb_appliance_v10.1.sh \u2192 doc 92\n[INFO] Imported Romance-Paper.txt \u2192 doc 93\n[INFO] Imported .bashrc \u2192 doc 94\n[INFO] Imported build_pykit_usb_appliance_sdb1.sh \u2192 doc 95\n[INFO] Imported trinity-rt_lame.mp3 \u2192 doc 96\n[INFO] Imported startvpn.old.sh \u2192 doc 97\n[INFO] Imported startvpn-tcp.sh \u2192 doc 98\n[INFO] Imported gpt-server.tgz \u2192 doc 99\n[INFO] Imported .profile \u2192 doc 100\nKilled\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ ls -ltra\n\u001b[?2004l\ntotal 7860\ndrwxrwxr-x  3 gross gross    4096 Aug 13 19:44 \u001b[0m\u001b[0;36m..\u001b[0m\n-rwxr-xr-x  1 gross gross 8030008 Aug 13 19:44 \u001b[01;32mfunkit\u001b[0m\ndrwxrwxr-x 29 gross gross    4096 Aug 13 19:44 \u001b[0;36m_internal\u001b[0m\ndrwxrwxr-x  4 gross gross    4096 Aug 13 19:46 \u001b[0;36m.\u001b[0m\ndrwxrwxr-x  2 gross gross    4096 Aug 13 19:47 \u001b[0;36mstorage\u001b[0m\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ du\n\u001b[?2004l\n377824\t./storage\n20\t./_internal/_tcl_data/http1.0\n40\t./_internal/_tcl_data/opt0.4\n512\t./_internal/_tcl_data/msgs\n12\t./_internal/_tcl_data/tcl8/platform\n284\t./_internal/_tcl_data/tcl8\n1696\t./_internal/_tcl_data/encoding\n2848\t./_internal/_tcl_data\n60\t./_internal/simplejson\n32\t./_internal/werkzeug-3.1.3.dist-info\n2632\t./_internal/cryptography/hazmat/bindings\n2636\t./_internal/cryptography/hazmat\n2640\t./_internal/cryptography\n132\t./_internal/ossl-modules\n24\t./_internal/attrs-23.2.0.dist-info\n128\t./_internal/yarl\n24\t./_internal/itsdangerous-2.2.0.dist-info\n52\t./_internal/bcrypt\n20\t./_internal/markupsafe\n2496\t./_internal/lib-dynload\n100\t./_internal/frozenlist\n248\t./_internal/aiohttp/_websocket\n796\t./_internal/aiohttp\n8\t./_internal/flask-3.1.1.dist-info/licenses\n32\t./_internal/flask-3.1.1.dist-info\n28\t./_internal/cryptography.egg-info\n288\t./_internal/certifi\n23240\t./_internal/numpy.libs\n228\t./_internal/yaml\n916\t./_internal/PIL\n112\t./_internal/multidict\n124\t./_internal/_tk_data/images\n120\t./_internal/_tk_data/msgs\n180\t./_internal/_tk_data/ttk\n1004\t./_internal/_tk_data\n96\t./_internal/propcache\n580\t./_internal/numpy/fft\n204\t./_internal/numpy/linalg\n2900\t./_internal/numpy/random\n9948\t./_internal/numpy/_core\n13636\t./_internal/numpy\n236\t./_internal/numpy-2.2.4.dist-info\n56\t./_internal/psutil\n20\t./_internal/importlib_metadata-4.12.0.dist-info\n9016\t./_internal/pillow.libs\n88904\t./_internal\n474576\t.\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ du -s\n\u001b[?2004l\n474576\t.\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ ls -ltra\n\u001b[?2004l\ntotal 7860\ndrwxrwxr-x  3 gross gross    4096 Aug 13 19:44 \u001b[0m\u001b[0;36m..\u001b[0m\n-rwxr-xr-x  1 gross gross 8030008 Aug 13 19:44 \u001b[01;32mfunkit\u001b[0m\ndrwxrwxr-x 29 gross gross    4096 Aug 13 19:44 \u001b[0;36m_internal\u001b[0m\ndrwxrwxr-x  4 gross gross    4096 Aug 13 19:46 \u001b[0;36m.\u001b[0m\ndrwxrwxr-x  2 gross gross    4096 Aug 13 19:47 \u001b[0;36mstorage\u001b[0m\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ ./funkit\n\u001b[?2004l\n[INFO 2025-08-13 19:48:21.745268] OpenAI API key set.\nBinary detected, converting to text using render_binary_as_text.\nBinary detected, converting to text using render_binary_as_text.\n^CTraceback (most recent call last):\n  File \"main.py\", line 25, in <module>\n  File \"main.py\", line 22, in main\n  File \"tkinter/__init__.py\", line 1504, in mainloop\nKeyboardInterrupt\n[PYI-186393:ERROR] Failed to execute script 'main' due to unhandled exception!\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ vi modules/gui__\b\u001b[Ktkinter.py\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/gui_tkinter.py\" [New DIRECTORY]\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[2;1H\u001b[94m~                                                                                                                                   \u001b[3;1H~                                                                                                                                   \u001b[4;1H~                                                                                                                                   \u001b[5;1H~                                                                                                                                   \u001b[6;1H~                                                                                                                                   \u001b[7;1H~                                                                                                                                   \u001b[8;1H~                                                                                                                                   \u001b[9;1H~                                                                                                                                   \u001b[10;1H~                                                                                                                                   \u001b[11;1H~                                                                                                                                   \u001b[12;1H~                                                                                                                                   \u001b[13;1H~                                                                                                                                   \u001b[14;1H~                                                                                                                                   \u001b[15;1H~                                                                                                                                   \u001b[16;1H~                                                                                                                                   \u001b[17;1H~                                                                                                                                   \u001b[18;1H~                                                                                                                                   \u001b[19;1H~                                                                                                                                   \u001b[20;1H~                                                                                                                                   \u001b[21;1H~                                                                                                                                   \u001b[22;1H~                                                                                                                                   \u001b[23;1H~                                                                                                                                   \u001b[24;1H~                                                                                                                                   \u001b[25;1H~                                                                                                                                   \u001b[26;1H~                                                                                                                                   \u001b[27;1H~                                                                                                                                   \u001b[28;1H~                                                                                                                                   \u001b[29;1H~                                                                                                                                   \u001b[30;1H~                                                                                                                                   \u001b[31;1H~                                                                                                                                   \u001b[32;1H~                                                                                                                                   \u001b[33;1H~                                                                                                                                   \u001b[34;1H~                                                                                                                                   \u001b[35;1H~                                                                                                                                   \u001b[36;1H~                                                                                                                                   \u001b[37;1H~                                                                                                                                   \u001b[38;1H~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;115H0,0-1\u001b[9CAll\u001b[1;1H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[2;1H\u001b[94m~                                                                                                                                   \u001b[3;1H~                                                                                                                                   \u001b[4;1H~                                                                                                                                   \u001b[5;1H~                                                                                                                                   \u001b[6;1H~                                                                                                                                   \u001b[7;1H~                                                                                                                                   \u001b[8;1H~                                                                                                                                   \u001b[9;1H~                                                                                                                                   \u001b[10;1H~                                                                                                                                   \u001b[11;1H~                                                                                                                                   \u001b[12;1H~                                                                                                                                   \u001b[13;1H~                                                                                                                                   \u001b[14;1H~                                                                                                                                   \u001b[15;1H~                                                                                                                                   \u001b[16;1H~                                                                                                                                   \u001b[17;1H~                                                                                                                                   \u001b[18;1H~                                                                                                                                   \u001b[19;1H~                                                                                                                                   \u001b[20;1H~                                                                                                                                   \u001b[21;1H~                                                                                                                                   \u001b[22;1H~                                                                                                                                   \u001b[23;1H~                                                                                                                                   \u001b[24;1H~                                                                                                                                   \u001b[25;1H~                                                                                                                                   \u001b[26;1H~                                                                                                                                   \u001b[27;1H~                                                                                                                                   \u001b[28;1H~                                                                                                                                   \u001b[29;1H~                                                                                                                                   \u001b[30;1H~                                                                                                                                   \u001b[31;1H~                                                                                                                                   \u001b[32;1H~                                                                                                                                   \u001b[33;1H~                                                                                                                                   \u001b[34;1H~                                                                                                                                   \u001b[35;1H~                                                                                                                                   \u001b[36;1H~                                                                                                                                   \u001b[37;1H~                                                                                                                                   \u001b[38;1H~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;115H0,0-1\u001b[9CAll\n\"modules/gui_tkinter.py\" [New DIRECTORY]\u001b[1;1H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[1;1H\u001b[40;1H\u001b[K\u001b[40;1H:\u001b[?25hq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\u001b[23;2t\u001b[23;1t\u001b[40;1H\u001b[K\u001b[40;1H\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ cd\b\u001b[K\b\u001b[Kls -lr\n\u001b[?2004l\ntotal 7852\ndrwxrwxr-x  2 gross gross    4096 Aug 13 19:49 \u001b[0m\u001b[0;36mstorage\u001b[0m\n-rwxr-xr-x  1 gross gross 8030008 Aug 13 19:44 \u001b[01;32mfunkit\u001b[0m\ndrwxrwxr-x 29 gross gross    4096 Aug 13 19:44 \u001b[0;36m_internal\u001b[0m\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist/funkit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist/funkit\u001b[00m$ cd ..\n\u001b[?2004l\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit/dist\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit/dist\u001b[00m$ cd ..\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[Kcd ..\n\u001b[?2004l\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ cd ..\b\b\b\b\bls -lr\b\b\b\b\b\bvi modules/gui_tkinter.py\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/gui_tkinter.py\" [noeol] 1568L, 68420B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;5HSIDEBAR_WIDTH = \u001b[31m320\u001b[m\u001b[2;1H\u001b[K\u001b[3;1H    \u001b[38;5;130mdef\u001b[m \u001b[36m__init__\u001b[m(self, doc_store, processor):\u001b[3;46H\u001b[K\u001b[4;9H\u001b[36msuper\u001b[m().__init__()\u001b[5;9Hself.doc_store = doc_store\u001b[6;9Hself.processor = processor\u001b[7;9Hself.logger: Logger = \u001b[36mgetattr\u001b[m(processor, \u001b[31m\"logger\"\u001b[m, Logger())\u001b[8;9Hself.current_doc_id: \u001b[36mint\u001b[m | \u001b[36mNone\u001b[m = \u001b[36mNone\u001b[m\u001b[9;9Hself.history: \u001b[36mlist\u001b[m[\u001b[36mint\u001b[m] = []\u001b[11;9H\u001b[34m# image state\u001b[m\u001b[12;9Hself._last_pil_img: Image.Image | \u001b[36mNone\u001b[m = \u001b[36mNone\u001b[m\u001b[13;9Hself._last_tk_img: ImageTk.PhotoImage | \u001b[36mNone\u001b[m = \u001b[36mNone\u001b[m\u001b[14;9Hself._image_enlarged: \u001b[36mbool\u001b[m = \u001b[36mFalse\u001b[m\u001b[16;9H\u001b[34m# ---- Settings ----\u001b[m\u001b[17;9Hself.settings = self._load_settings()\u001b[18;9Hself.opml_expand_depth: \u001b[36mint\u001b[m = \u001b[36mint\u001b[m(self.settings.get(\u001b[31m\"opml_expand_depth\"\u001b[m, \u001b[31m2\u001b[m))\u001b[20;9Hself.title\u001b[106m(\u001b[m\u001b[31m\"Engelbart Journal \u2014\u001b[20;40H DemoKit\"\u001b[m\u001b[106m)\u001b[m\u001b[21;9Hself._set_window_title(\u001b[31m\"Phase 2.5.4 (URL modes + cancel)\"\u001b[m)\u001b[22;9Hself.geometry(\u001b[31m\"1200x800\"\u001b[m)\u001b[23;9Hself.columnconfigure(\u001b[31m0\u001b[m, minsize=self.SIDEBAR_WIDTH, weight=\u001b[31m0\u001b[m)\u001b[24;9Hself.columnconfigure(\u001b[31m1\u001b[m, weight=\u001b[31m1\u001b[m)\u001b[25;9Hself.rowconfigure(\u001b[31m0\u001b[m, weight=\u001b[31m1\u001b[m)\u001b[27;9Hself._build_sidebar()\u001b[28;9Hself._build_main_pane()\u001b[29;9Hself._build_context_menu()\u001b[31;9H\u001b[34m# --- Menubar ---\u001b[m\u001b[32;9Hmenubar = tk.Menu(self)\u001b[33;9H\u001b[34m# File menu\u001b[m\u001b[34;9Hfilemenu = tk.Menu(menubar, tearoff=\u001b[31m0\u001b[m)\u001b[35;9Hfilemenu.add_command(label=\u001b[31m\"Import\"\u001b[m, command=self._import_doc)\u001b[36;9Hfilemenu.add_command(label=\u001b[31m\"Import URL \u2192\u001b[36;49H OPML\"\u001b[m, command=self._import_url_as_opml)\u001b[37;9Hfilemenu.add_command(label=\u001b[31m\"Import HTML \u2192\u001b[37;50H OPML\"\u001b[m, command=self._import_html_as_opml)\u001b[38;9Hfilemenu.add_command(label=\u001b[31m\"Export Current\"\u001b[m, command=self._export_doc)\u001b[39;9Hfilemenu.add_separator()\u001b[40;115H63,51-49\u001b[7C2%\u001b[20;49H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H0\u001b[20;49H\u001b[40;106H3\u001b[20;49H\u001b[40;107H0\u001b[20;49H\u001b[40;108H/\u001b[20;49H\u001b[40;109H0\u001b[20;49H\u001b[40;110Ha\u001b[20;49H\u001b[40;111H0\u001b[20;49H\u001b[40;112Ha\u001b[20;49H\u001b[40;113H/\u001b[20;49H\u001b[40;114H2\u001b[20;49H\u001b[40;105H          \u001b[20;49H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;5HSIDEBAR_WIDTH = \u001b[95m320\u001b[m\u001b[3;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m__init__\u001b[m(self, doc_store, processor):\u001b[4;9H\u001b[1m\u001b[96msuper\u001b[m().__init__()\u001b[5;9Hself.doc_store = doc_store\u001b[6;9Hself.processor = processor\u001b[7;9Hself.logger: Logger = \u001b[1m\u001b[96mgetattr\u001b[m(processor, \u001b[95m\"logger\"\u001b[m, Logger())\u001b[8;9Hself.current_doc_id: \u001b[1m\u001b[96mint\u001b[m | \u001b[1m\u001b[96mNone\u001b[m = \u001b[1m\u001b[96mNone\u001b[m\u001b[9;9Hself.history: \u001b[1m\u001b[96mlist\u001b[m[\u001b[1m\u001b[96mint\u001b[m] = []\u001b[11;9H\u001b[96m# image state\u001b[m\u001b[12;9Hself._last_pil_img: Image.Image | \u001b[1m\u001b[96mNone\u001b[m = \u001b[1m\u001b[96mNone\u001b[m\u001b[13;9Hself._last_tk_img: ImageTk.PhotoImage | \u001b[1m\u001b[96mNone\u001b[m = \u001b[1m\u001b[96mNone\u001b[m\u001b[14;9Hself._image_enlarged: \u001b[1m\u001b[96mbool\u001b[m = \u001b[1m\u001b[96mFalse\u001b[m\u001b[16;9H\u001b[96m# ---- Settings ----\u001b[m\u001b[17;9Hself.settings = self._load_settings()\u001b[18;9Hself.opml_expand_depth: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mint\u001b[m(self.settings.get(\u001b[95m\"opml_expand_depth\"\u001b[m, \u001b[95m2\u001b[m))\u001b[20;9Hself.title\u001b[46m(\u001b[m\u001b[95m\"Engelbart Journal \u2014\u001b[20;40H DemoKit\"\u001b[m\u001b[46m)\u001b[m\u001b[21;9Hself._set_window_title(\u001b[95m\"Phase 2.5.4 (URL modes + cancel)\"\u001b[m)\u001b[22;9Hself.geometry(\u001b[95m\"1200x800\"\u001b[m)\u001b[23;9Hself.columnconfigure(\u001b[95m0\u001b[m, minsize=self.SIDEBAR_WIDTH, weight=\u001b[95m0\u001b[m)\u001b[24;9Hself.columnconfigure(\u001b[95m1\u001b[m, weight=\u001b[95m1\u001b[m)\u001b[25;9Hself.rowconfigure(\u001b[95m0\u001b[m, weight=\u001b[95m1\u001b[m)\u001b[27;9Hself._build_sidebar()\u001b[28;9Hself._build_main_pane()\u001b[29;9Hself._build_context_menu()\u001b[31;9H\u001b[96m# --- Menubar ---\u001b[m\u001b[32;9Hmenubar = tk.Menu(self)\u001b[33;9H\u001b[96m# File menu\u001b[m\u001b[34;9Hfilemenu = tk.Menu(menubar, tearoff=\u001b[95m0\u001b[m)\u001b[35;9Hfilemenu.add_command(label=\u001b[95m\"Import\"\u001b[m, command=self._import_doc)\u001b[36;9Hfilemenu.add_command(label=\u001b[95m\"Import URL \u2192\u001b[36;49H OPML\"\u001b[m, command=self._import_url_as_opml)\u001b[37;9Hfilemenu.add_command(label=\u001b[95m\"Import HTML \u2192\u001b[37;50H OPML\"\u001b[m, command=self._import_html_as_opml)\u001b[38;9Hfilemenu.add_command(label=\u001b[95m\"Export Current\"\u001b[m, command=self._export_doc)\u001b[39;9Hfilemenu.add_separator()\u001b[40;115H63,51-49\u001b[7C2%\n\"modules/gui_tkinter.py\" [noeol] 1568L, 68420B\u001b[20;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[20;49H\u001b[40;105H   \u001b[21;49H\u001b[20;19H(\u001b[29C)\u001b[40;116H4,49   \u001b[21;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;49H\u001b[40;105H   \u001b[22;33H\u001b[22;22H\u001b[46m(\u001b[10C)\u001b[m\u001b[40;116H5,33\u001b[22;33H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;33H\u001b[40;105H   \u001b[23;49H\u001b[22;22H(\u001b[10C)\u001b[40;116H6,49\u001b[23;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;49H\u001b[40;105H   \u001b[24;41H\u001b[24;29H\u001b[46m(\u001b[11C)\u001b[m\u001b[40;116H7,41\u001b[24;41H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;41H\u001b[40;105H   \u001b[25;38H\u001b[24;29H(\u001b[11C)\u001b[25;26H\u001b[46m(\u001b[11C)\u001b[m\u001b[40;116H8,38\u001b[25;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;38H\u001b[40;105H   \u001b[26;1H\u001b[25;26H(\u001b[11C)\u001b[40;116H9,0-1\u001b[26;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;1H\u001b[40;105H   \u001b[27;29H\b\u001b[46m()\u001b[m\u001b[40;115H70,29 \u001b[27;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;29H\u001b[40;105H   \u001b[28;31H\u001b[27;28H()\u001b[28;30H\u001b[46m()\u001b[m\u001b[40;116H1,31\u001b[28;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;31H\u001b[40;105H   \u001b[29;34H\u001b[28;30H()\u001b[29;33H\u001b[46m()\u001b[m\u001b[40;116H2,34\u001b[29;34H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;34H\u001b[40;105H   \u001b[30;1H\u001b[29;33H()\u001b[40;116H3,0-1\u001b[30;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;1H\u001b[40;105H   \u001b[31;25H\u001b[40;116H4,25 \u001b[31;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;25H\u001b[40;105H   \u001b[32;31H\b\b\b\b\b\u001b[46m(\u001b[mself\u001b[46m)\u001b[m\u001b[40;116H5,31\u001b[32;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;31H\u001b[40;105H   \u001b[33;19H\u001b[32;26H(self)\u001b[40;116H6,19\u001b[33;19H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[33;19H\u001b[40;105H   \u001b[34;46H\u001b[34;27H\u001b[46m(\u001b[18C)\u001b[m\u001b[40;116H7,46\u001b[34;46H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;46H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;27H(\u001b[18C)\u001b[39;9Hfilemenu.add_command(label=\u001b[95m\"Export to Intraweb\"\u001b[m, command=self.export_and_launch_server)\u001b[40;1H\u001b[K\u001b[40;115H78,49\u001b[10C2%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hfilemenu.add_separator()\u001b[40;115H\u001b[K\u001b[40;115H79,51-49\u001b[7C2%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hfilemenu.add_command(label=\u001b[95m\"Quit\"\u001b[m, command=self.destroy)\u001b[40;115H\u001b[K\u001b[40;115H80,49\u001b[10C3%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hmenubar.add_cascade(label=\u001b[95m\"File\"\u001b[m, menu=filemenu)\u001b[40;115H\u001b[K\u001b[40;115H81,49\u001b[10C3%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;32H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;31H\u001b[46m()\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H82,32\u001b[10C3%\u001b[34;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;32H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;31H()\u001b[39;9H\u001b[96m# View menu (adds TreeView entry + shortcut + depth)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H83,49\u001b[10C3%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;32H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;31H\u001b[46m()\u001b[m\u001b[39;9Hviewmenu = tk.Menu(menubar, tearoff=\u001b[95m0\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H84,32\u001b[10C3%\u001b[34;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;32H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;31H()\u001b[39;9Hviewmenu.add_command(label=\u001b[95m\"Document Tree\u001b[m\u001b[38;5;224m\\t\u001b[m\u001b[95mCtrl+T\"\u001b[m, command=self.on_tree_button)\u001b[40;115H\u001b[K\u001b[40;115H85,49\u001b[10C3%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hviewmenu.add_separator()\u001b[40;115H\u001b[K\u001b[40;115H86,49\u001b[10C3%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hviewmenu.add_command(label=\u001b[95m\"Set OPML Expand Depth\u2026\u001b[39;59H\"\u001b[m, command=self._set_opml_expand_depth)\u001b[40;115H\u001b[K\u001b[40;115H87,0-1\u001b[9C3%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hmenubar.add_cascade(label=\u001b[95m\"View\"\u001b[m, menu=viewmenu)\u001b[40;115H\u001b[K\u001b[40;115H88,49\u001b[10C3%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;46H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;27H\u001b[46m(\u001b[18C)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H89,46\u001b[10C3%\u001b[34;46H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;46H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;27H(\u001b[18C)\u001b[39;9Hself.config(menu=menubar)\u001b[40;115H\u001b[K\u001b[40;115H90,49\u001b[10C3%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;32H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;31H\u001b[46m()\u001b[m\u001b[39;9H\u001b[96m# Keyboard shortcut\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H91,32\u001b[10C3%\u001b[34;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;32H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;31H()\u001b[39;9Hself.bind(\u001b[95m\"<Control-t>\"\u001b[m, \u001b[93mlambda\u001b[m e: self.on_tree_button())\u001b[40;115H\u001b[K\u001b[40;115H92,49\u001b[10C3%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H93,49\u001b[10C3%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._refresh_sidebar()\u001b[40;115H\u001b[K\u001b[40;115H94,0-1\u001b[9C3%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;33H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;20H\u001b[46m(\u001b[12C)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H95,33\u001b[10C3%\u001b[34;33H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;33H\u001b[40;105H   \u001b[34;27H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;20H(\u001b[12C)\u001b[39;5H\u001b[96m# ---------------- Window title helper ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H96,27\u001b[10C4%\u001b[34;27H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;27H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_set_window_title\u001b[m(self, phase_label: \u001b[1m\u001b[96mstr\u001b[m | \u001b[1m\u001b[96mNone\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H97,49\u001b[10C4%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[95m\"\"\"Set a clean base title and optional phase label without accumulating old labels.\"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H98,0-1\u001b[9C4%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;31H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;30H\u001b[46m()\u001b[m\u001b[39;9H\u001b[38;5;81mimport\u001b[m re \u001b[93mas\u001b[m _re\u001b[40;115H\u001b[K\u001b[40;115H99,31\u001b[10C4%\u001b[34;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;31H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;30H()\u001b[39;9H\u001b[96m# Derive base from current title once, stripping any prior \" \u2014\u001b[39;71H Phase ...\" suffixes.\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H100,0-1\u001b[8C4%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hcur = self.title()\u001b[40;115H\u001b[K\u001b[40;115H101,49\u001b[9C4%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hbase = _re.split(\u001b[95mr\"\\s+\u2014\u001b[39;32H\\s+Phase\\s+[\\d\\.]+.*$\"\u001b[m, cur)[\u001b[95m0\u001b[m]\u001b[40;115H\u001b[K\u001b[40;115H102,49\u001b[9C4%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hbase = _re.split(\u001b[95mr\"\\s+\u2014\u001b[39;32H\\s+Phase\\s+.*$\"\u001b[m, base)[\u001b[95m0\u001b[m]\u001b[40;115H\u001b[K\u001b[40;115H103,49\u001b[9C4%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;24H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mgetattr\u001b[m(self, \u001b[95m\"_base_title\"\u001b[m, \u001b[1m\u001b[96mNone\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H104,24\u001b[9C4%\u001b[34;24H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;24H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._base_title = base \u001b[93mor\u001b[m \u001b[95m\"FunKit / DemoKit\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H105,49\u001b[9C4%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;26H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;25H\u001b[46m()\u001b[m\u001b[39;9Htitle = self._base_title\u001b[40;115H\u001b[K\u001b[40;115H106,26\u001b[9C4%\u001b[34;26H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;26H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;25H()\u001b[39;9H\u001b[93mif\u001b[m phase_label:\u001b[40;115H\u001b[K\u001b[40;115H107,51-49      4%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Htitle = f\u001b[95m\"{title} \u2014\u001b[39;32H {phase_label}\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H108,51-49      4%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;23H\u001b[46m(\u001b[25C)\u001b[m\u001b[39;9Hself.title(title)\u001b[40;115H\u001b[K\u001b[40;115H109,49\u001b[9C4%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;23H(\u001b[25C)\u001b[40;115H\u001b[K\u001b[40;115H110,49\u001b[9C4%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;32H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[96m# ---------------- Settings ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H111,32\u001b[9C5%\u001b[34;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;32H\u001b[40;105H   \u001b[34;23H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H112,23\u001b[9C5%\u001b[34;23H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;23H\u001b[40;105H   \u001b[34;46H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_load_settings\u001b[m(self) -> \u001b[1m\u001b[96mdict\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H113,48-46      5%\u001b[34;46H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;46H\u001b[40;105H   \u001b[34;25H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;19H\u001b[46m(\u001b[mtitle\u001b[46m)\u001b[m\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H114,25\u001b[9C5%\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;25H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;19H(title)\u001b[39;13H\u001b[93mif\u001b[m SETTINGS_FILE.exists():\u001b[40;115H\u001b[K\u001b[40;115H115,0-1\u001b[8C5%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;48H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mreturn\u001b[m json.loads(SETTINGS_FILE.read_text(encoding=\u001b[95m\"utf-8\"\u001b[m))\u001b[40;115H\u001b[K\u001b[40;115H116,48\u001b[9C5%\u001b[34;48H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;48H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H117,0-1\u001b[8C5%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;37H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mpass\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H118,37\u001b[9C5%\u001b[34;37H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;37H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mreturn\u001b[m {}\u001b[40;115H\u001b[K\u001b[40;115H119,12\u001b[9C5%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H120,38\u001b[9C5%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_save_settings\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H121,49\u001b[9C5%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;25H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H122,25\u001b[9C5%\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;25H\u001b[40;105H   \u001b[34;16H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13HSETTINGS_FILE.write_text(json.dumps(self.settings, indent=\u001b[95m2\u001b[m), encoding=\u001b[95m\"utf-8\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H123,16\u001b[9C5%\u001b[34;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;16H\u001b[40;105H   \u001b[34;17H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;16H\u001b[46m{}\u001b[m\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H124,17\u001b[9C5%\u001b[34;17H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;17H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;16H{}\u001b[39;13H\u001b[1m\u001b[96mprint\u001b[m(\u001b[95m\"[WARN] Could not save settings:\"\u001b[m, e)\u001b[40;115H\u001b[K\u001b[40;115H125,0-1\u001b[8C5%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;29H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H126,29\u001b[9C6%\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;29H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_set_opml_expand_depth\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H127,12\u001b[9C6%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hval = simpledialog.askinteger(\u001b[40;115H\u001b[K\u001b[40;115H128,49\u001b[9C6%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;30H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[95m\"OPML Expand Depth\"\u001b[m,\u001b[40;115H\u001b[K\u001b[40;115H129,30\u001b[9C6%\u001b[34;30H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;30H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[95m\"Expand OPML to depth (0=root, 1=children, 2=grandchildren\u2026\u001b[39;72H):\"\u001b[m,\u001b[40;115H\u001b[K\u001b[40;115H130,49\u001b[9C6%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hinitialvalue=self.opml_expand_depth,\u001b[40;115H\u001b[K\u001b[40;115H131,0-1\u001b[8C6%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;37H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hminvalue=\u001b[95m0\u001b[m,\u001b[40;115H\u001b[K\u001b[40;115H132,37\u001b[9C6%\u001b[34;37H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;37H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmaxvalue=\u001b[95m99\u001b[m,\u001b[40;115H\u001b[K\u001b[40;115H133,38\u001b[9C6%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;32H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H)\u001b[40;115H\u001b[K\u001b[40;115H134,32\u001b[9C6%\u001b[34;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;32H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m val \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H135,49\u001b[9C6%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;48H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H136,48\u001b[9C6%\u001b[34;48H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;48H\u001b[40;105H   \u001b[34;23H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.opml_expand_depth = \u001b[1m\u001b[96mint\u001b[m(val)\u001b[40;115H\u001b[K\u001b[40;115H137,23\u001b[9C6%\u001b[34;23H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;23H\u001b[40;105H   \u001b[34;24H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.settings[\u001b[95m\"opml_expand_depth\"\u001b[m] = self.opml_expand_depth\u001b[40;115H\u001b[K\u001b[40;115H138,24\u001b[9C6%\u001b[34;24H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;24H\u001b[40;105H   \u001b[34;9H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[28;38H\u001b[46m(\u001b[34;9H)\u001b[m\u001b[39;9Hself._save_settings()\u001b[40;115H\u001b[K\u001b[40;115H139,9\u001b[10C6%\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;9H\u001b[40;105H   \u001b[34;23H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[27;38H(\u001b[33;9H)\u001b[39;9H\u001b[96m# If a Tree window with OPML loaded is open, apply immediately\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H140,23\u001b[9C6%\u001b[34;23H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;23H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hwin = \u001b[1m\u001b[96mgetattr\u001b[m(self, \u001b[95m\"tree_win\"\u001b[m, \u001b[1m\u001b[96mNone\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H141,18\u001b[9C6%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;41H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;37H\u001b[46m(\u001b[mval\u001b[46m)\u001b[m\u001b[39;9H\u001b[93mif\u001b[m win \u001b[93mand\u001b[m win.winfo_exists():\u001b[40;115H\u001b[K\u001b[40;115H142,41\u001b[9C7%\u001b[34;41H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;41H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;37H(val)\u001b[39;13Hself._apply_opml_expand_depth()\u001b[40;115H\u001b[K\u001b[40;115H143,49\u001b[9C7%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;29H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;28H\u001b[46m()\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H144,29\u001b[9C7%\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;29H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;28H()\u001b[39;5H\u001b[96m# ---------------- Sidebar ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H145,49\u001b[9C7%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;45H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;22H\u001b[46m(\u001b[22C)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H146,45\u001b[9C7%\u001b[34;45H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;45H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;22H(\u001b[22C)\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_build_sidebar\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H147,38\u001b[9C7%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;43H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;42H\u001b[46m()\u001b[m\u001b[39;9Hframe = tk.Frame(self)\u001b[40;115H\u001b[K\u001b[40;115H148,43\u001b[9C7%\u001b[34;43H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;43H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;42H()\u001b[39;9Hframe.grid(row=\u001b[95m0\u001b[m, column=\u001b[95m0\u001b[m, sticky=\u001b[95m\"nswe\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H149,0-1\u001b[8C7%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;47H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.sidebar = ttk.Treeview(frame, columns=(\u001b[95m\"ID\"\u001b[m, \u001b[95m\"Title\"\u001b[m, \u001b[95m\"Description\"\u001b[m), show=\u001b[95m\"headings\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H150,47\u001b[9C7%\u001b[34;47H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;47H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mfor\u001b[m col, w \u001b[93min\u001b[m ((\u001b[95m\"ID\"\u001b[m, \u001b[95m60\u001b[m), (\u001b[95m\"Title\"\u001b[m, \u001b[95m120\u001b[m), (\u001b[95m\"Description\"\u001b[m, \u001b[95m160\u001b[m)):\u001b[40;115H\u001b[K\u001b[40;115H151,0-1\u001b[8C7%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;29H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.sidebar.heading(col, text=col)\u001b[40;115H\u001b[K\u001b[40;115H152,29\u001b[9C7%\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;29H\u001b[40;105H   \u001b[34;30H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;25H\u001b[46m(\u001b[mself\u001b[46m)\u001b[m\u001b[39;13Hself.sidebar.column(col, width=w, anchor=\u001b[95m\"w\"\u001b[m, stretch=(col == \u001b[95m\"Description\"\u001b[m))\u001b[40;115H\u001b[K\u001b[40;115H153,30\u001b[9C7%\u001b[34;30H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;30H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;25H(self)\u001b[39;9Hself.sidebar.pack(side=tk.LEFT, fill=tk.BOTH, expand=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H154,49\u001b[9C7%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Httk.Scrollbar(frame, orient=\u001b[95m\"vertical\"\u001b[m, command=self.sidebar.yview).pack(side=tk.RIGHT, fill=tk.Y)\u001b[40;115H\u001b[K\u001b[40;115H155,49\u001b[9C7%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;36H\u001b[46m(\u001b[12C)\u001b[m\u001b[39;9Hself.sidebar.bind(\u001b[95m\"<<TreeviewSelect>>\"\u001b[m, self._on_select)\u001b[40;115H\u001b[K\u001b[40;115H156,49\u001b[9C7%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;47H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;36H(\u001b[12C)\u001b[34;33H\u001b[46m(\u001b[13C)\u001b[m\u001b[39;9Hself.sidebar.bind(\u001b[95m\"<Delete>\"\u001b[m, \u001b[93mlambda\u001b[m e: self._on_delete_clicked())\u001b[40;115H\u001b[K\u001b[40;115H157,47\u001b[9C8%\u001b[34;47H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;47H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;33H(\u001b[13C)\u001b[40;115H\u001b[K\u001b[40;115H158,49\u001b[9C8%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_refresh_sidebar\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H159,49\u001b[9C8%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.sidebar.delete(*self.sidebar.get_children())\u001b[40;115H\u001b[K\u001b[40;115H160,49\u001b[9C8%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mfor\u001b[m doc \u001b[93min\u001b[m self.doc_store.get_document_index():\u001b[40;115H\u001b[K\u001b[40;115H161,49\u001b[9C8%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.sidebar.insert(\u001b[95m\"\"\u001b[m, \u001b[95m\"end\"\u001b[m, values=(doc[\u001b[95m\"id\"\u001b[m], doc[\u001b[95m\"title\"\u001b[m], doc[\u001b[95m\"description\"\u001b[m]))\u001b[40;115H\u001b[K\u001b[40;115H162,49\u001b[9C8%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H163,0-1\u001b[8C8%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;31H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_on_select\u001b[m(self, event):\u001b[40;115H\u001b[K\u001b[40;115H164,31\u001b[9C8%\u001b[34;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;31H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hsel = self.sidebar.selection()\u001b[40;115H\u001b[K\u001b[40;115H165,49\u001b[9C8%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m sel:\u001b[40;115H\u001b[K\u001b[40;115H166,49\u001b[9C8%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H167,49\u001b[9C8%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hitem = self.sidebar.item(sel[\u001b[95m0\u001b[m])\u001b[40;115H\u001b[K\u001b[40;115H168,0-1\u001b[8C8%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;32H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H169,32\u001b[9C8%\u001b[34;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;32H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;37H\u001b[46m()\u001b[m\u001b[39;13Hnid = \u001b[1m\u001b[96mint\u001b[m(item[\u001b[95m\"values\"\u001b[m][\u001b[95m0\u001b[m])\u001b[40;115H\u001b[K\u001b[40;115H170,38\u001b[9C8%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;19H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;37H()\u001b[39;9H\u001b[93mexcept\u001b[m (\u001b[38;5;121mValueError\u001b[m, \u001b[38;5;121mTypeError\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H171,19\u001b[9C8%\u001b[34;19H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;19H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H172,18\u001b[9C9%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;40H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;33H\u001b[46m(\u001b[6C)\u001b[m\u001b[39;9H\u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H173,40\u001b[9C9%\u001b[34;40H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;40H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;33H(\u001b[6C)\u001b[39;13Hself.history.append(self.current_doc_id)\u001b[40;115H\u001b[K\u001b[40;115H174,12\u001b[9C9%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;40H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;22H\u001b[46m(\u001b[17C)\u001b[m\u001b[39;9Hself.current_doc_id = nid\u001b[40;115H\u001b[K\u001b[40;115H175,40\u001b[9C9%\u001b[34;40H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;40H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;22H(\u001b[17C)\u001b[39;9Hdoc = self.doc_store.get_document(nid)\u001b[40;115H\u001b[K\u001b[40;115H176,39\u001b[9C9%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m doc:\u001b[40;115H\u001b[K\u001b[40;115H177,18\u001b[9C9%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;43H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._render_document(doc)\u001b[40;115H\u001b[K\u001b[40;115H178,43\u001b[9C9%\u001b[34;43H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;43H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H179,49\u001b[9C9%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;33H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[96m# ---------------- Main Pane ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H180,33\u001b[9C9%\u001b[34;33H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;33H\u001b[40;105H   \u001b[34;46H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;42H\u001b[46m(\u001b[mnid\u001b[46m)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H181,46\u001b[9C9%\u001b[34;46H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;46H\u001b[40;105H   \u001b[34;15H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;42H(nid)\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_build_main_pane\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H182,15\u001b[9C9%\u001b[34;15H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;15H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;34H\u001b[46m(\u001b[mdoc\u001b[46m)\u001b[m\u001b[39;9Hpane = tk.Frame(self)\u001b[40;115H\u001b[K\u001b[40;115H183,38\u001b[9C9%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;34H(doc)\u001b[39;9Hpane.grid(row=\u001b[95m0\u001b[m, column=\u001b[95m1\u001b[m, sticky=\u001b[95m\"nswe\"\u001b[m, padx=\u001b[95m4\u001b[m, pady=\u001b[95m4\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H184,0-1\u001b[8C9%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hpane.rowconfigure(\u001b[95m0\u001b[m, weight=\u001b[95m3\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H185,49\u001b[9C9%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hpane.rowconfigure(\u001b[95m1\u001b[m, weight=\u001b[95m1\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H186,0-1\u001b[8C9%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;31H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hpane.columnconfigure(\u001b[95m0\u001b[m, weight=\u001b[95m1\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H187,31\u001b[8C10%\u001b[34;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;31H\u001b[40;105H   \u001b[34;29H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;24H\u001b[46m(\u001b[mself\u001b[46m)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H188,29\u001b[8C10%\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;29H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;24H(self)\u001b[39;9Hself.text = tk.Text(pane, wrap=\u001b[95m\"word\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H189,49\u001b[8C10%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;26H\u001b[46m(\u001b[11C)\u001b[m\u001b[39;9Hself.text.grid(row=\u001b[95m0\u001b[m, column=\u001b[95m0\u001b[m, sticky=\u001b[95m\"nswe\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H190,38\u001b[8C10%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;26H(\u001b[11C)\u001b[34;26H\u001b[46m(\u001b[11C)\u001b[m\u001b[39;9Hself.text.tag_configure(\u001b[95m\"link\"\u001b[m, foreground=\u001b[95m\"green\"\u001b[m, underline=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H191,38\u001b[8C10%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;41H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;26H(\u001b[11C)\u001b[34;29H\u001b[46m(\u001b[11C)\u001b[m\u001b[39;9Hself.text.bind(\u001b[95m\"<Button-3>\"\u001b[m, self._show_context_menu)\u001b[40;115H\u001b[K\u001b[40;115H192,41\u001b[8C10%\u001b[34;41H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;41H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;29H(\u001b[11C)\u001b[39;9Hself.text.bind(\u001b[95m\"<Delete>\"\u001b[m, \u001b[93mlambda\u001b[m e: self._on_delete_clicked())\u001b[40;115H\u001b[K\u001b[40;115H193,0-1\u001b[7C10%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;46H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;28H\u001b[46m(\u001b[17C)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H194,46\u001b[8C10%\u001b[34;46H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;46H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;28H(\u001b[17C)\u001b[39;9Hself.img_label = tk.Label(pane)\u001b[40;115H\u001b[K\u001b[40;115H195,49\u001b[8C10%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.img_label.grid(row=\u001b[95m1\u001b[m, column=\u001b[95m0\u001b[m, sticky=\u001b[95m\"ew\"\u001b[m, pady=(\u001b[95m8\u001b[m, \u001b[95m0\u001b[m))\u001b[40;115H\u001b[K\u001b[40;115H196,49\u001b[8C10%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.img_label.bind(\u001b[95m\"<Button-1>\"\u001b[m, \u001b[93mlambda\u001b[m e: self._toggle_image())\u001b[40;115H\u001b[K\u001b[40;115H197,49\u001b[8C10%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H198,49\u001b[8C10%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hbtns = tk.Frame(pane)\u001b[40;115H\u001b[K\u001b[40;115H199,0-1\u001b[7C10%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;34H\u001b[46m(\u001b[mpane\u001b[46m)\u001b[m\u001b[39;9Hbtns.grid(row=\u001b[95m2\u001b[m, column=\u001b[95m0\u001b[m, sticky=\u001b[95m\"we\"\u001b[m, pady=(\u001b[95m6\u001b[m, \u001b[95m0\u001b[m))\u001b[40;115H\u001b[K\u001b[40;115H200,39\u001b[8C10%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;34H(pane)\u001b[39;9Hacts = [\u001b[40;115H\u001b[K\u001b[40;115H201,49\u001b[8C10%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H(\u001b[95m\"TREE\"\u001b[m, self.on_tree_button),\u001b[40;115H\u001b[K\u001b[40;115H202,49\u001b[8C10%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H(\u001b[95m\"OPEN OPML\"\u001b[m, self._open_opml_from_main),\u001b[40;115H\u001b[K\u001b[40;115H203,0-1\u001b[7C11%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;29H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;24H\u001b[46m(\u001b[mpane\u001b[46m)\u001b[m\u001b[39;13H(\u001b[95m\"URL \u2192\u001b[39;20H OPML\"\u001b[m, self._import_url_as_opml),\u001b[40;115H\u001b[K\u001b[40;115H204,29\u001b[8C11%\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;29H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;24H(pane)\u001b[39;13H(\u001b[95m\"ASK\"\u001b[m, self._handle_ask),\u001b[40;115H\u001b[K\u001b[40;115H205,49\u001b[8C11%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;16H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H(\u001b[95m\"BACK\"\u001b[m, self._go_back),\u001b[40;115H\u001b[K\u001b[40;115H206,16\u001b[8C11%\u001b[34;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;16H\u001b[40;105H   \u001b[34;42H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H(\u001b[95m\"DELETE\"\u001b[m, self._on_delete_clicked),\u001b[40;115H\u001b[K\u001b[40;115H207,42\u001b[8C11%\u001b[34;42H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;42H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H(\u001b[95m\"IMAGE\"\u001b[m, self._handle_image),\u001b[40;115H\u001b[K\u001b[40;115H208,49\u001b[8C11%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H(\u001b[95m\"FLASK\"\u001b[m, self.export_and_launch_server),\u001b[40;115H\u001b[K\u001b[40;115H209,51-49     11%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H(\u001b[95m\"DIR IMPORT\"\u001b[m, self._import_directory),\u001b[40;115H\u001b[K\u001b[40;115H210,38\u001b[8C11%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;36H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H(\u001b[95m\"SAVE AS TEXT\"\u001b[m, self._save_binary_as_text),\u001b[40;115H\u001b[K\u001b[40;115H211,36\u001b[8C11%\u001b[34;36H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;36H\u001b[40;105H   \u001b[34;48H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21H(\u001b[95m\"Convert to OPML\"\u001b[m, self._convert_current_to_opml),\u001b[40;115H\u001b[K\u001b[40;115H212,48\u001b[8C11%\u001b[34;48H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;48H\u001b[40;105H   \u001b[34;42H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H(\u001b[95m\"Batch: Create OPML copies\"\u001b[m, self._batch_create_opml_copies),\u001b[40;115H\u001b[K\u001b[40;115H213,42\u001b[8C11%\u001b[34;42H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;42H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H(\u001b[95m\"Batch: Repair OPML (selected)\"\u001b[m, self._batch_repair_selected_opml),\u001b[40;115H\u001b[K\u001b[40;115H214,49\u001b[8C11%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;1H]\u001b[40;115H\u001b[K\u001b[40;115H215,49\u001b[8C11%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mfor\u001b[m i, (lbl, cmd) \u001b[93min\u001b[m \u001b[1m\u001b[96menumerate\u001b[m(acts):\u001b[40;115H\u001b[K\u001b[40;115H216,49\u001b[8C11%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Httk.Button(btns, text=lbl, command=cmd).grid(row=\u001b[95m0\u001b[m, column=i, sticky=\u001b[95m\"we\"\u001b[m, padx=(\u001b[95m0\u001b[m, \u001b[95m4\u001b[m))\u001b[40;115H\u001b[K\u001b[40;115H217,49\u001b[8C11%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H218,49\u001b[8C12%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[96m# ---------------- Context Menu ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H219,49\u001b[8C12%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[20;16H\u001b[46m[\u001b[34;1H]\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H220,1\u001b[9C12%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;45H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[19;16H[\u001b[33;1H]\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_build_context_menu\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H221,45\u001b[8C12%\u001b[34;45H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;45H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.context_menu = tk.Menu(self, tearoff=\u001b[95m0\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H222,49\u001b[8C12%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.context_menu.add_command(label=\u001b[95m\"ASK\"\u001b[m, command=self._handle_ask)\u001b[40;115H\u001b[K\u001b[40;115H223,0-1\u001b[7C12%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.context_menu.add_command(label=\u001b[95m\"Delete\"\u001b[m, command=self._on_delete_clicked)\u001b[40;115H\u001b[K\u001b[40;115H224,49\u001b[8C12%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.context_menu.add_separator()\u001b[40;115H\u001b[K\u001b[40;115H225,0-1\u001b[7C12%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;34H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.context_menu.add_command(label=\u001b[95m\"Import\"\u001b[m, command=self._import_doc)\u001b[40;115H\u001b[K\u001b[40;115H226,34\u001b[8C12%\u001b[34;34H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;34H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.context_menu.add_command(label=\u001b[95m\"Export\"\u001b[m, command=self._export_doc)\u001b[40;115H\u001b[K\u001b[40;115H227,49\u001b[8C12%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.context_menu.add_command(label=\u001b[95m\"Save Binary As Text\"\u001b[m, command=self._save_binary_as_text)\u001b[40;115H\u001b[K\u001b[40;115H228,49\u001b[8C12%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H229,49\u001b[8C12%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;41H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;40H\u001b[46m()\u001b[m\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_show_context_menu\u001b[m(self, event):\u001b[40;115H\u001b[K\u001b[40;115H230,41\u001b[8C12%\u001b[34;41H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;41H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;40H()\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H231,49\u001b[8C12%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.context_menu.tk_popup(event.x_root, event.y_root)\u001b[40;115H\u001b[K\u001b[40;115H232,49\u001b[8C12%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mfinally\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H233,49\u001b[8C13%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.context_menu.grab_release()\u001b[40;115H\u001b[K\u001b[40;115H234,0-1\u001b[7C13%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;40H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H235,40\u001b[8C13%\u001b[34;40H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;40H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[96m# ---------------- ASK / BACK ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H236,12\u001b[8C13%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H237,49\u001b[8C13%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;16H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_handle_ask\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H238,16\u001b[8C13%\u001b[34;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;16H\u001b[40;105H   \u001b[34;44H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;43H\u001b[46m()\u001b[m\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H239,44\u001b[8C13%\u001b[34;44H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;44H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;43H()\u001b[39;13Hstart = self.text.index(tk.SEL_FIRST)\u001b[40;115H\u001b[K\u001b[40;115H240,0-1\u001b[7C13%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hend = self.text.index(tk.SEL_LAST)\u001b[40;115H\u001b[K\u001b[40;115H241,49\u001b[8C13%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hselected_text = self.text.get(start, end)\u001b[40;115H\u001b[K\u001b[40;115H242,0-1\u001b[7C13%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;26H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m tk.TclError:\u001b[40;115H\u001b[K\u001b[40;115H243,26\u001b[8C13%\u001b[34;26H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;26H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showwarning(\u001b[95m\"ASK\"\u001b[m, \u001b[95m\"Please select some text first.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H244,12\u001b[8C13%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;36H\u001b[46m(\u001b[12C)\u001b[m\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H245,49\u001b[8C13%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;46H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;36H(\u001b[12C)\u001b[34;34H\u001b[46m(\u001b[11C)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H246,46\u001b[8C13%\u001b[34;46H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;46H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;34H(\u001b[11C)\u001b[39;9Hcid = self.current_doc_id\u001b[40;115H\u001b[K\u001b[40;115H247,49\u001b[8C13%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;27H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H248,27\u001b[8C13%\u001b[34;27H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;27H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mon_success\u001b[m(nid):\u001b[40;115H\u001b[K\u001b[40;115H249,49\u001b[8C14%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showinfo(\u001b[95m\"ASK\"\u001b[m, f\u001b[95m\"Created new document {nid}.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H250,18\u001b[8C14%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._refresh_sidebar()\u001b[40;115H\u001b[K\u001b[40;115H251,0-1\u001b[7C14%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;33H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[96m# replace selection with link\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H252,33\u001b[8C14%\u001b[34;33H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;33H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.text.delete(start, end)\u001b[40;115H\u001b[K\u001b[40;115H253,0-1\u001b[7C14%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;28H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hlink_md = f\u001b[95m\"[{selected_text}](doc:{nid})\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H254,28\u001b[8C14%\u001b[34;28H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;28H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.text.insert(start, link_md)\u001b[40;115H\u001b[K\u001b[40;115H255,49\u001b[8C14%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;35H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;34H\u001b[46m()\u001b[m\u001b[39;13Hfull = self.text.get(\u001b[95m\"1.0\"\u001b[m, tk.END)\u001b[40;115H\u001b[K\u001b[40;115H256,35\u001b[8C14%\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;35H\u001b[40;105H   \u001b[34;41H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;34H()\u001b[39;13Hdoc = self.doc_store.get_document(nid)\u001b[40;115H\u001b[K\u001b[40;115H257,41\u001b[8C14%\u001b[34;41H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;41H\u001b[40;105H   \u001b[34;40H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;29H\u001b[46m(\u001b[10C)\u001b[m\u001b[39;13H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(doc[\u001b[95m\"body\"\u001b[m], \u001b[1m\u001b[96mbytes\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H258,40\u001b[8C14%\u001b[34;40H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;40H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;29H(\u001b[10C)\u001b[39;17Hself.text.insert(tk.END, \u001b[95m\"[binary document]\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H259,49\u001b[8C14%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;44H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;29H\u001b[46m(\u001b[14C)\u001b[m\u001b[39;17H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H260,44\u001b[8C14%\u001b[34;44H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;44H\u001b[40;105H   \u001b[34;47H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;29H(\u001b[14C)\u001b[34;33H\u001b[46m(\u001b[13C)\u001b[m\u001b[39;13Hhypertext_parser.parse_links(self.text, full, self._on_link_click)\u001b[40;115H\u001b[K\u001b[40;115H261,47\u001b[8C14%\u001b[34;47H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;47H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;33H(\u001b[13C)\u001b[40;115H\u001b[K\u001b[40;115H262,49\u001b[8C14%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;46H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hprefix = simpledialog.askstring(\u001b[95m\"Prefix\"\u001b[m, \u001b[95m\"Optional prefix:\"\u001b[m, initialvalue=\u001b[95m\"Please expand:\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H263,46\u001b[8C14%\u001b[34;46H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;46H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.processor.query_ai(\u001b[40;115H\u001b[K\u001b[40;115H264,49\u001b[8C15%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;22H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hselected_text, cid, on_success, \u001b[93mlambda\u001b[m *_: \u001b[1m\u001b[96mNone\u001b[m, prefix=prefix, sel_start=\u001b[1m\u001b[96mNone\u001b[m, sel_end=\u001b[1m\u001b[96mNone\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H265,22\u001b[8C15%\u001b[34;22H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;22H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H)\u001b[40;115H\u001b[K\u001b[40;115H266,49\u001b[8C15%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H267,0-1\u001b[7C15%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_go_back\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H268,49\u001b[8C15%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;32H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;32H\u001b[46m(\u001b[36;9H)\u001b[m\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m self.history:\u001b[40;115H\u001b[K\u001b[40;115H269,32\u001b[8C15%\u001b[34;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;32H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;32H(\u001b[35;9H)\u001b[39;13Hmessagebox.showinfo(\u001b[95m\"BACK\"\u001b[m, \u001b[95m\"No history.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H270,49\u001b[8C15%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;9H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[32;32H\u001b[46m(\u001b[34;9H)\u001b[m\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H271,9\u001b[9C15%\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;9H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[31;32H(\u001b[33;9H)\u001b[39;9Hprev = self.history.pop()\u001b[40;115H\u001b[K\u001b[40;115H272,0-1\u001b[7C15%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;23H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.current_doc_id = prev\u001b[40;115H\u001b[K\u001b[40;115H273,23\u001b[8C15%\u001b[34;23H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;23H\u001b[40;105H   \u001b[34;28H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hdoc = self.doc_store.get_document(prev)\u001b[40;115H\u001b[K\u001b[40;115H274,28\u001b[8C15%\u001b[34;28H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;28H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m doc:\u001b[40;115H\u001b[K\u001b[40;115H275,49\u001b[8C15%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._render_document(doc)\u001b[40;115H\u001b[K\u001b[40;115H276,18\u001b[8C15%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;33H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;32H\u001b[46m()\u001b[m\u001b[39;9H\u001b[93melse\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H277,33\u001b[8C15%\u001b[34;33H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;33H\u001b[40;105H   \u001b[34;34H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;32H()\u001b[39;13Hmessagebox.showerror(\u001b[95m\"BACK\"\u001b[m, f\u001b[95m\"Document {prev} not found.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H278,34\u001b[8C15%\u001b[34;34H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;34H\u001b[40;105H   \u001b[34;47H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;42H\u001b[46m(\u001b[mprev\u001b[46m)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H279,47\u001b[8C16%\u001b[34;47H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;47H\u001b[40;105H   \u001b[34;15H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;42H(prev)\u001b[39;5H\u001b[96m# ---------------- TreeView wiring ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H280,15\u001b[8C16%\u001b[34;15H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;15H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;34H\u001b[46m(\u001b[mdoc\u001b[46m)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H281,38\u001b[8C16%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;13H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;34H(doc)\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mon_tree_button\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H282,13\u001b[8C16%\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;13H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[95m\"\"\"Open the TreeView window using the current document as the root (if any).\"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H283,49\u001b[8C16%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H284,0-1\u001b[7C16%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mclass\u001b[m \u001b[1m\u001b[96m_DocStoreRepo\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H285,49\u001b[8C16%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[95m\"\"\"Adapter that derives parent\u2192\u001b[39;44Hchildren from green links like (doc:123).\"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H286,0-1\u001b[7C16%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;29H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H287,29\u001b[8C16%\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;29H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m__init__\u001b[m(self, ds):\u001b[40;115H\u001b[K\u001b[40;115H288,49\u001b[8C16%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself.ds = ds\u001b[40;115H\u001b[K\u001b[40;115H289,0-1\u001b[7C16%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;28H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself._roots_cache = \u001b[1m\u001b[96mNone\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H290,28\u001b[8C16%\u001b[34;28H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;28H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H291,51-49     16%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_mk_node\u001b[m(self, d):\u001b[40;115H\u001b[K\u001b[40;115H292,0-1\u001b[7C16%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;35H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m d:\u001b[40;115H\u001b[K\u001b[40;115H293,35\u001b[8C16%\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;35H\u001b[40;105H   \u001b[34;28H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21H\u001b[93mreturn\u001b[m \u001b[1m\u001b[96mNone\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H294,28\u001b[8C17%\u001b[34;28H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;28H\u001b[40;105H   \u001b[34;40H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(d, \u001b[1m\u001b[96mdict\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H295,40\u001b[8C17%\u001b[34;40H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;40H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21H\u001b[93mreturn\u001b[m \u001b[1m\u001b[96mtype\u001b[m(\u001b[40;115H\u001b[K\u001b[40;115H296,0-1\u001b[7C17%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;34H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;25H\u001b[95m\"DocNodeShim\"\u001b[m,\u001b[40;115H\u001b[K\u001b[40;115H297,34\u001b[8C17%\u001b[34;34H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;34H\u001b[40;105H   \u001b[34;25H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;25H(\u001b[1m\u001b[96mobject\u001b[m,),\u001b[40;115H\u001b[K\u001b[40;115H298,25\u001b[8C17%\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;25H\u001b[40;105H   \u001b[34;31H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;25H{\u001b[40;115H\u001b[K\u001b[40;115H299,31\u001b[8C17%\u001b[34;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;31H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;29H\u001b[95m\"id\"\u001b[m: d.get(\u001b[95m\"id\"\u001b[m),\u001b[40;115H\u001b[K\u001b[40;115H300,39\u001b[8C17%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;32H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;29H\u001b[95m\"title\"\u001b[m: d.get(\u001b[95m\"title\"\u001b[m) \u001b[93mor\u001b[m \u001b[95m\"(untitled)\"\u001b[m,\u001b[40;115H\u001b[K\u001b[40;115H301,32\u001b[8C17%\u001b[34;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;32H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;29H\u001b[95m\"parent_id\"\u001b[m: d.get(\u001b[95m\"parent_id\"\u001b[m),\u001b[40;115H\u001b[K\u001b[40;115H302,38\u001b[8C17%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;34H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;25H},\u001b[40;115H\u001b[K\u001b[40;115H303,34\u001b[8C17%\u001b[34;34H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;34H\u001b[40;105H   \u001b[34;25H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;25H\u001b[46m{\u001b[38;25H}\u001b[m\u001b[39;21H)()\u001b[40;115H\u001b[K\u001b[40;115H304,25\u001b[8C17%\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;25H\u001b[40;105H   \u001b[34;46H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;25H{\u001b[37;25H}\u001b[39;17Hdid = d[\u001b[95m0\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(d) > \u001b[95m0\u001b[m \u001b[93melse\u001b[m \u001b[1m\u001b[96mNone\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H305,46\u001b[8C17%\u001b[34;46H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;46H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Htitle = d[\u001b[95m1\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(d) > \u001b[95m1\u001b[m \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H306,49\u001b[8C17%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mreturn\u001b[m \u001b[1m\u001b[96mtype\u001b[m(\u001b[95m\"DocNodeShim\"\u001b[m, (\u001b[1m\u001b[96mobject\u001b[m,), {\u001b[95m\"id\"\u001b[m: did, \u001b[95m\"title\"\u001b[m: title \u001b[93mor\u001b[m \u001b[95m\"(untitled)\"\u001b[m, \u001b[95m\"parent_id\"\u001b[m: \u001b[1m\u001b[96mNone\u001b[m})()\u001b[40;115H\u001b[K\u001b[40;115H307,49\u001b[8C17%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;26H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H308,26\u001b[8C17%\u001b[34;26H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;26H\u001b[40;105H   \u001b[34;23H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;22H\u001b[46m()\u001b[m\u001b[39;13H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mget_doc\u001b[m(self, doc_id: \u001b[1m\u001b[96mint\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H309,23\u001b[8C17%\u001b[34;23H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;23H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;22H()\u001b[39;17H\u001b[93mreturn\u001b[m self._mk_node(self.ds.get_document(doc_id))\u001b[40;115H\u001b[K\u001b[40;115H310,49\u001b[8C18%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H311,49\u001b[8C18%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_body\u001b[m(self, doc):\u001b[40;115H\u001b[K\u001b[40;115H312,49\u001b[8C18%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mreturn\u001b[m doc[\u001b[95m\"body\"\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(doc, \u001b[1m\u001b[96mdict\u001b[m) \u001b[93melse\u001b[m (doc[\u001b[95m2\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(doc) > \u001b[95m2\u001b[m \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H313,0-1\u001b[7C18%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;43H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H314,43\u001b[8C18%\u001b[34;43H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;43H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_children_from_links\u001b[m(self, parent_id):\u001b[40;115H\u001b[K\u001b[40;115H315,49\u001b[8C18%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hd = self.ds.get_document(parent_id)\u001b[40;115H\u001b[K\u001b[40;115H316,0-1\u001b[7C18%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;33H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m d:\u001b[40;115H\u001b[K\u001b[40;115H317,33\u001b[8C18%\u001b[34;33H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;33H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;49H\u001b[46m(\u001b[9C)\u001b[m\u001b[39;21H\u001b[93mreturn\u001b[m []\u001b[40;115H\u001b[K\u001b[40;115H318,49\u001b[8C18%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;49H(\u001b[9C)\u001b[39;17Hbody = self._body(d)\u001b[40;115H\u001b[K\u001b[40;115H319,0-1\u001b[7C18%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)):\u001b[40;115H\u001b[K\u001b[40;115H320,49\u001b[8C18%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21H\u001b[93mreturn\u001b[m []\u001b[40;115H\u001b[K\u001b[40;115H321,49\u001b[8C18%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;25H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hids = [\u001b[1m\u001b[96mint\u001b[m(m) \u001b[93mfor\u001b[m m \u001b[93min\u001b[m re.findall(\u001b[95mr\"\\(doc:(\\d+)\\)\"\u001b[m, body)]\u001b[40;115H\u001b[K\u001b[40;115H322,25\u001b[8C18%\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;25H\u001b[40;105H   \u001b[34;29H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;28H\u001b[46m[]\u001b[m\u001b[39;17Hout = []\u001b[40;115H\u001b[K\u001b[40;115H323,29\u001b[8C18%\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;29H\u001b[40;105H   \u001b[34;36H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;28H[]\u001b[34;34H\u001b[46m(\u001b[md\u001b[46m)\u001b[m\u001b[39;17H\u001b[93mfor\u001b[m cid \u001b[93min\u001b[m ids:\u001b[40;115H\u001b[K\u001b[40;115H324,36\u001b[8C18%\u001b[34;36H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;36H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;34H(d)\u001b[39;21Hnd = self.ds.get_document(cid)\u001b[40;115H\u001b[K\u001b[40;115H325,49\u001b[8C19%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;29H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;28H\u001b[46m[]\u001b[m\u001b[39;21H\u001b[93mif\u001b[m nd:\u001b[40;115H\u001b[K\u001b[40;115H326,29\u001b[8C19%\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;29H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;28H[]\u001b[39;25Hout.append(self._mk_node(nd))\u001b[40;115H\u001b[K\u001b[40;115H327,49\u001b[8C19%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;24H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;23H\u001b[46m[]\u001b[m\u001b[39;17Hout.sort(key=\u001b[93mlambda\u001b[m n: n.id)\u001b[40;115H\u001b[K\u001b[40;115H328,24\u001b[8C19%\u001b[34;24H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;24H\u001b[40;105H   \u001b[34;31H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;23H[]\u001b[39;17H\u001b[93mreturn\u001b[m out\u001b[40;115H\u001b[K\u001b[40;115H329,31\u001b[8C19%\u001b[34;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;31H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H330,49\u001b[8C19%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;26H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mget_children\u001b[m(self, parent_id):\u001b[40;115H\u001b[K\u001b[40;115H331,26\u001b[8C19%\u001b[34;26H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;26H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;49H\u001b[46m(\u001b[mnd\u001b[46m)\u001b[m\u001b[39;17H\u001b[96m# No parent_id column in the DB, so derive from green-link references\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H332,49\u001b[8C19%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;44H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;49H(nd)\u001b[34;25H\u001b[46m(\u001b[18C)\u001b[m\u001b[39;17H\u001b[93mif\u001b[m parent_id \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H333,44\u001b[8C19%\u001b[34;44H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;44H\u001b[40;105H   \u001b[34;26H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;25H(\u001b[18C)\u001b[39;21H\u001b[93mif\u001b[m self._roots_cache \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H334,26\u001b[8C19%\u001b[34;26H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;26H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;25Hall_ids = [row[\u001b[95m\"id\"\u001b[m] \u001b[93mfor\u001b[m row \u001b[93min\u001b[m self.ds.get_document_index()]\u001b[40;115H\u001b[K\u001b[40;115H335,0-1\u001b[7C19%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;46H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;25Hreferenced = \u001b[1m\u001b[96mset\u001b[m()\u001b[40;115H\u001b[K\u001b[40;115H336,46\u001b[8C19%\u001b[34;46H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;46H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;25H\u001b[93mfor\u001b[m row \u001b[93min\u001b[m self.ds.get_document_index():\u001b[40;115H\u001b[K\u001b[40;115H337,49\u001b[8C19%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;37H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;29Hd = self.ds.get_document(row[\u001b[95m\"id\"\u001b[m])\u001b[40;115H\u001b[K\u001b[40;115H338,37\u001b[8C19%\u001b[34;37H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;37H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;29Hbody = self._body(d)\u001b[40;115H\u001b[K\u001b[40;115H339,49\u001b[8C19%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;29H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)):\u001b[40;115H\u001b[K\u001b[40;115H340,49\u001b[8C20%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;42H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;41H\u001b[46m()\u001b[m\u001b[39;33H\u001b[93mcontinue\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H341,42\u001b[8C20%\u001b[34;42H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;42H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;41H()\u001b[39;29Hreferenced.update(\u001b[1m\u001b[96mint\u001b[m(m) \u001b[93mfor\u001b[m m \u001b[93min\u001b[m re.findall(\u001b[95mr\"\\(doc:(\\d+)\\)\"\u001b[m, body))\u001b[40;115H\u001b[K\u001b[40;115H342,49\u001b[8C20%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;25H\u001b[96m# roots = docs never referenced by any other doc\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H343,49\u001b[8C20%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;48H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;46H\u001b[46m(\u001b[md\u001b[46m)\u001b[m\u001b[39;25Hroots = [self._mk_node(self.ds.get_document(i)) \u001b[93mfor\u001b[m i \u001b[93min\u001b[m all_ids \u001b[93mif\u001b[m i \u001b[93mnot\u001b[m \u001b[93min\u001b[m referenced]\u001b[40;115H\u001b[K\u001b[40;115H344,48\u001b[8C20%\u001b[34;48H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;48H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;46H(d)\u001b[34;49H\u001b[46m(\u001b[16C)\u001b[m\u001b[39;25H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m roots:  \u001b[96m# fallback: show all if everything is referenced\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H345,49\u001b[8C20%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;40H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;49H(\u001b[16C)\u001b[39;29Hroots = [self._mk_node(self.ds.get_document(i)) \u001b[93mfor\u001b[m i \u001b[93min\u001b[m all_ids]\u001b[40;115H\u001b[K\u001b[40;115H346,40\u001b[8C20%\u001b[34;40H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;40H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;25Hself._roots_cache = [n \u001b[93mfor\u001b[m n \u001b[93min\u001b[m roots \u001b[93mif\u001b[m n]\u001b[40;115H\u001b[K\u001b[40;115H347,49\u001b[8C20%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;25Hself._roots_cache.sort(key=\u001b[93mlambda\u001b[m n: n.id)\u001b[40;115H\u001b[K\u001b[40;115H348,49\u001b[8C20%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21H\u001b[93mreturn\u001b[m \u001b[1m\u001b[96mlist\u001b[m(self._roots_cache)\u001b[40;115H\u001b[K\u001b[40;115H349,49\u001b[8C20%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93melse\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H350,49\u001b[8C20%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21H\u001b[93mreturn\u001b[m self._children_from_links(parent_id)\u001b[40;115H\u001b[K\u001b[40;115H351,49\u001b[8C20%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H352,49\u001b[8C20%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hrepo = _DocStoreRepo(self.doc_store)\u001b[40;115H\u001b[K\u001b[40;115H353,49\u001b[8C20%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hroot_id = self.current_doc_id\u001b[40;115H\u001b[K\u001b[40;115H354,49\u001b[8C20%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;21H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.tree_win = open_tree_view(self, repo=repo, on_open_doc=self._on_link_click, root_doc_id=root_id)\u001b[40;115H\u001b[K\u001b[40;115H355,21\u001b[8C20%\u001b[34;21H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;21H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H356,49\u001b[8C21%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_apply_opml_expand_depth\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H357,0-1\u001b[7C21%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;44H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;29H\u001b[46m(\u001b[14C)\u001b[m\u001b[39;9H\u001b[95m\"\"\"Expand OPML tree in TreeView window to preferred depth.\"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H358,44\u001b[8C21%\u001b[34;44H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;44H\u001b[40;105H   \u001b[34;37H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;29H(\u001b[14C)\u001b[39;9Hwin = \u001b[1m\u001b[96mgetattr\u001b[m(self, \u001b[95m\"tree_win\"\u001b[m, \u001b[1m\u001b[96mNone\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H359,37\u001b[8C21%\u001b[34;37H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;37H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m win \u001b[93mor\u001b[m \u001b[93mnot\u001b[m win.winfo_exists():\u001b[40;115H\u001b[K\u001b[40;115H360,49\u001b[8C21%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H361,0-1\u001b[7C21%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96mhasattr\u001b[m(win, \u001b[95m\"_expand_to_depth\"\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H362,39\u001b[8C21%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hwin._expand_to_depth(self.opml_expand_depth)\u001b[40;115H\u001b[K\u001b[40;115H363,49\u001b[8C21%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;45H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;22H\u001b[46m(\u001b[22C)\u001b[m\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H364,45\u001b[8C21%\u001b[34;45H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;45H\u001b[40;105H   \u001b[34;45H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;22H(\u001b[22C)\u001b[39;9Htree = \u001b[1m\u001b[96mgetattr\u001b[m(win, \u001b[95m\"tree\"\u001b[m, \u001b[1m\u001b[96mNone\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H365,45\u001b[8C21%\u001b[34;45H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;45H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m tree:\u001b[40;115H\u001b[K\u001b[40;115H366,18\u001b[8C21%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;44H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H367,44\u001b[8C21%\u001b[34;44H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;44H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H368,49\u001b[8C21%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mwalk\u001b[m(iid: \u001b[1m\u001b[96mstr\u001b[m, depth: \u001b[1m\u001b[96mint\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H369,18\u001b[8C21%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;41H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;23H\u001b[46m(\u001b[17C)\u001b[m\u001b[39;13H\u001b[93mif\u001b[m depth >= self.opml_expand_depth:\u001b[40;115H\u001b[K\u001b[40;115H370,41\u001b[8C21%\u001b[34;41H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;41H\u001b[40;105H   \u001b[34;20H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;23H(\u001b[17C)\u001b[39;17H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H371,20\u001b[8C22%\u001b[34;20H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;20H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hwin.tree.item(iid, \u001b[1m\u001b[96mopen\u001b[m=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H372,18\u001b[8C22%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mfor\u001b[m c \u001b[93min\u001b[m win.tree.get_children(iid):\u001b[40;115H\u001b[K\u001b[40;115H373,0-1\u001b[7C22%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hwalk(c, depth + \u001b[95m1\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H374,39\u001b[8C22%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;47H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H375,47\u001b[8C22%\u001b[34;47H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;47H\u001b[40;105H   \u001b[34;22H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mfor\u001b[m top \u001b[93min\u001b[m tree.get_children(\u001b[95m\"\"\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H376,22\u001b[8C22%\u001b[34;22H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;22H\u001b[40;105H   \u001b[34;41H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;26H\u001b[46m(\u001b[14C)\u001b[m\u001b[39;13Hwalk(top, \u001b[95m0\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H377,41\u001b[8C22%\u001b[34;41H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;41H\u001b[40;105H   \u001b[34;48H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;26H(\u001b[14C)\u001b[39;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96mhasattr\u001b[m(win, \u001b[95m\"_update_numbering\"\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H378,48\u001b[8C22%\u001b[34;48H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;48H\u001b[40;105H   \u001b[34;34H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;21H\u001b[46m(\u001b[12C)\u001b[m\u001b[39;13Hwin._update_numbering()\u001b[40;115H\u001b[K\u001b[40;115H379,34\u001b[8C22%\u001b[34;34H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;34H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;21H(\u001b[12C)\u001b[40;115H\u001b[K\u001b[40;115H380,0-1\u001b[7C22%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;41H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[96m# ---- OPML-in-document-pane helpers ----\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H381,41\u001b[8C22%\u001b[34;41H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;41H\u001b[40;105H   \u001b[34;24H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;17H\u001b[46m(\u001b[6C)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H382,24\u001b[8C22%\u001b[34;24H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;24H\u001b[40;105H   \u001b[34;45H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;17H(\u001b[6C)\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_ensure_opml_widgets\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H383,45\u001b[8C22%\u001b[34;45H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;45H\u001b[40;105H   \u001b[34;35H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;34H\u001b[46m()\u001b[m\u001b[39;9H\u001b[95m\"\"\"Create (or reuse) the OPML widgets embedded in the document pane.\"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H384,35\u001b[8C22%\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;35H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;34H()\u001b[39;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96mhasattr\u001b[m(self, \u001b[95m\"_opml_frame\"\u001b[m) \u001b[93mand\u001b[m self._opml_frame.winfo_exists():\u001b[40;115H\u001b[K\u001b[40;115H385,0-1\u001b[7C22%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;45H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H386,45\u001b[8C23%\u001b[34;45H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;45H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hpane = self.text.master  \u001b[96m# the grid container created in _build_main_pane\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H387,0-1\u001b[7C23%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;35H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._opml_frame = tk.Frame(pane)\u001b[40;115H\u001b[K\u001b[40;115H388,35\u001b[8C23%\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;35H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._opml_frame.grid(row=\u001b[95m0\u001b[m, column=\u001b[95m0\u001b[m, sticky=\u001b[95m\"nswe\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H389,49\u001b[8C23%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[96m# Toolbar for OPML mode\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H390,49\u001b[8C23%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Htb = tk.Frame(self._opml_frame)\u001b[40;115H\u001b[K\u001b[40;115H391,18\u001b[8C23%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Htb.pack(side=tk.TOP, fill=tk.X)\u001b[40;115H\u001b[K\u001b[40;115H392,49\u001b[8C23%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;41H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;36H\u001b[46m(\u001b[mpane\u001b[46m)\u001b[m\u001b[39;9Hself._opml_show_nums = tk.BooleanVar(value=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H393,41\u001b[8C23%\u001b[34;41H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;41H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;36H(pane)\u001b[39;9Httk.Checkbutton(tb, text=\u001b[95m\"Show Numbers\"\u001b[m, variable=self._opml_show_nums, command=self._opml_update_numbering).pack(\u001b[40;115H\u001b[K\u001b[40;115H394,49\u001b[8C23%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;31H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hside=tk.LEFT, padx=\u001b[95m6\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H395,31\u001b[8C23%\u001b[34;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;31H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;22H\u001b[46m(\u001b[16C)\u001b[m\u001b[39;9H)\u001b[40;115H\u001b[K\u001b[40;115H396,39\u001b[8C23%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;22H(\u001b[16C)\u001b[34;16H\u001b[46m(\u001b[22C)\u001b[m\u001b[39;9H\u001b[96m# Treeview for OPML\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H397,39\u001b[8C23%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;16H(\u001b[22C)\u001b[39;9Hself._opml_tree = ttk.Treeview(self._opml_frame, columns=(\u001b[95m\"num\"\u001b[m,), show=\u001b[95m\"tree headings\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H398,49\u001b[8C23%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._opml_tree.heading(\u001b[95m\"num\"\u001b[m, text=\u001b[95m\"No.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H399,49\u001b[8C23%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;32H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._opml_tree.column(\u001b[95m\"num\"\u001b[m, width=\u001b[95m90\u001b[m, minwidth=\u001b[95m60\u001b[m, stretch=\u001b[1m\u001b[96mFalse\u001b[m, anchor=\u001b[95m\"e\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H400,32\u001b[8C23%\u001b[34;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;32H\u001b[40;105H   \u001b[34;9H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[32;122H\u001b[46m(\u001b[34;9H)\u001b[m\u001b[39;9Hvsb = ttk.Scrollbar(self._opml_frame, orient=\u001b[95m\"vertical\"\u001b[m, command=self._opml_tree.yview)\u001b[40;115H\u001b[K\u001b[40;115H401,9\u001b[9C24%\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;9H\u001b[40;105H   \u001b[34;27H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[31;122H(\u001b[33;9H)\u001b[39;9Hhsb = ttk.Scrollbar(self._opml_frame, orient=\u001b[95m\"horizontal\"\u001b[m, command=self._opml_tree.xview)\u001b[40;115H\u001b[K\u001b[40;115H402,27\u001b[8C24%\u001b[34;27H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;27H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._opml_tree.configure(yscrollcommand=vsb.set, xscrollcommand=hsb.set)\u001b[40;115H\u001b[K\u001b[40;115H403,49\u001b[8C24%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._opml_tree.pack(side=tk.LEFT, fill=tk.BOTH, expand=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H404,49\u001b[8C24%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hvsb.pack(side=tk.RIGHT, fill=tk.Y)\u001b[40;115H\u001b[K\u001b[40;115H405,49\u001b[8C24%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hhsb.pack(side=tk.BOTTOM, fill=tk.X)\u001b[40;115H\u001b[K\u001b[40;115H406,49\u001b[8C24%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H407,49\u001b[8C24%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_show_opml\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H408,49\u001b[8C24%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._ensure_opml_widgets()\u001b[40;115H\u001b[K\u001b[40;115H409,49\u001b[8C24%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;42H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;17H\u001b[46m(\u001b[24C)\u001b[m\u001b[39;9H\u001b[96m# Hide text view (uses grid)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H410,42\u001b[8C24%\u001b[34;42H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;42H\u001b[40;105H   \u001b[34;43H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;17H(\u001b[24C)\u001b[34;17H\u001b[46m(\u001b[25C)\u001b[m\u001b[39;9H\u001b[93mif\u001b[m self.text.winfo_manager():\u001b[40;115H\u001b[K\u001b[40;115H411,43\u001b[8C24%\u001b[34;43H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;43H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;17H(\u001b[25C)\u001b[39;13Hself.text.grid_remove()\u001b[40;115H\u001b[K\u001b[40;115H412,0-1\u001b[7C24%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;25H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._hide_image()\u001b[40;115H\u001b[K\u001b[40;115H413,25\u001b[8C24%\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;25H\u001b[40;105H   \u001b[34;35H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;34H\u001b[46m()\u001b[m\u001b[39;9Hself._opml_frame.lift()\u001b[40;115H\u001b[K\u001b[40;115H414,35\u001b[8C24%\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;35H\u001b[40;105H   \u001b[34;36H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;34H()\u001b[34;26H\u001b[96m\u001b[46m(\u001b[9C)\u001b[m\u001b[39;9Hself._opml_frame.grid()\u001b[40;115H\u001b[K\u001b[40;115H415,36\u001b[8C24%\u001b[34;36H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;36H\u001b[40;105H   \u001b[34;37H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;26H\u001b[96m(\u001b[9C)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H416,37\u001b[8C24%\u001b[34;37H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;37H\u001b[40;105H   \u001b[34;35H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;34H\u001b[46m()\u001b[m\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_hide_opml\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H417,35\u001b[8C25%\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;35H\u001b[40;105H   \u001b[34;26H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;34H()\u001b[34;25H\u001b[46m()\u001b[m\u001b[39;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96mhasattr\u001b[m(self, \u001b[95m\"_opml_frame\"\u001b[m) \u001b[93mand\u001b[m self._opml_frame.winfo_exists():\u001b[40;115H\u001b[K\u001b[40;115H418,26\u001b[8C25%\u001b[34;26H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;26H\u001b[40;105H   \u001b[34;31H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;25H()\u001b[34;30H\u001b[46m()\u001b[m\u001b[39;13Hself._opml_frame.grid_remove()\u001b[40;115H\u001b[K\u001b[40;115H419,31\u001b[8C25%\u001b[34;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;31H\u001b[40;105H   \u001b[34;31H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;30H()\u001b[34;30H\u001b[46m()\u001b[m\u001b[39;9H\u001b[96m# Restore text\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H420,31\u001b[8C25%\u001b[34;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;31H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;30H()\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m self.text.winfo_manager():\u001b[40;115H\u001b[K\u001b[40;115H421,0-1\u001b[7C25%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;25H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.text.grid(row=\u001b[95m0\u001b[m, column=\u001b[95m0\u001b[m, sticky=\u001b[95m\"nswe\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H422,25\u001b[8C25%\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;25H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H423,49\u001b[8C25%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;42H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;41H\u001b[46m()\u001b[m\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_render_opml_from_string\u001b[m(self, s: \u001b[1m\u001b[96mstr\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H424,42\u001b[8C25%\u001b[34;42H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;42H\u001b[40;105H   \u001b[34;22H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;41H()\u001b[39;9H\u001b[95m\"\"\"Parse OPML XML from a string and render it into the embedded tree.\"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H425,22\u001b[8C25%\u001b[34;22H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;22H\u001b[40;105H   \u001b[34;41H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H426,41\u001b[8C25%\u001b[34;41H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;41H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(s, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)):\u001b[40;115H\u001b[K\u001b[40;115H427,49\u001b[8C25%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hs = s.decode(\u001b[95m\"utf-8\"\u001b[m, errors=\u001b[95m\"replace\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H428,0-1\u001b[7C25%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;47H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hs = s.lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\r\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H429,47\u001b[8C25%\u001b[34;47H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;47H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[96m# Trim any leading non-XML characters before first '<'\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H430,49\u001b[8C25%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m \u001b[95m\"<\"\u001b[m \u001b[93min\u001b[m s:\u001b[40;115H\u001b[K\u001b[40;115H431,12\u001b[8C25%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hs = s[s.find(\u001b[95m\"<\"\u001b[m):]\u001b[40;115H\u001b[K\u001b[40;115H432,49\u001b[8C26%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;3H\u001b[96m# strip BOM/whitespace\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H433,49\u001b[8C26%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;41H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;25H\u001b[46m(\u001b[15C)\u001b[m\u001b[39;13Hroot = ET.fromstring(s)\u001b[40;115H\u001b[K\u001b[40;115H434,41\u001b[8C26%\u001b[34;41H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;41H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;25H(\u001b[15C)\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H435,49\u001b[8C26%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;24H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[1m\u001b[96mprint\u001b[m(\u001b[95m\"[WARN] OPML parse failed:\"\u001b[m, e)\u001b[40;115H\u001b[K\u001b[40;115H436,24\u001b[8C26%\u001b[34;24H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;24H\u001b[40;105H   \u001b[34;35H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;22H\u001b[46m[\u001b[12C]\u001b[m\u001b[39;13H\u001b[96m# Fall back to text view\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H437,35\u001b[8C26%\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;35H\u001b[40;105H   \u001b[34;24H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;22H[\u001b[12C]\u001b[39;13Hself._hide_opml()\u001b[40;115H\u001b[K\u001b[40;115H438,24\u001b[8C26%\u001b[34;24H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;24H\u001b[40;105H   \u001b[34;35H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;33H\u001b[46m(\u001b[ms\u001b[46m)\u001b[m\u001b[39;13Hself.text.delete(\u001b[95m\"1.0\"\u001b[m, tk.END)\u001b[40;115H\u001b[K\u001b[40;115H439,35\u001b[8C26%\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;35H\u001b[40;105H   \u001b[34;30H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;33H(s)\u001b[39;13Hself.text.insert(tk.END, s \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H440,30\u001b[8C26%\u001b[34;30H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;30H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;18H\u001b[46m(\u001b[30C)\u001b[m\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H441,49\u001b[8C26%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;36H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;18H(\u001b[30C)\u001b[39;9H\u001b[93mif\u001b[m root.tag.lower() != \u001b[95m\"opml\"\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H442,36\u001b[8C26%\u001b[34;36H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;36H\u001b[40;105H   \u001b[34;29H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;28H\u001b[46m()\u001b[m\u001b[39;13Hself._hide_opml()\u001b[40;115H\u001b[K\u001b[40;115H443,29\u001b[8C26%\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;29H\u001b[40;105H   \u001b[34;43H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;28H()\u001b[34;29H\u001b[46m(\u001b[13C)\u001b[m\u001b[39;13Hself.text.delete(\u001b[95m\"1.0\"\u001b[m, tk.END)\u001b[40;115H\u001b[K\u001b[40;115H444,43\u001b[8C26%\u001b[34;43H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;43H\u001b[40;105H   \u001b[34;45H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;29H(\u001b[13C)\u001b[34;29H\u001b[46m(\u001b[15C)\u001b[m\u001b[39;13Hself.text.insert(tk.END, s \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H445,45\u001b[8C26%\u001b[34;45H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;45H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;29H(\u001b[15C)\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H446,18\u001b[8C26%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H447,38\u001b[8C27%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;29H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;28H\u001b[46m()\u001b[m\u001b[39;9H\u001b[96m# It's OPML; render\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H448,29\u001b[8C27%\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;29H\u001b[40;105H   \u001b[34;43H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;28H()\u001b[34;29H\u001b[46m(\u001b[13C)\u001b[m\u001b[39;9Hself._show_opml()\u001b[40;115H\u001b[K\u001b[40;115H449,43\u001b[8C27%\u001b[34;43H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;43H\u001b[40;105H   \u001b[34;45H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;29H(\u001b[13C)\u001b[34;29H\u001b[46m(\u001b[15C)\u001b[m\u001b[39;9H\u001b[96m# Clear previous content\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H450,45\u001b[8C27%\u001b[34;45H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;45H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;29H(\u001b[15C)\u001b[39;9H\u001b[93mfor\u001b[m iid \u001b[93min\u001b[m self._opml_tree.get_children(\u001b[95m\"\"\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H451,18\u001b[8C27%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._opml_tree.delete(iid)\u001b[40;115H\u001b[K\u001b[40;115H452,0-1\u001b[7C27%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;27H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[96m# Find <body> and its <outline> children\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H453,27\u001b[8C27%\u001b[34;27H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;27H\u001b[40;105H   \u001b[34;25H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;24H\u001b[46m()\u001b[m\u001b[39;9Hbody = \u001b[1m\u001b[96mNone\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H454,25\u001b[8C27%\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;25H\u001b[40;105H   \u001b[34;32H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;24H()\u001b[39;9H\u001b[93mfor\u001b[m child \u001b[93min\u001b[m root:\u001b[40;115H\u001b[K\u001b[40;115H455,32\u001b[8C27%\u001b[34;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;32H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m child.tag.lower().endswith(\u001b[95m\"body\"\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H456,49\u001b[8C27%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;35H\u001b[46m(\u001b[miid\u001b[46m)\u001b[m\u001b[39;17Hbody = child\u001b[40;115H\u001b[K\u001b[40;115H457,39\u001b[8C27%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;48H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;35H(iid)\u001b[39;17H\u001b[93mbreak\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H458,48\u001b[8C27%\u001b[34;48H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;48H\u001b[40;105H   \u001b[34;19H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Houtlines = body.findall(\u001b[95m\"outline\"\u001b[m) \u001b[93mif\u001b[m body \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m \u001b[93melse\u001b[m \u001b[1m\u001b[96mlist\u001b[m(root)\u001b[40;115H\u001b[K\u001b[40;115H459,19\u001b[8C27%\u001b[34;19H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;19H\u001b[40;105H   \u001b[34;26H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H460,26\u001b[8C27%\u001b[34;26H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;26H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;42H\u001b[46m(\u001b[6C)\u001b[m\u001b[39;9H\u001b[93mdef\u001b[m \u001b[1m\u001b[96minsert_elem\u001b[m(parent_iid, elem):\u001b[40;115H\u001b[K\u001b[40;115H461,49\u001b[8C27%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;28H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;42H(\u001b[6C)\u001b[39;13Htext = (\u001b[40;115H\u001b[K\u001b[40;115H462,28\u001b[8C27%\u001b[34;28H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;28H\u001b[40;105H   \u001b[34;21H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Helem.attrib.get(\u001b[95m\"text\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H463,21\u001b[8C28%\u001b[34;21H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;21H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mor\u001b[m elem.attrib.get(\u001b[95m\"title\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H464,49\u001b[8C28%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mor\u001b[m (elem.text.strip() \u001b[93mif\u001b[m elem.text \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H465,0-1\u001b[7C28%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;42H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mor\u001b[m \u001b[95m\"[No Text]\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H466,42\u001b[8C28%\u001b[34;42H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;42H\u001b[40;105H   \u001b[34;20H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;20H\u001b[46m(\u001b[39;13H)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H467,20\u001b[8C28%\u001b[34;20H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;20H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;20H(\u001b[34;32H\u001b[46m(\u001b[6C)\u001b[m\u001b[38;13H)\u001b[39;13Hiid = self._opml_tree.insert(parent_iid, \u001b[95m\"end\"\u001b[m, text=text)\u001b[40;115H\u001b[K\u001b[40;115H468,39\u001b[8C28%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;43H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;32H(\u001b[6C)\u001b[34;35H\u001b[46m(\u001b[7C)\u001b[m\u001b[39;13H\u001b[93mfor\u001b[m c \u001b[93min\u001b[m elem:\u001b[40;115H\u001b[K\u001b[40;115H469,43\u001b[8C28%\u001b[34;43H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;43H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;35H(\u001b[7C)\u001b[39;17H\u001b[93mif\u001b[m c.tag.lower() \u001b[93min\u001b[m {\u001b[95m\"outline\"\u001b[m, \u001b[95m\"node\"\u001b[m, \u001b[95m\"item\"\u001b[m}:\u001b[40;115H\u001b[K\u001b[40;115H470,49\u001b[8C28%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;30H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hinsert_elem(iid, c)\u001b[40;115H\u001b[K\u001b[40;115H471,30\u001b[8C28%\u001b[34;30H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;30H\u001b[40;105H   \u001b[34;13H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[29;20H\u001b[46m(\u001b[34;13H)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H472,13\u001b[8C28%\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;13H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[28;20H(\u001b[33;13H)\u001b[39;9H\u001b[93mfor\u001b[m e \u001b[93min\u001b[m outlines:\u001b[40;115H\u001b[K\u001b[40;115H473,49\u001b[8C28%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;26H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m e.tag.lower() \u001b[93min\u001b[m {\u001b[95m\"outline\"\u001b[m, \u001b[95m\"node\"\u001b[m, \u001b[95m\"item\"\u001b[m}:\u001b[40;115H\u001b[K\u001b[40;115H474,26\u001b[8C28%\u001b[34;26H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;26H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hinsert_elem(\u001b[95m\"\"\u001b[m, e)\u001b[40;115H\u001b[K\u001b[40;115H475,49\u001b[8C28%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;32H\u001b[46m(\u001b[miid, c\u001b[46m)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H476,39\u001b[8C28%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;32H(iid, c)\u001b[39;9H\u001b[96m# Auto-expand and number\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H477,0-1\u001b[7C28%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;26H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._opml_expand_to_depth_in_pane(self.opml_expand_depth)\u001b[40;115H\u001b[K\u001b[40;115H478,26\u001b[8C29%\u001b[34;26H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;26H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._opml_update_numbering()\u001b[40;115H\u001b[K\u001b[40;115H479,49\u001b[8C29%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;34H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;28H\u001b[46m(\u001b[5C)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H480,34\u001b[8C29%\u001b[34;34H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;34H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;28H(\u001b[5C)\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_opml_expand_to_depth_in_pane\u001b[m(self, depth: \u001b[1m\u001b[96mint\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H481,0-1\u001b[7C29%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;32H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mhasattr\u001b[m(self, \u001b[95m\"_opml_tree\"\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H482,32\u001b[8C29%\u001b[34;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;32H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H483,49\u001b[8C29%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;37H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;36H\u001b[46m()\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H484,37\u001b[8C29%\u001b[34;37H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;37H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;36H()\u001b[39;9H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mwalk\u001b[m(iid, d):\u001b[40;115H\u001b[K\u001b[40;115H485,0-1\u001b[7C29%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m d >= depth:\u001b[40;115H\u001b[K\u001b[40;115H486,49\u001b[8C29%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;43H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H487,43\u001b[8C29%\u001b[34;43H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;43H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._opml_tree.item(iid, \u001b[1m\u001b[96mopen\u001b[m=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H488,18\u001b[8C29%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mfor\u001b[m c \u001b[93min\u001b[m self._opml_tree.get_children(iid):\u001b[40;115H\u001b[K\u001b[40;115H489,0-1\u001b[7C29%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;25H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hwalk(c, d + \u001b[95m1\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H490,25\u001b[8C29%\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;25H\u001b[40;105H   \u001b[34;26H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H491,26\u001b[8C29%\u001b[34;26H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;26H\u001b[40;105H   \u001b[34;22H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mfor\u001b[m top \u001b[93min\u001b[m self._opml_tree.get_children(\u001b[95m\"\"\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H492,22\u001b[8C29%\u001b[34;22H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;22H\u001b[40;105H   \u001b[34;48H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;33H\u001b[46m(\u001b[14C)\u001b[m\u001b[39;13Hwalk(top, \u001b[95m0\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H493,48\u001b[8C30%\u001b[34;48H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;48H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;33H(\u001b[14C)\u001b[40;115H\u001b[K\u001b[40;115H494,49\u001b[8C30%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;30H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;21H\u001b[46m(\u001b[8C)\u001b[m\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_opml_update_numbering\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H495,30\u001b[8C30%\u001b[34;30H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;30H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;21H(\u001b[8C)\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mhasattr\u001b[m(self, \u001b[95m\"_opml_tree\"\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H496,0-1\u001b[7C30%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H497,49\u001b[8C30%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;24H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;17H\u001b[46m(\u001b[6C)\u001b[m\u001b[39;9Hshow = \u001b[1m\u001b[96mbool\u001b[m(self._opml_show_nums.get())\u001b[40;115H\u001b[K\u001b[40;115H498,24\u001b[8C30%\u001b[34;24H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;24H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;17H(\u001b[6C)\u001b[39;9H\u001b[93mif\u001b[m show:\u001b[40;115H\u001b[K\u001b[40;115H499,0-1\u001b[7C30%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;37H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._opml_tree.column(\u001b[95m\"num\"\u001b[m, width=\u001b[95m90\u001b[m, minwidth=\u001b[95m60\u001b[m, stretch=\u001b[1m\u001b[96mFalse\u001b[m, anchor=\u001b[95m\"e\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H500,37\u001b[8C30%\u001b[34;37H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;37H\u001b[40;105H   \u001b[34;43H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93melse\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H501,43\u001b[8C30%\u001b[34;43H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;43H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._opml_tree.column(\u001b[95m\"num\"\u001b[m, width=\u001b[95m0\u001b[m, minwidth=\u001b[95m0\u001b[m, stretch=\u001b[1m\u001b[96mFalse\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H502,18\u001b[8C30%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;47H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;20H\u001b[46m(\u001b[26C)\u001b[m\u001b[39;13H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mclear\u001b[m(iid=\u001b[95m\"\"\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H503,47\u001b[8C30%\u001b[34;47H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;47H\u001b[40;105H   \u001b[34;16H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;20H(\u001b[26C)\u001b[39;17H\u001b[93mfor\u001b[m c \u001b[93min\u001b[m self._opml_tree.get_children(iid):\u001b[40;115H\u001b[K\u001b[40;115H504,16\u001b[8C30%\u001b[34;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;16H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hself._opml_tree.set(c, \u001b[95m\"num\"\u001b[m, \u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H505,49\u001b[8C30%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;13H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hclear(c)\u001b[40;115H\u001b[K\u001b[40;115H506,13\u001b[8C30%\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;13H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hclear()\u001b[40;115H\u001b[K\u001b[40;115H507,49\u001b[8C30%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;30H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H508,30\u001b[8C31%\u001b[34;30H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;30H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H509,49\u001b[8C31%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mrenumber\u001b[m(iid=\u001b[95m\"\"\u001b[m, prefix=\u001b[1m\u001b[96mNone\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H510,49\u001b[8C31%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;28H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;26H\u001b[46m(\u001b[mc\u001b[46m)\u001b[m\u001b[39;13H\u001b[93mif\u001b[m prefix \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H511,28\u001b[8C31%\u001b[34;28H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;28H\u001b[40;105H   \u001b[34;19H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;26H(c)\u001b[34;18H\u001b[46m()\u001b[m\u001b[39;17Hprefix = []\u001b[40;115H\u001b[K\u001b[40;115H512,19\u001b[8C31%\u001b[34;19H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;19H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;18H()\u001b[39;13Hkids = self._opml_tree.get_children(iid)\u001b[40;115H\u001b[K\u001b[40;115H513,18\u001b[8C31%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mfor\u001b[m idx, c \u001b[93min\u001b[m \u001b[1m\u001b[96menumerate\u001b[m(kids, start=\u001b[95m1\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H514,0-1\u001b[7C31%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;42H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hparts = prefix + [idx]\u001b[40;115H\u001b[K\u001b[40;115H515,42\u001b[8C31%\u001b[34;42H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;42H\u001b[40;105H   \u001b[34;30H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself._opml_tree.set(c, \u001b[95m\"num\"\u001b[m, \u001b[95m\".\"\u001b[m.join(\u001b[1m\u001b[96mstr\u001b[m(n) \u001b[93mfor\u001b[m n \u001b[93min\u001b[m parts))\u001b[40;115H\u001b[K\u001b[40;115H516,30\u001b[8C31%\u001b[34;30H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;30H\u001b[40;105H   \u001b[34;27H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;26H\u001b[46m[]\u001b[m\u001b[39;17Hrenumber(c, parts)\u001b[40;115H\u001b[K\u001b[40;115H517,27\u001b[8C31%\u001b[34;27H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;27H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;26H[]\u001b[40;115H\u001b[K\u001b[40;115H518,49\u001b[8C31%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hrenumber(\u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H519,49\u001b[8C31%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;34H\u001b[46m[\u001b[midx\u001b[46m]\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H520,38\u001b[8C31%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;34H[idx]\u001b[39;5H\u001b[96m# ---------------- Image ops ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H521,49\u001b[8C31%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;34H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;25H\u001b[46m(\u001b[8C)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H522,34\u001b[8C31%\u001b[34;34H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;34H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;25H(\u001b[8C)\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_looks_like_image\u001b[m(self, title: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mbool\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H523,0-1\u001b[7C31%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;20H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;17H\u001b[46m(\u001b[2C)\u001b[m\u001b[39;9H\u001b[93mreturn\u001b[m title.lower().endswith((\u001b[95m\".png\"\u001b[m, \u001b[95m\".jpg\"\u001b[m, \u001b[95m\".jpeg\"\u001b[m, \u001b[95m\".gif\"\u001b[m, \u001b[95m\".bmp\"\u001b[m))\u001b[40;115H\u001b[K\u001b[40;115H524,20\u001b[8C32%\u001b[34;20H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;20H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;17H(\u001b[2C)\u001b[40;115H\u001b[K\u001b[40;115H525,0-1\u001b[7C32%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_show_image_bytes\u001b[m(self, raw: \u001b[1m\u001b[96mbytes\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H526,49\u001b[8C32%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[38;5;81mfrom\u001b[m io \u001b[38;5;81mimport\u001b[m BytesIO\u001b[40;115H\u001b[K\u001b[40;115H527,0-1\u001b[7C32%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hpil = Image.open(BytesIO(raw))\u001b[40;115H\u001b[K\u001b[40;115H528,49\u001b[8C32%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[96m# Size to window-ish\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H529,49\u001b[8C32%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hw, h = \u001b[1m\u001b[96mmax\u001b[m(\u001b[95m100\u001b[m, self.winfo_width() - \u001b[95m40\u001b[m), \u001b[1m\u001b[96mmax\u001b[m(\u001b[95m100\u001b[m, self.winfo_height() - \u001b[95m40\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H530,0-1\u001b[7C32%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;44H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hpil.thumbnail((w, h))\u001b[40;115H\u001b[K\u001b[40;115H531,44\u001b[8C32%\u001b[34;44H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;44H\u001b[40;105H   \u001b[34;30H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._last_pil_img = pil\u001b[40;115H\u001b[K\u001b[40;115H532,30\u001b[8C32%\u001b[34;30H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;30H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;25H\u001b[46m(\u001b[12C)\u001b[m\u001b[39;9Hself._last_tk_img = ImageTk.PhotoImage(pil)\u001b[40;115H\u001b[K\u001b[40;115H533,38\u001b[8C32%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;28H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;25H(\u001b[12C)\u001b[39;9Hself.img_label.configure(image=self._last_tk_img)\u001b[40;115H\u001b[K\u001b[40;115H534,28\u001b[8C32%\u001b[34;28H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;28H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H535,49\u001b[8C32%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;29H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;22H\u001b[46m(\u001b[m(w, h)\u001b[46m)\u001b[m\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_hide_image\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H536,29\u001b[8C32%\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;29H\u001b[40;105H   \u001b[34;32H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;22H((w, h))\u001b[39;9H\u001b[93mif\u001b[m self.img_label \u001b[93mand\u001b[m self.img_label.winfo_manager():\u001b[40;115H\u001b[K\u001b[40;115H537,32\u001b[8C32%\u001b[34;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;32H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.img_label.configure(image=\u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H538,49\u001b[8C32%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H539,49\u001b[8C33%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_toggle_image\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H540,0-1\u001b[7C33%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;26H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m self._last_pil_img:\u001b[40;115H\u001b[K\u001b[40;115H541,26\u001b[8C33%\u001b[34;26H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;26H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H542,49\u001b[8C33%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;46H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;37H\u001b[46m(\u001b[8C)\u001b[m\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m self._image_enlarged:\u001b[40;115H\u001b[K\u001b[40;115H543,46\u001b[8C33%\u001b[34;46H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;46H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;37H(\u001b[8C)\u001b[39;13Hwin = tk.Toplevel(self)\u001b[40;115H\u001b[K\u001b[40;115H544,0-1\u001b[7C33%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;28H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hwin.title(\u001b[95m\"Image Preview\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H545,28\u001b[8C33%\u001b[34;28H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;28H\u001b[40;105H   \u001b[34;34H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hsw, sh = self.winfo_screenwidth(), self.winfo_screenheight()\u001b[40;115H\u001b[K\u001b[40;115H546,34\u001b[8C33%\u001b[34;34H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;34H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hiw, ih = self._last_pil_img.size\u001b[40;115H\u001b[K\u001b[40;115H547,18\u001b[8C33%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;36H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hwin.geometry(f\u001b[95m\"{min(iw, sw)}x{min(ih, sh)}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H548,36\u001b[8C33%\u001b[34;36H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;36H\u001b[40;105H   \u001b[34;35H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;30H\u001b[46m(\u001b[mself\u001b[46m)\u001b[m\u001b[39;13Hcanvas = tk.Canvas(win)\u001b[40;115H\u001b[K\u001b[40;115H549,35\u001b[8C33%\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;35H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;30H(self)\u001b[34;22H\u001b[46m(\u001b[15C)\u001b[m\u001b[39;13Hhbar = ttk.Scrollbar(win, orient=\u001b[95m\"horizontal\"\u001b[m, command=canvas.xview)\u001b[40;115H\u001b[K\u001b[40;115H550,38\u001b[8C33%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;22H(\u001b[15C)\u001b[39;13Hvbar = ttk.Scrollbar(win, orient=\u001b[95m\"vertical\"\u001b[m, command=canvas.yview)\u001b[40;115H\u001b[K\u001b[40;115H551,49\u001b[8C33%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;44H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hcanvas.configure(xscrollcommand=hbar.set, yscrollcommand=vbar.set, scrollregion=(\u001b[95m0\u001b[m, \u001b[95m0\u001b[m, iw, ih))\u001b[40;115H\u001b[K\u001b[40;115H552,44\u001b[8C33%\u001b[34;44H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;44H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hcanvas.grid(row=\u001b[95m0\u001b[m, column=\u001b[95m0\u001b[m, sticky=\u001b[95m\"nsew\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H553,49\u001b[8C33%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;35H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;31H\u001b[46m(\u001b[mwin\u001b[46m)\u001b[m\u001b[39;13Hhbar.grid(row=\u001b[95m1\u001b[m, column=\u001b[95m0\u001b[m, sticky=\u001b[95m\"we\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H554,35\u001b[8C34%\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;35H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;31H(win)\u001b[39;13Hvbar.grid(row=\u001b[95m0\u001b[m, column=\u001b[95m1\u001b[m, sticky=\u001b[95m\"ns\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H555,49\u001b[8C34%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hwin.grid_rowconfigure(\u001b[95m0\u001b[m, weight=\u001b[95m1\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H556,49\u001b[8C34%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hwin.grid_columnconfigure(\u001b[95m0\u001b[m, weight=\u001b[95m1\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H557,49\u001b[8C34%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Htk_img = ImageTk.PhotoImage(self._last_pil_img)\u001b[40;115H\u001b[K\u001b[40;115H558,49\u001b[8C34%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hcanvas.create_image(\u001b[95m0\u001b[m, \u001b[95m0\u001b[m, anchor=\u001b[95m\"nw\"\u001b[m, image=tk_img)\u001b[40;115H\u001b[K\u001b[40;115H559,49\u001b[8C34%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hcanvas.image = tk_img\u001b[40;115H\u001b[K\u001b[40;115H560,49\u001b[8C34%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;46H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;34H\u001b[46m(\u001b[11C)\u001b[m\u001b[39;13Hwin.bind(\u001b[95m\"<Button-1>\"\u001b[m, \u001b[93mlambda\u001b[m e: self._toggle_image())\u001b[40;115H\u001b[K\u001b[40;115H561,46\u001b[8C34%\u001b[34;46H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;46H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;34H(\u001b[11C)\u001b[34;37H\u001b[46m(\u001b[11C)\u001b[m\u001b[39;13Hself._image_enlarged = \u001b[1m\u001b[96mTrue\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H562,49\u001b[8C34%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;37H(\u001b[11C)\u001b[39;9H\u001b[93melse\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H563,49\u001b[8C34%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hdefault = f\u001b[95m\"document_{self.current_doc_id}.png\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H564,49\u001b[8C34%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;33H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hpath = filedialog.asksaveasfilename(\u001b[40;115H\u001b[K\u001b[40;115H565,33\u001b[8C34%\u001b[34;33H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;33H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Htitle=\u001b[95m\"Save Image\"\u001b[m,\u001b[40;115H\u001b[K\u001b[40;115H566,49\u001b[8C34%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hinitialfile=default,\u001b[40;115H\u001b[K\u001b[40;115H567,39\u001b[8C34%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;13H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hdefaultextension=\u001b[95m\".png\"\u001b[m,\u001b[40;115H\u001b[K\u001b[40;115H568,13\u001b[8C34%\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;13H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hfiletypes=[(\u001b[95m\"PNG\"\u001b[m, \u001b[95m\"*.png\"\u001b[m), (\u001b[95m\"All Files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)],\u001b[40;115H\u001b[K\u001b[40;115H569,49\u001b[8C34%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;48H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;48H\u001b[46m(\u001b[39;13H)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H570,48\u001b[8C35%\u001b[34;48H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;48H\u001b[40;105H   \u001b[34;35H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;48H(\u001b[38;13H)\u001b[39;13H\u001b[93mif\u001b[m path:\u001b[40;115H\u001b[K\u001b[40;115H571,35\u001b[8C35%\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;35H\u001b[40;105H   \u001b[34;36H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H572,36\u001b[8C35%\u001b[34;36H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;36H\u001b[40;105H   \u001b[34;40H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hself._last_pil_img.save(path)\u001b[40;115H\u001b[K\u001b[40;115H573,40\u001b[8C35%\u001b[34;40H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;40H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hmessagebox.showinfo(\u001b[95m\"Save Image\"\u001b[m, f\u001b[95m\"Image saved to:\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m{path}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H574,49\u001b[8C35%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;13H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[29;48H\u001b[46m(\u001b[34;13H)\u001b[m\u001b[39;17H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H575,13\u001b[8C35%\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;13H\u001b[40;105H   \u001b[34;20H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[28;48H(\u001b[33;13H)\u001b[39;21Hmessagebox.showerror(\u001b[95m\"Save Image\"\u001b[m, f\u001b[95m\"Error saving image:{e}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H576,20\u001b[8C35%\u001b[34;20H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;20H\u001b[40;105H   \u001b[34;20H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._image_enlarged = \u001b[1m\u001b[96mFalse\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H577,20\u001b[8C35%\u001b[34;20H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;20H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;44H\u001b[46m(\u001b[mpath\u001b[46m)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H578,49\u001b[8C35%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;44H(path)\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_handle_image\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H579,49\u001b[8C35%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H580,38\u001b[8C35%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hstart = self.text.index(tk.SEL_FIRST)\u001b[40;115H\u001b[K\u001b[40;115H581,49\u001b[8C35%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;40H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hend = self.text.index(tk.SEL_LAST)\u001b[40;115H\u001b[K\u001b[40;115H582,40\u001b[8C35%\u001b[34;40H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;40H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hprompt = self.text.get(start, end).strip()\u001b[40;115H\u001b[K\u001b[40;115H583,0-1\u001b[7C35%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;28H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m tk.TclError:\u001b[40;115H\u001b[K\u001b[40;115H584,28\u001b[8C35%\u001b[34;28H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;28H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showwarning(\u001b[95m\"IMAGE\"\u001b[m, \u001b[95m\"Please select some text first.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H585,12\u001b[8C36%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;36H\u001b[46m(\u001b[12C)\u001b[m\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H586,49\u001b[8C36%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;46H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;36H(\u001b[12C)\u001b[34;34H\u001b[46m(\u001b[11C)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H587,46\u001b[8C36%\u001b[34;46H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;46H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;34H(\u001b[11C)\u001b[39;9H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mwrk\u001b[m():\u001b[40;115H\u001b[K\u001b[40;115H588,49\u001b[8C36%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;27H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H589,27\u001b[8C36%\u001b[34;27H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;27H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hpil = image_generator.generate_image(prompt)\u001b[40;115H\u001b[K\u001b[40;115H590,49\u001b[8C36%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself._last_pil_img = pil\u001b[40;115H\u001b[K\u001b[40;115H591,18\u001b[8C36%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hthumb = pil.copy()\u001b[40;115H\u001b[K\u001b[40;115H592,0-1\u001b[7C36%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hthumb.thumbnail((\u001b[95m800\u001b[m, \u001b[95m400\u001b[m))\u001b[40;115H\u001b[K\u001b[40;115H593,18\u001b[8C36%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;16H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself._last_tk_img = ImageTk.PhotoImage(thumb)\u001b[40;115H\u001b[K\u001b[40;115H594,16\u001b[8C36%\u001b[34;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;16H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself._image_enlarged = \u001b[1m\u001b[96mFalse\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H595,49\u001b[8C36%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;40H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself.after(\u001b[95m0\u001b[m, \u001b[93mlambda\u001b[m: self.img_label.configure(image=self._last_tk_img))\u001b[40;115H\u001b[K\u001b[40;115H596,40\u001b[8C36%\u001b[34;40H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;40H\u001b[40;105H   \u001b[34;34H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;33H\u001b[46m()\u001b[m\u001b[39;13H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H597,34\u001b[8C36%\u001b[34;34H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;34H\u001b[40;105H   \u001b[34;43H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;33H()\u001b[34;32H\u001b[46m(\u001b[10C)\u001b[m\u001b[39;17Hself.after(\u001b[95m0\u001b[m, \u001b[93mlambda\u001b[m: messagebox.showerror(\u001b[95m\"Image Error\"\u001b[m, \u001b[1m\u001b[96mstr\u001b[m(e)))\u001b[40;115H\u001b[K\u001b[40;115H598,43\u001b[8C36%\u001b[34;43H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;43H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;32H(\u001b[10C)\u001b[40;115H\u001b[K\u001b[40;115H599,49\u001b[8C36%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;44H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hthreading.Thread(target=wrk, daemon=\u001b[1m\u001b[96mTrue\u001b[m).start()\u001b[40;115H\u001b[K\u001b[40;115H600,44\u001b[8C37%\u001b[34;44H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;44H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H601,49\u001b[8C37%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;34H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[96m# ---------------- Import/Export ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H602,34\u001b[8C37%\u001b[34;34H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;34H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H603,49\u001b[8C37%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[96m# ---------------- Convert to OPML (Phase 1, safe) ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H604,0-1\u001b[7C37%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;25H\u001b[46m(\u001b[23C)\u001b[m\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_convert_current_to_opml\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H605,49\u001b[8C37%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;25H(\u001b[23C)\u001b[39;9H\u001b[95m\"\"\"Create a new OPML document from the selection (or entire doc) without altering the original.\"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H606,0-1\u001b[7C37%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H607,49\u001b[8C37%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m EngineConfig \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H608,0-1\u001b[7C37%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hmessagebox.showerror(\u001b[95m\"OPML\"\u001b[m, \u001b[95m\"aopmlengine.py not found or failed to import.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H609,49\u001b[8C37%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H610,39\u001b[8C37%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mNameError\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H611,49\u001b[8C37%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showerror(\u001b[95m\"OPML\"\u001b[m, \u001b[95m\"aopmlengine import not available.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H612,12\u001b[8C37%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;36H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H613,36\u001b[8C37%\u001b[34;36H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;36H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H614,49\u001b[8C37%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;22H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96mgetattr\u001b[m(self, \u001b[95m\"current_doc_id\"\u001b[m, \u001b[1m\u001b[96mNone\u001b[m) \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H615,22\u001b[8C37%\u001b[34;22H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;22H\u001b[40;105H   \u001b[33;49H\u001b[40;117H4,49\u001b[33;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[33;49H\u001b[40;105H   \u001b[32;36H\u001b[40;117H3,36\u001b[32;36H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;36H\u001b[40;105H   \u001b[31;12H\u001b[40;117H2,12\u001b[31;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;12H\u001b[40;105H   \u001b[30;49H\u001b[40;117H1,49\u001b[30;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;49H\u001b[40;105H   \u001b[29;39H\u001b[40;117H0,3\u001b[29;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;39H\u001b[40;105H   \u001b[28;49H\u001b[40;116H09,4\u001b[28;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;49H\u001b[40;105H   \u001b[27;1H\u001b[40;117H8,0-1\u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;1H\u001b[40;105H   \u001b[28;49H\u001b[40;117H9,49 \u001b[28;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;49H\u001b[40;105H   \u001b[29;39H\u001b[40;116H10,3\u001b[29;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;39H\u001b[40;105H   \u001b[30;49H\u001b[40;117H1,4\u001b[30;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;49H\u001b[40;105H   \u001b[31;12H\u001b[40;117H2,12\u001b[31;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;12H\u001b[40;105H   \u001b[32;36H\u001b[40;117H3,36\u001b[32;36H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;36H\u001b[40;105H   \u001b[33;49H\u001b[40;117H4,49\u001b[33;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[33;49H\u001b[40;105H   \u001b[34;22H\u001b[40;117H5,22\u001b[34;22H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;22H\u001b[40;105H   \u001b[34;25H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showwarning(\u001b[95m\"OPML\"\u001b[m, \u001b[95m\"No document selected.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H616,25\u001b[8C38%\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;25H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H617,49\u001b[8C38%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H618,18\u001b[8C38%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[96m# Gather source text\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H619,0-1\u001b[7C38%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hfull_text = self.text.get(\u001b[95m\"1.0\"\u001b[m, \u001b[95m\"end-1c\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H620,49\u001b[8C38%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H621,49\u001b[8C38%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hsel_start = self.text.index(tk.SEL_FIRST)\u001b[40;115H\u001b[K\u001b[40;115H622,18\u001b[8C38%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hsel_end = self.text.index(tk.SEL_LAST)\u001b[40;115H\u001b[K\u001b[40;115H623,0-1\u001b[7C38%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;28H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hsrc_txt = self.text.get(sel_start, sel_end)\u001b[40;115H\u001b[K\u001b[40;115H624,28\u001b[8C38%\u001b[34;28H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;28H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m tk.TclError:\u001b[40;115H\u001b[K\u001b[40;115H625,49\u001b[8C38%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hsrc_txt = full_text\u001b[40;115H\u001b[K\u001b[40;115H626,12\u001b[8C38%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H627,49\u001b[8C38%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m (src_txt \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m).strip():\u001b[40;115H\u001b[K\u001b[40;115H628,49\u001b[8C38%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showwarning(\u001b[95m\"OPML\"\u001b[m, \u001b[95m\"Nothing to convert.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H629,49\u001b[8C38%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;27H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H630,27\u001b[8C38%\u001b[34;27H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;27H\u001b[40;105H   \u001b[34;31H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H631,31\u001b[8C39%\u001b[34;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;31H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H632,0-1\u001b[7C39%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hcur = self.doc_store.get_document(self.current_doc_id)\u001b[40;115H\u001b[K\u001b[40;115H633,39\u001b[8C39%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hcur_title = (cur[\u001b[95m\"title\"\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(cur, \u001b[1m\u001b[96mdict\u001b[m) \u001b[93melse\u001b[m (cur[\u001b[95m1\u001b[m] \u001b[93mif\u001b[m cur \u001b[93melse\u001b[m \u001b[1m\u001b[96mNone\u001b[m)) \u001b[93mor\u001b[m \u001b[95m\"Document\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H634,49\u001b[8C39%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hopml_title = f\u001b[95m\"{cur_title} (OPML)\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H635,18\u001b[8C39%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hcfg = EngineConfig(enable_ai=\u001b[1m\u001b[96mFalse\u001b[m, title=opml_title, owner_name=\u001b[1m\u001b[96mNone\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H636,0-1\u001b[7C39%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hopml_doc = build_opml_from_html(src_txt, cfg) \u001b[93mif\u001b[m _HTML_SIGNS.search(src_txt) \u001b[93melse\u001b[m build_opml_from_text(src_txt, cfg)\u001b[40;115H\u001b[K\u001b[40;115H637,12\u001b[8C39%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hnew_id = self.doc_store.add_document(opml_title, opml_doc.to_xml())\u001b[40;115H\u001b[K\u001b[40;115H638,49\u001b[8C39%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._refresh_sidebar()\u001b[40;115H\u001b[K\u001b[40;115H639,49\u001b[8C39%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;46H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[96m# Auto-open the OPML doc\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H640,46\u001b[8C39%\u001b[34;46H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;46H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._on_link_click(new_id)\u001b[40;115H\u001b[K\u001b[40;115H641,49\u001b[8C39%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showinfo(\u001b[95m\"OPML\"\u001b[m, f\u001b[95m\"Created OPML document #{new_id}.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H642,49\u001b[8C39%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;49H\u001b[46m(\u001b[29C)\u001b[m\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H643,49\u001b[8C39%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;35H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;49H(\u001b[29C)\u001b[34;34H\u001b[46m()\u001b[m\u001b[39;13Hmessagebox.showerror(\u001b[95m\"OPML\"\u001b[m, f\u001b[95m\"Convert failed: {e}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H644,35\u001b[8C39%\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;35H\u001b[40;105H   \u001b[34;36H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;34H()\u001b[40;115H\u001b[K\u001b[40;115H645,36\u001b[8C39%\u001b[34;36H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;36H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;32H\u001b[46m(\u001b[mnew_id\u001b[46m)\u001b[m\u001b[39;5H\u001b[96m# ---------------- Batch: Create OPML copies (SAFE, no edits to originals) ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H646,39\u001b[8C40%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;32H(new_id)\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_get_selected_ids_from_sidebar\u001b[m(self) -> \u001b[1m\u001b[96mlist\u001b[m[\u001b[1m\u001b[96mint\u001b[m]:\u001b[40;115H\u001b[K\u001b[40;115H647,49\u001b[8C40%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;30H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hids: \u001b[1m\u001b[96mlist\u001b[m[\u001b[1m\u001b[96mint\u001b[m] = []\u001b[40;115H\u001b[K\u001b[40;115H648,30\u001b[8C40%\u001b[34;30H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;30H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mfor\u001b[m iid \u001b[93min\u001b[m self.sidebar.selection():\u001b[40;115H\u001b[K\u001b[40;115H649,49\u001b[8C40%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hvals = self.sidebar.item(iid, \u001b[95m\"values\"\u001b[m) \u001b[93mor\u001b[m []\u001b[40;115H\u001b[K\u001b[40;115H650,0-1\u001b[7C40%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m vals:\u001b[40;115H\u001b[K\u001b[40;115H651,49\u001b[8C40%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mcontinue\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H652,49\u001b[8C40%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;27H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;26H\u001b[46m[]\u001b[m\u001b[39;13H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H653,27\u001b[8C40%\u001b[34;27H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;27H\u001b[40;105H   \u001b[34;44H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;26H[]\u001b[39;17Hids.append(\u001b[1m\u001b[96mint\u001b[m(vals[\u001b[95m0\u001b[m]))\u001b[40;115H\u001b[K\u001b[40;115H654,44\u001b[8C40%\u001b[34;44H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;44H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H655,49\u001b[8C40%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;24H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mpass\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H656,24\u001b[8C40%\u001b[34;24H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;24H\u001b[40;105H   \u001b[34;24H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mreturn\u001b[m ids\u001b[40;115H\u001b[K\u001b[40;115H657,24\u001b[8C40%\u001b[34;24H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;24H\u001b[40;105H   \u001b[34;16H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H658,16\u001b[8C40%\u001b[34;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;16H\u001b[40;105H   \u001b[34;40H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;27H\u001b[46m(\u001b[12C)\u001b[m\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_batch_create_opml_copies\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H659,40\u001b[8C40%\u001b[34;40H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;40H\u001b[40;105H   \u001b[34;29H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;27H(\u001b[12C)\u001b[39;9H\u001b[95m\"\"\"Create OPML siblings for all selected docs. Originals are left untouched.\"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H660,29\u001b[8C40%\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;29H\u001b[40;105H   \u001b[34;20H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H661,20\u001b[8C41%\u001b[34;20H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;20H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m EngineConfig \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H662,18\u001b[8C41%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hmessagebox.showerror(\u001b[95m\"Batch OPML\"\u001b[m, \u001b[95m\"aopmlengine.py not found or failed to import.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H663,0-1\u001b[7C41%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;40H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H664,40\u001b[8C41%\u001b[34;40H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;40H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mNameError\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H665,49\u001b[8C41%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showerror(\u001b[95m\"Batch OPML\"\u001b[m, \u001b[95m\"aopmlengine import not available.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H666,12\u001b[8C41%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;36H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H667,36\u001b[8C41%\u001b[34;36H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;36H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H668,49\u001b[8C41%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;22H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hids = self._get_selected_ids_from_sidebar()\u001b[40;115H\u001b[K\u001b[40;115H669,22\u001b[8C41%\u001b[34;22H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;22H\u001b[40;105H   \u001b[34;25H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m ids:\u001b[40;115H\u001b[K\u001b[40;115H670,25\u001b[8C41%\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;25H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showwarning(\u001b[95m\"Batch OPML\"\u001b[m, \u001b[95m\"No documents selected.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H671,49\u001b[8C41%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H672,18\u001b[8C41%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H673,0-1\u001b[7C41%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hcreated = []\u001b[40;115H\u001b[K\u001b[40;115H674,49\u001b[8C41%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;19H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hfailed = []\u001b[40;115H\u001b[K\u001b[40;115H675,19\u001b[8C41%\u001b[34;19H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;19H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H676,49\u001b[8C41%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[96m# Busy cursor\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H677,18\u001b[8C42%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H678,0-1\u001b[7C42%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;20H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;19H\u001b[46m[]\u001b[m\u001b[39;13Hself.config(cursor=\u001b[95m\"watch\"\u001b[m); self.update_idletasks()\u001b[40;115H\u001b[K\u001b[40;115H679,20\u001b[8C42%\u001b[34;20H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;20H\u001b[40;105H   \u001b[34;19H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;19H[]\u001b[34;18H\u001b[46m[]\u001b[m\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H680,19\u001b[8C42%\u001b[34;19H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;19H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;18H[]\u001b[39;13H\u001b[93mpass\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H681,0-1\u001b[7C42%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;21H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H682,21\u001b[8C42%\u001b[34;21H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;21H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mfor\u001b[m did \u001b[93min\u001b[m ids:\u001b[40;115H\u001b[K\u001b[40;115H683,12\u001b[8C42%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H684,49\u001b[8C42%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;25H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hrow = self.doc_store.get_document(did)\u001b[40;115H\u001b[K\u001b[40;115H685,25\u001b[8C42%\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;25H\u001b[40;105H   \u001b[34;16H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m row:\u001b[40;115H\u001b[K\u001b[40;115H686,16\u001b[8C42%\u001b[34;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;16H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21H\u001b[93mraise\u001b[m \u001b[38;5;121mRuntimeError\u001b[m(\u001b[95m\"Not found\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H687,0-1\u001b[7C42%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;23H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[96m# title/body from dict or tuple\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H688,23\u001b[8C42%\u001b[34;23H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;23H\u001b[40;105H   \u001b[34;16H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Htitle = row[\u001b[95m\"title\"\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(row, \u001b[1m\u001b[96mdict\u001b[m) \u001b[93melse\u001b[m (row[\u001b[95m1\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(row) > \u001b[95m1\u001b[m \u001b[93melse\u001b[m \u001b[95m\"Document\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H689,16\u001b[8C42%\u001b[34;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;16H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hbody = row[\u001b[95m\"body\"\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(row, \u001b[1m\u001b[96mdict\u001b[m) \u001b[93melse\u001b[m (row[\u001b[95m2\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(row) > \u001b[95m2\u001b[m \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H690,49\u001b[8C42%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;27H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)):\u001b[40;115H\u001b[K\u001b[40;115H691,27\u001b[8C42%\u001b[34;27H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;27H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21H\u001b[93mraise\u001b[m \u001b[38;5;121mRuntimeError\u001b[m(\u001b[95m\"Binary document not supported\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H692,49\u001b[8C43%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;47H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H693,47\u001b[8C43%\u001b[34;47H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;47H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hopml_title = f\u001b[95m\"{title or 'Document'} (OPML)\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H694,49\u001b[8C43%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;49H\u001b[46m(\u001b[9C)\u001b[m\u001b[39;17H\u001b[96m# Build xml and validate; if parsing fails, rebuild via text path\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H695,49\u001b[8C43%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;49H(\u001b[9C)\u001b[39;17H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H696,49\u001b[8C43%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hxml_text = self._make_opml_from_text_or_html(body \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m, opml_title)\u001b[40;115H\u001b[K\u001b[40;115H697,49\u001b[8C43%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m _e:\u001b[40;115H\u001b[K\u001b[40;115H698,0-1\u001b[7C43%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21H\u001b[93mraise\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H699,49\u001b[8C43%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m self._validate_opml_xml(xml_text):\u001b[40;115H\u001b[K\u001b[40;115H700,49\u001b[8C43%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;20H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21H\u001b[96m# Last resort: strip any control chars and rebuild\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H701,20\u001b[8C43%\u001b[34;20H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;20H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H702,49\u001b[8C43%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;25Hclean = (body \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m).replace(\u001b[95m\"\u001b[m\u001b[38;5;224m\\r\u001b[m\u001b[95m\"\u001b[m, \u001b[95m\"\"\u001b[m).lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H703,39\u001b[8C43%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;25H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;25Hxml_text = self._make_opml_from_text_or_html(clean, opml_title)\u001b[40;115H\u001b[K\u001b[40;115H704,25\u001b[8C43%\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;25H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m _e2:\u001b[40;115H\u001b[K\u001b[40;115H705,49\u001b[8C43%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;25H\u001b[93mraise\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H706,49\u001b[8C43%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;24H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hnew_id = self.doc_store.add_document(opml_title, xml_text)\u001b[40;115H\u001b[K\u001b[40;115H707,24\u001b[8C44%\u001b[34;24H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;24H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hcreated.append((did, new_id, opml_title))\u001b[40;115H\u001b[K\u001b[40;115H708,49\u001b[8C44%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H709,49\u001b[8C44%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;44H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hfailed.append((did, \u001b[1m\u001b[96mstr\u001b[m(e)))\u001b[40;115H\u001b[K\u001b[40;115H710,44\u001b[8C44%\u001b[34;44H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;44H\u001b[40;105H   \u001b[34;29H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H711,29\u001b[8C44%\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;29H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H712,49\u001b[8C44%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.config(cursor=\u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H713,49\u001b[8C44%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;34H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H714,34\u001b[8C44%\u001b[34;34H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;34H\u001b[40;105H   \u001b[34;44H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;30H\u001b[46m(\u001b[13C)\u001b[m\u001b[39;13H\u001b[93mpass\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H715,44\u001b[8C44%\u001b[34;44H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;44H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;30H(\u001b[13C)\u001b[40;115H\u001b[K\u001b[40;115H716,0-1\u001b[7C44%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._refresh_sidebar()\u001b[40;115H\u001b[K\u001b[40;115H717,12\u001b[8C44%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;34H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;24H\u001b[46m(\u001b[9C)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H718,34\u001b[8C44%\u001b[34;34H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;34H\u001b[40;105H   \u001b[34;25H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;24H(\u001b[9C)\u001b[39;9H\u001b[96m# Report\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H719,25\u001b[8C44%\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;25H\u001b[40;105H   \u001b[34;16H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m created:\u001b[40;115H\u001b[K\u001b[40;115H720,16\u001b[8C44%\u001b[34;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;16H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hfirst_new_id = created[\u001b[95m0\u001b[m][\u001b[95m1\u001b[m]\u001b[40;115H\u001b[K\u001b[40;115H721,0-1\u001b[7C44%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;31H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;30H\u001b[46m()\u001b[m\u001b[39;13H\u001b[96m# Optionally open the first created OPML doc\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H722,31\u001b[8C44%\u001b[34;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;31H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;30H()\u001b[39;13H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H723,0-1\u001b[7C45%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;16H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself._on_link_click(first_new_id)\u001b[40;115H\u001b[K\u001b[40;115H724,16\u001b[8C45%\u001b[34;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;16H\u001b[40;105H   \u001b[34;19H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H725,19\u001b[8C45%\u001b[34;19H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;19H\u001b[40;105H   \u001b[34;40H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;38H\u001b[46m[\u001b[1C]\u001b[m\u001b[39;17H\u001b[93mpass\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H726,40\u001b[8C45%\u001b[34;40H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;40H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;38H[\u001b[1C]\u001b[40;115H\u001b[K\u001b[40;115H727,49\u001b[8C45%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;16H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m failed:\u001b[40;115H\u001b[K\u001b[40;115H728,16\u001b[8C45%\u001b[34;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;16H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;36H\u001b[46m(\u001b[12C)\u001b[m\u001b[39;13Hmsg = \u001b[95m\"; \"\u001b[m.join(f\u001b[95m\"#{d}: {err}\"\u001b[m \u001b[93mfor\u001b[m d, err \u001b[93min\u001b[m failed[:\u001b[95m5\u001b[m])\u001b[40;115H\u001b[K\u001b[40;115H729,49\u001b[8C45%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;29H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;36H(\u001b[12C)\u001b[39;13Hextra = \u001b[95m\" (showing first 5)\"\u001b[m \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(failed) > \u001b[95m5\u001b[m \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H730,29\u001b[8C45%\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;29H\u001b[40;105H   \u001b[34;20H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showwarning(\u001b[95m\"Batch OPML\"\u001b[m, f\u001b[95m\"Created {len(created)} OPML doc(s), {len(failed)} failed{extra}: {msg}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H731,20\u001b[8C45%\u001b[34;20H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;20H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93melse\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H732,0-1\u001b[7C45%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showinfo(\u001b[95m\"Batch OPML\"\u001b[m, f\u001b[95m\"Created {len(created)} OPML doc(s). Originals were not modified.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H733,18\u001b[8C45%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H734,49\u001b[8C45%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_import_html_as_opml\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H735,49\u001b[8C45%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[95m\"\"\"Pick an .html/.htm file and import it directly as OPML (new doc).\"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H736,49\u001b[8C45%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;13H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[38;5;81mfrom\u001b[m pathlib \u001b[38;5;81mimport\u001b[m Path\u001b[40;115H\u001b[K\u001b[40;115H737,13\u001b[8C45%\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;13H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m EngineConfig \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H738,49\u001b[8C46%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showerror(\u001b[95m\"Import HTML \u2192\u001b[39;48H OPML\"\u001b[m, \u001b[95m\"aopmlengine.py not found or failed to import.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H739,0-1\u001b[7C46%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;35H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H740,35\u001b[8C46%\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;35H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hpath = filedialog.askopenfilename(\u001b[40;115H\u001b[K\u001b[40;115H741,49\u001b[8C46%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;32H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Htitle=\u001b[95m\"Import HTML \u2192\u001b[39;33H OPML\"\u001b[m,\u001b[40;115H\u001b[K\u001b[40;115H742,32\u001b[8C46%\u001b[34;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;32H\u001b[40;105H   \u001b[34;32H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hfiletypes=[(\u001b[95m\"HTML\"\u001b[m, \u001b[95m\"*.html *.htm\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)],\u001b[40;115H\u001b[K\u001b[40;115H743,32\u001b[8C46%\u001b[34;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;32H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H)\u001b[40;115H\u001b[K\u001b[40;115H744,51-49     46%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m path:\u001b[40;115H\u001b[K\u001b[40;115H745,18\u001b[8C46%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;42H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;42H\u001b[46m(\u001b[37;9H)\u001b[m\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H746,42\u001b[8C46%\u001b[34;42H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;42H\u001b[40;105H   \u001b[34;39H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;42H(\u001b[36;9H)\u001b[39;9Hp = Path(path)\u001b[40;115H\u001b[K\u001b[40;115H747,41-39     46%\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;39H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H748,49\u001b[8C46%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;9H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[31;42H\u001b[46m(\u001b[34;9H)\u001b[m\u001b[39;13Hhtml = p.read_text(encoding=\u001b[95m\"utf-8\"\u001b[m, errors=\u001b[95m\"replace\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H749,9\u001b[9C46%\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;9H\u001b[40;105H   \u001b[34;20H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[30;42H(\u001b[33;9H)\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H750,20\u001b[8C46%\u001b[34;20H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;20H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showerror(\u001b[95m\"Import HTML \u2192\u001b[39;48H OPML\"\u001b[m, f\u001b[95m\"Failed to read file: {e}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H751,18\u001b[8C46%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;22H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;17H\u001b[46m(\u001b[mpath\u001b[46m)\u001b[m\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H752,22\u001b[8C46%\u001b[34;22H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;22H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;17H(path)\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H753,12\u001b[8C47%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Htitle = p.stem\u001b[40;115H\u001b[K\u001b[40;115H754,49\u001b[8C47%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;30H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hcfg = EngineConfig(enable_ai=\u001b[1m\u001b[96mFalse\u001b[m, title=f\u001b[95m\"{title} (OPML)\"\u001b[m, owner_name=\u001b[1m\u001b[96mNone\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H755,30\u001b[8C47%\u001b[34;30H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;30H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hopml_doc = build_opml_from_html(html, cfg)\u001b[40;115H\u001b[K\u001b[40;115H756,51-49     47%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hnew_id = self.doc_store.add_document(f\u001b[95m\"{title} (OPML)\"\u001b[m, opml_doc.to_xml())\u001b[40;115H\u001b[K\u001b[40;115H757,18\u001b[8C47%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H758,12\u001b[8C47%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;26H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showerror(\u001b[95m\"Import HTML \u2192\u001b[39;48H OPML\"\u001b[m, f\u001b[95m\"Failed to convert: {e}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H759,26\u001b[8C47%\u001b[34;26H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;26H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H760,49\u001b[8C47%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._refresh_sidebar()\u001b[40;115H\u001b[K\u001b[40;115H761,49\u001b[8C47%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;49H\u001b[46m(\u001b[36C)\u001b[m\u001b[39;9Hself.current_doc_id = new_id\u001b[40;115H\u001b[K\u001b[40;115H762,49\u001b[8C47%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;30H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;49H(\u001b[36C)\u001b[39;9Hdoc = self.doc_store.get_document(new_id)\u001b[40;115H\u001b[K\u001b[40;115H763,30\u001b[8C47%\u001b[34;30H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;30H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m doc:\u001b[40;115H\u001b[K\u001b[40;115H764,51-49     47%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;18H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._render_document(doc)\u001b[40;115H\u001b[K\u001b[40;115H765,18\u001b[8C47%\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;18H\u001b[40;105H   \u001b[34;31H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;30H\u001b[46m()\u001b[m\u001b[39;9Hmessagebox.showinfo(\u001b[95m\"Import HTML \u2192\u001b[39;43H OPML\"\u001b[m, f\u001b[95m\"Imported as OPML document #{new_id}.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H766,31\u001b[8C47%\u001b[34;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;31H\u001b[40;105H   \u001b[34;36H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;30H()\u001b[40;115H\u001b[K\u001b[40;115H767,36\u001b[8C47%\u001b[34;36H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;36H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;42H\u001b[46m(\u001b[mnew_id\u001b[46m)\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H768,49\u001b[8C48%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;15H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;42H(new_id)\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_batch_repair_selected_opml\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H769,15\u001b[8C48%\u001b[34;15H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;15H\u001b[40;105H   \u001b[34;38H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;34H\u001b[46m(\u001b[mdoc\u001b[46m)\u001b[m\u001b[39;9H\u001b[95m\"\"\"Validate and repair selected OPML docs in-place; leaves non-OPML docs untouched.\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H770,38\u001b[8C48%\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;38H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[33;34H(doc)\u001b[39;1H\u001b[95m        If a doc fails XML parse but looks OPML-ish or has '(OPML)' title, rebuilds via engine.\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H771,51-49     48%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;1H\u001b[95m        \"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H772,0-1\u001b[7C48%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H773,0-1\u001b[7C48%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;42H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m EngineConfig \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H774,42\u001b[8C48%\u001b[34;42H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;42H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hmessagebox.showerror(\u001b[95m\"Batch Repair\"\u001b[m, \u001b[95m\"aopmlengine.py not found or failed to import.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H775,49\u001b[8C48%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H776,49\u001b[8C48%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;11H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mNameError\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H777,11\u001b[8C48%\u001b[34;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;11H\u001b[40;105H   \u001b[34;12H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showerror(\u001b[95m\"Batch Repair\"\u001b[m, \u001b[95m\"aopmlengine import not available.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H778,12\u001b[8C48%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;36H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H779,36\u001b[8C48%\u001b[34;36H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;36H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H780,49\u001b[8C48%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[34;22H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hids = self._get_selected_ids_from_sidebar() \u001b[93mif\u001b[m \u001b[1m\u001b[96mhasattr\u001b[m(self, \u001b[95m\"_get_selected_ids_from_sidebar\"\u001b[m) \u001b[93melse\u001b[m []\u001b[40;115H\u001b[K\u001b[40;115H781,22\u001b[8C48%\u001b[34;22H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;22H\u001b[40;105H   \u001b[34;25H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m ids:\u001b[40;115H\u001b[K\u001b[40;115H782,25\u001b[8C48%\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;25H\u001b[40;105H   \u001b[34;49H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showwarning(\u001b[95m\"Batch Repair\"\u001b[m, \u001b[95m\"No documents selected.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H783,49\u001b[8C48%\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;49H\u001b[40;105H   \u001b[33;25H\u001b[40;117H2,25\u001b[33;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[33;25H\u001b[40;105H   \u001b[32;22H\u001b[40;117H1,22\u001b[32;22H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;22H\u001b[40;105H   \u001b[31;49H\u001b[40;117H0,49\u001b[31;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;49H\u001b[40;105H   \u001b[30;36H\u001b[40;116H79,36\u001b[30;36H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;36H\u001b[40;105H   \u001b[29;12H\u001b[40;117H8,12\u001b[29;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;12H\u001b[40;105H   \u001b[28;11H\u001b[40;117H7,11\u001b[28;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;11H\u001b[40;105H   \u001b[27;49H\u001b[40;117H6,49\u001b[27;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;49H\u001b[40;105H   \u001b[26;49H\u001b[40;117H5\u001b[26;49H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;49H\u001b[40;105H   \u001b[25;42H\u001b[40;117H4,42\u001b[25;42H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;42H\u001b[40;105H   \u001b[24;1H\u001b[40;117H3,0-1\u001b[24;1H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[24;1H\u001b[40;105H    \u001b[25;1H\u001b[40;117H4,1  \u001b[25;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;1H\u001b[40;105H   \u001b[24;1H\u001b[40;117H3,0-1\u001b[24;1H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[24;1H\u001b[40;105H \u001b[24;1H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H773,1\u001b[9C48%\u001b[24;1H\u001b[?25h\u001b[?25l\u001b[40;119H2\u001b[24;2H\u001b[?25h\u001b[?25l\u001b[40;119H3\u001b[24;3H\u001b[?25h\u001b[?25l\u001b[40;119H4\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;119H5\u001b[24;5H\u001b[?25h\u001b[?25l\u001b[40;119H6\u001b[24;6H\u001b[?25h\u001b[?25l\u001b[40;119H7\u001b[24;7H\u001b[?25h\u001b[?25l\u001b[40;119H8\u001b[24;8H\u001b[?25h\u001b[?25l\u001b[40;119H9\u001b[24;9H\u001b[?25h\u001b[?25l\u001b[96m#\u001b[m\u001b[40;119H10\u001b[24;10H\u001b[?25h\u001b[?25l\u001b[96m \u001b[m\u001b[40;120H1\u001b[24;11H\u001b[?25h\u001b[?25l\u001b[96mN\u001b[m\u001b[40;120H2\u001b[24;12H\u001b[?25h\u001b[?25l\u001b[96me\u001b[m\u001b[40;120H3\u001b[24;13H\u001b[?25h\u001b[?25l\u001b[96mw\u001b[m\u001b[40;120H4\u001b[24;14H\u001b[?25h\u001b[?25l\u001b[96m \u001b[m\u001b[40;120H5\u001b[24;15H\u001b[?25h\u001b[?25l\u001b[96mm\u001b[m\u001b[40;120H6\u001b[24;16H\u001b[?25h\u001b[?25l\u001b[96ma\u001b[m\u001b[40;120H7\u001b[24;17H\u001b[?25h\u001b[?25l\u001b[96mt\u001b[m\u001b[40;120H8\u001b[24;18H\u001b[?25h\u001b[?25l\u001b[96mh\u001b[m\u001b[40;120H9\u001b[24;19H\u001b[?25h\u001b[?25l\u001b[96mo\u001b[m\u001b[40;119H20\u001b[24;20H\u001b[?25h\u001b[?25l\u001b[24;19H\u001b[K\u001b[40;119H19\u001b[24;19H\u001b[?25h\u001b[?25l\u001b[24;18H\u001b[K\u001b[40;120H8\u001b[24;18H\u001b[?25h\u001b[?25l\u001b[24;17H\u001b[K\u001b[40;120H7\u001b[24;17H\u001b[?25h\u001b[?25l\u001b[24;16H\u001b[K\u001b[40;120H6\u001b[24;16H\u001b[?25h\u001b[?25l\u001b[96me\u001b[m\u001b[40;120H7\u001b[24;17H\u001b[?25h\u001b[?25l\u001b[96mh\u001b[m\u001b[40;120H8\u001b[24;18H\u001b[?25h\u001b[?25l\u001b[96mt\u001b[m\u001b[40;120H9\u001b[24;19H\u001b[?25h\u001b[?25l\u001b[24;18H\u001b[K\u001b[40;120H8\u001b[24;18H\u001b[?25h\u001b[?25l\u001b[24;17H\u001b[K\u001b[40;120H7\u001b[24;17H\u001b[?25h\u001b[?25l\u001b[96mt\u001b[m\u001b[40;120H8\u001b[24;18H\u001b[?25h\u001b[?25l\u001b[96mh\u001b[m\u001b[40;120H9\u001b[24;19H\u001b[?25h\u001b[?25l\u001b[96mo\u001b[m\u001b[40;119H20\u001b[24;20H\u001b[?25h\u001b[?25l\u001b[96ms\u001b[m\u001b[40;120H1\u001b[24;21H\u001b[?25h\u001b[?25l\u001b[96md\u001b[m\u001b[40;120H2\u001b[24;22H\u001b[?25h\u001b[?25l\u001b[24;21H\u001b[K\u001b[40;120H1\u001b[24;21H\u001b[?25h\u001b[?25l\u001b[24;20H\u001b[K\u001b[40;120H0\u001b[24;20H\u001b[?25h\u001b[?25l\u001b[96md\u001b[m\u001b[40;120H1\u001b[24;21H\u001b[?25h\u001b[?25l\u001b[96ms\u001b[m\u001b[40;120H2\u001b[24;22H\u001b[?25h\u001b[?25l\u001b[96m \u001b[m\u001b[40;120H3\u001b[24;23H\u001b[?25h\u001b[?25l\u001b[96ms\u001b[m\u001b[40;120H4\u001b[24;24H\u001b[?25h\u001b[?25l\u001b[96mt\u001b[m\u001b[40;120H5\u001b[24;25H\u001b[?25h\u001b[?25l\u001b[96mo\u001b[m\u001b[40;120H6\u001b[24;26H\u001b[?25h\u001b[?25l\u001b[96m \u001b[m\u001b[40;120H7\u001b[24;27H\u001b[?25h\u001b[?25l\u001b[96mf\u001b[m\u001b[40;120H8\u001b[24;28H\u001b[?25h\u001b[?25l\u001b[24;27H\u001b[K\u001b[40;120H7\u001b[24;27H\u001b[?25h\u001b[?25l\u001b[24;26H\u001b[K\u001b[40;120H6\u001b[24;26H\u001b[?25h\u001b[?25l\u001b[24;25H\u001b[K\u001b[40;120H5\u001b[24;25H\u001b[?25h\u001b[?25l\u001b[24;24H\u001b[K\u001b[40;120H4\u001b[24;24H\u001b[?25h\u001b[?25l\u001b[24;23H\u001b[K\u001b[40;120H3\u001b[24;23H\u001b[?25h\u001b[?25l\u001b[96mt\u001b[m\u001b[40;120H4\u001b[24;24H\u001b[?25h\u001b[?25l\u001b[96mo\u001b[m\u001b[40;120H5\u001b[24;25H\u001b[?25h\u001b[?25l\u001b[96m \u001b[m\u001b[40;120H6\u001b[24;26H\u001b[?25h\u001b[?25l\u001b[96mf\u001b[m\u001b[40;120H7\u001b[24;27H\u001b[?25h\u001b[?25l\u001b[96mi\u001b[m\u001b[40;120H8\u001b[24;28H\u001b[?25h\u001b[?25l\u001b[96mx\u001b[m\u001b[40;120H9\u001b[24;29H\u001b[?25h\u001b[?25l\u001b[96m \u001b[m\u001b[40;119H30\u001b[24;30H\u001b[?25h\u001b[?25l\u001b[96m\"\u001b[m\u001b[40;120H1\u001b[24;31H\u001b[?25h\u001b[?25l\u001b[96mS\u001b[m\u001b[40;120H2\u001b[24;32H\u001b[?25h\u001b[?25l\u001b[96ma\u001b[m\u001b[40;120H3\u001b[24;33H\u001b[?25h\u001b[?25l\u001b[96mV\u001b[m\u001b[40;120H4\u001b[24;34H\u001b[?25h\u001b[?25l\u001b[24;33H\u001b[K\u001b[40;120H3\u001b[24;33H\u001b[?25h\u001b[?25l\u001b[24;32H\u001b[K\u001b[40;120H2\u001b[24;32H\u001b[?25h\u001b[?25l\u001b[96mA\u001b[m\u001b[40;120H3\u001b[24;33H\u001b[?25h\u001b[?25l\u001b[96mV\u001b[m\u001b[40;120H4\u001b[24;34H\u001b[?25h\u001b[?25l\u001b[96mE\u001b[m\u001b[40;120H5\u001b[24;35H\u001b[?25h\u001b[?25l\u001b[96m \u001b[m\u001b[40;120H6\u001b[24;36H\u001b[?25h\u001b[?25l\u001b[96mA\u001b[m\u001b[40;120H7\u001b[24;37H\u001b[?25h\u001b[?25l\u001b[96mS\u001b[m\u001b[40;120H8\u001b[24;38H\u001b[?25h\u001b[?25l\u001b[96m \u001b[m\u001b[40;120H9\u001b[24;39H\u001b[?25h\u001b[?25l\u001b[96mT\u001b[m\u001b[40;119H40\u001b[24;40H\u001b[?25h\u001b[?25l\u001b[96mE\u001b[m\u001b[40;120H1\u001b[24;41H\u001b[?25h\u001b[?25l\u001b[24;40H\u001b[K\u001b[40;120H0\u001b[24;40H\u001b[?25h\u001b[?25l\u001b[96mX\u001b[m\u001b[40;120H1\u001b[24;41H\u001b[?25h\u001b[?25l\u001b[96mT\u001b[m\u001b[40;120H2\u001b[24;42H\u001b[?25h\u001b[?25l\u001b[96m\"\u001b[m\u001b[40;120H3\u001b[24;43H\u001b[?25h\u001b[?25l\u001b[96m \u001b[m\u001b[40;120H4\u001b[24;44H\u001b[?25h\u001b[?25l\u001b[96mf\u001b[m\u001b[40;120H5\u001b[24;45H\u001b[?25h\u001b[?25l\u001b[96mu\u001b[m\u001b[40;120H6\u001b[24;46H\u001b[?25h\u001b[?25l\u001b[96mn\u001b[m\u001b[40;120H7\u001b[24;47H\u001b[?25h\u001b[?25l\u001b[96mc\u001b[m\u001b[40;120H8\u001b[24;48H\u001b[?25h\u001b[?25l\u001b[96mt\u001b[m\u001b[40;120H9\u001b[24;49H\u001b[?25h\u001b[?25l\u001b[96mi\u001b[m\u001b[40;119H50\u001b[24;50H\u001b[?25h\u001b[?25l\u001b[96mo\u001b[m\u001b[40;120H1\u001b[24;51H\u001b[?25h\u001b[?25l\u001b[96mn\u001b[m\u001b[40;120H2\u001b[24;52H\u001b[?25h\u001b[?25l\u001b[96m \u001b[m\u001b[40;120H3\u001b[24;53H\u001b[?25h\u001b[?25l\u001b[96mf\u001b[m\u001b[40;120H4\u001b[24;54H\u001b[?25h\u001b[?25l\u001b[96mo\u001b[m\u001b[40;120H5\u001b[24;55H\u001b[?25h\u001b[?25l\u001b[96mr\u001b[m\u001b[40;120H6\u001b[24;56H\u001b[?25h\u001b[?25l\u001b[96m \u001b[m\u001b[40;120H7\u001b[24;57H\u001b[?25h\u001b[?25l\u001b[96mb\u001b[m\u001b[40;120H8\u001b[24;58H\u001b[?25h\u001b[?25l\u001b[96mi\u001b[m\u001b[40;120H9\u001b[24;59H\u001b[?25h\u001b[?25l\u001b[96mn\u001b[m\u001b[40;119H60\u001b[24;60H\u001b[?25h\u001b[?25l\u001b[96ma\u001b[m\u001b[40;120H1\u001b[24;61H\u001b[?25h\u001b[?25l\u001b[96mr\u001b[m\u001b[40;120H2\u001b[24;62H\u001b[?25h\u001b[?25l\u001b[96my\u001b[m\u001b[40;120H3\u001b[24;63H\u001b[?25h\u001b[?25l\u001b[96m \u001b[m\u001b[40;120H4\u001b[24;64H\u001b[?25h\u001b[?25l\u001b[96md\u001b[m\u001b[40;120H5\u001b[24;65H\u001b[?25h\u001b[?25l\u001b[96mo\u001b[m\u001b[40;120H6\u001b[24;66H\u001b[?25h\u001b[?25l\u001b[96mc\u001b[m\u001b[40;120H7\u001b[24;67H\u001b[?25h\u001b[?25l\u001b[96mu\u001b[m\u001b[40;120H8\u001b[24;68H\u001b[?25h\u001b[?25l\u001b[96mm\u001b[m\u001b[40;120H9\u001b[24;69H\u001b[?25h\u001b[?25l\u001b[96me\u001b[m\u001b[40;119H70\u001b[24;70H\u001b[?25h\u001b[?25l\u001b[96mn\u001b[m\u001b[40;120H1\u001b[24;71H\u001b[?25h\u001b[?25l\u001b[96mt\u001b[m\u001b[40;120H2\u001b[24;72H\u001b[?25h\u001b[?25l\u001b[96ms\u001b[m\u001b[40;120H3\u001b[24;73H\u001b[?25h\u001b[?25l\n       \u001b[25;9H\u001b[K\u001b[26;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_batch_repair_selected_opml\u001b[m(self):\u001b[26;43H\u001b[K\u001b[27;1H        \u001b[95m\"\"\"Validate and repair selected OPML docs in-place; leaves non-OPML docs untouched.\u001b[m\u001b[27;92H\u001b[K\u001b[28;9H\u001b[95mIf a doc fails XML parse but looks OPML-ish or has '(OPML)' title, rebuilds via engine.\n        \"\"\"\u001b[m\u001b[29;12H\u001b[K\u001b[30;9H\u001b[93mtry\u001b[m:\u001b[30;13H\u001b[K\u001b[31;13H\u001b[93mif\u001b[m EngineConfig \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[31;37H\u001b[K\u001b[32;17Hmessagebox.showerror(\u001b[95m\"Batch Repair\"\u001b[m, \u001b[95m\"aopmlengine.py not found or failed to import.\"\u001b[m)\u001b[33;9H        \u001b[93mreturn\u001b[m\u001b[33;23H\u001b[K\u001b[34;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mNameError\u001b[m:\u001b[34;26H\u001b[K\u001b[35;13Hmessagebox.showerror(\u001b[95m\"Batch Repair\"\u001b[m, \u001b[95m\"aopmlengine import not available.\"\u001b[m)\u001b[36;13H\u001b[93mreturn\u001b[m\u001b[37;9H\u001b[K\u001b[38;9Hids = self._get_selected_ids_from_sidebar() \u001b[93mif\u001b[m \u001b[1m\u001b[96mhasattr\u001b[m(self, \u001b[95m\"_get_selected_ids_from_sidebar\"\u001b[m) \u001b[93melse\u001b[m []\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m ids:\u001b[39;20H\u001b[K\u001b[40;115H\u001b[K\u001b[40;115H774,9\u001b[9C48%\u001b[25;9H\u001b[?25h\u001b[?25l\u001b[26;39r\u001b[26;1H\u001b[L\u001b[1;40r\u001b[25;9H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_is_opml_text\u001b[m(self, s: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mbool\u001b[m:\n    \u001b[93mreturn\u001b[m i\u001b[40;11H\u001b[1m(paste) --\u001b[m\u001b[40;115H\u001b[K\u001b[26;13H\u001b[?25h\u001b[?25l\u001b[27;39r\u001b[27;1H\u001b[2L\u001b[1;40r\u001b[26;12H\u001b[1m\u001b[96misinstance\u001b[m(s, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m s.lower()\n\n\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_flatten_opm\u001b[?25h\u001b[?25l\u001b[29;39r\u001b[m\u001b[29;1H\u001b[L\u001b[1;40r\u001b[28;17H\u001b[1m\u001b[96ml_to_text\u001b[m(self, xml_text: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\n    \u001b[95m\"\"\"Turn OPML XML i\n    def _batch_repair_selected_opml(self):\n        \u001b[m\u001b[3CValidate \u001b[93mand\u001b[m repair selected OPML docs \u001b[93min\u001b[m-place; leaves non-OPML docs untouched.\n        If a doc fails XML parse but looks OPML-ish \u001b[93mor\u001b[m has \u001b[8C title, rebuilds via engine.\n        \n\u001b[95m        try:\n            if EngineConfig is None:\n                messagebox.showerror(\u001b[14C, \u001b[47C)\n                return\n        except NameError:\n            messagebox.showerror(\u001b[14C, \u001b[35C)\u001b[29;23H\u001b[?25h\u001b[?25l\u001b[30;39r\u001b[m\u001b[30;1H\u001b[L\u001b[1;40r\u001b[29;23H\u001b[95mnto an indented bullet list.\"\"\"\u001b[m\n    \u001b[38;5;81mimport\u001b[m xml.etree.ElementTr\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_batch_repair_selected_opml\u001b[m(self):\n        \u001b[3C\u001b[95mValidate and repair selected OPML docs in-place; leaves non-OPML docs untouched.\n        If a doc fails XML parse but looks OPML-ish or has \u001b[8C title, rebuilds via engine.\n        \u001b[m\n        \u001b[93mtry\u001b[m:\n            \u001b[93mif\u001b[m EngineConfig \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\n                messagebox.showerror(\u001b[14C, \u001b[47C)\n                \u001b[93mreturn\u001b[m\n        \u001b[93mexcept\u001b[m \u001b[38;5;121mNameError\u001b[m:\u001b[30;31H\u001b[?25h\u001b[?25l\u001b[31;39r\u001b[31;1H\u001b[2L\u001b[1;40r\u001b[30;31Hee \u001b[93mas\u001b[m ET\n    \u001b[93mtry\u001b[m:\u001b[32;9Hs = xml_text.lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\r\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[?25h\u001b[?25l\u001b[33;39r\u001b[33;1H\u001b[3L\u001b[1;40r\u001b[33;9H\u001b[93mif\u001b[m \u001b[95m\"<\"\u001b[m \u001b[93min\u001b[m s:\u001b[34;13Hs = s[s.find(\u001b[95m\"<\"\u001b[m):]\u001b[35;9Hr\u001b[34;10H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;10Hoot = ET.fromstring(s)\n    \u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[36;9H\u001b[93mreturn\u001b[m xml\u001b[34;19H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;19H_text  \u001b[96m# fall back if not valid XML\u001b[m\u001b[36;5Hlines = []\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mwal\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;12H\u001b[1m\u001b[96mk\u001b[m(node, depth=\u001b[95m0\u001b[m):\u001b[35;9Htag = node.tag.lower()\u001b[36;9H\u001b[93mif\u001b[m tag\n\n\n\u001b[95m        If a doc fails XML parse but looks OPML-ish or has '(OPML)' title, rebuilds via engine.\u001b[34;15H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;15H.endswith(\u001b[95m\"outline\"\u001b[m):\u001b[35;13Htext = node.attrib.get(\u001b[95m\"text\"\u001b[39;1H        \"\"\"\u001b[34;42H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;42H) \u001b[93mor\u001b[m node.attrib.get(\u001b[95m\"title\"\u001b[m) \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m\u001b[35;13H\u001b[93mif\u001b[m text:\u001b[34;7H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;17Hlines.append((\u001b[95m\"  \"\u001b[m * depth) + \u001b[95m\"- \"\u001b[m + text)\u001b[39;1H\u001b[95m        \"\"\"\u001b[34;11H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;13H\u001b[93mfor\u001b[m child \u001b[93min\u001b[m \u001b[1m\u001b[96mlist\u001b[m(node):\u001b[35;17Hwalk(child, depth +\u001b[34;37H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;37H\u001b[95m1\u001b[m)\u001b[36;5Hbody = root.find(\u001b[95m\".//body\"\u001b[m)\n    nodes = \u001b[1m\u001b[96mlist\u001b[m(body) \u001b[93mif\u001b[m b\u001b[34;28H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;28Hody \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m \u001b[93melse\u001b[m \u001b[1m\u001b[96mlist\u001b[m(root)\n    \u001b[93mfor\u001b[m n \u001b[93min\u001b[m nodes:\u001b[36;9Hwal\n\n\n\u001b[95m        If a doc fails XML parse but looks OPML-ish or has '(OPML)' title, rebuilds via engine.\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;12Hk(n, \u001b[95m0\u001b[m)\n    \u001b[93mreturn\u001b[m \u001b[95m\"\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m\"\u001b[m.join(lines).strip()\n\n\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_document_to_p\u001b[34;19H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;19H\u001b[1m\u001b[96mlain_text\u001b[m(self, doc) -> \u001b[1m\u001b[96mstr\u001b[m:\n    \u001b[95m\"\"\"Return a plain-text represe\n    def _batch_repair_selected_opml(self):\n        \u001b[m\u001b[3CValidate \u001b[93mand\u001b[m repair selected OPML docs \u001b[93min\u001b[m-place; leaves non-OPML docs untouched.\u001b[38;9HIf a doc fails XML parse but looks OPML-ish \u001b[93mor\u001b[m has \u001b[95m'(OPML)'\u001b[m title, rebuilds via engine.\u001b[39;9H\u001b[95m\"\"\"\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;35H\u001b[95mntation of the current document.\"\"\"\u001b[m\n    \u001b[96m# title/body from dict \u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_batch_repair_selected_opml\u001b[m(self):\n        \u001b[3C\u001b[95mValidate and repair selected OPML docs in-place; leaves non-OPML docs untouched.\n        If a doc fails XML parse but looks OPML-ish or has \u001b[8C title, rebuilds via engine.\n        \u001b[34;28H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;28H\u001b[96mor tuple\u001b[m\n    title = doc.get(\u001b[95m\"title\"\u001b[m) \u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(doc, \u001b[1m\u001b[96mdict\u001b[m)\u001b[34;55H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;55H\u001b[93melse\u001b[m (doc[\u001b[95m1\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(doc) > \u001b[95m1\u001b[m \u001b[93melse\u001b[m \u001b[95m\"Document\"\u001b[m)\n    body  = doc.g\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;18Het(\u001b[95m\"body\"\u001b[m)  \u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(doc, \u001b[1m\u001b[96mdict\u001b[m) \u001b[93melse\u001b[m (doc[\u001b[95m2\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(doc) >\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[34;81H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;82H\u001b[95m2\u001b[m \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m)\u001b[36;5H\u001b[96m# Binary \u2192\u001b[36;15H text\u001b[m\n    \u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, (byt\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;26H\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)):\u001b[35;9H\u001b[93mtry\u001b[m:\u001b[36;13H\u001b[38;5;81mfrom\u001b[m hypertext_parser\n\n\n\u001b[95m        If a doc fails XML parse but looks OPML-ish or has '(OPML)' title, rebuilds via engine.\u001b[34;34H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;35H\u001b[38;5;81mimport\u001b[m render_binary_as_text\u001b[35;13H\u001b[93mreturn\u001b[m render_binary_\u001b[39;1H\u001b[95m        \"\"\"\u001b[34;34H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;34Has_text(body, title \u001b[93mor\u001b[m \u001b[95m\"Document\"\u001b[m)\u001b[35;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[34;3H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;13H\u001b[93mtry\u001b[m:\u001b[35;17H\u001b[93mreturn\u001b[m body.decode(\u001b[95m\"utf-8\"\u001b[m, erro\u001b[39;1H\u001b[95m        \"\"\"\u001b[34;49H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;49Hrs=\u001b[95m\"replace\"\u001b[m)\u001b[35;13H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[36;17Hret\u001b[34;20H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;17H\u001b[93mreturn\u001b[m \u001b[1m\u001b[96mstr\u001b[m(body)\u001b[35;5H\u001b[K\u001b[36;5Hs = body \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m\u001b[36;19H\u001b[K\u001b[37;1H    \u001b[96m# OPML \u2192\u001b[37;13H bullets\u001b[m\u001b[37;21H\u001b[K\u001b[38;5H\u001b[93mif\n\u001b[m    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_batch_repair_selected_opml\u001b[m(self):\u001b[34;7H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[4M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;8Hself._is_opml_text(s):\u001b[35;9H\u001b[93mreturn\u001b[m self._flatten_opml_to_te\u001b[37;9H\u001b[95m\"\"\"Validate and repair selected OPML docs in-place; leaves non-OPML docs untouched.\n        If a doc fails XML parse but looks OPML-ish or has '(OPML)' title, rebuilds via engine.\n        \"\"\"\u001b[34;40H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[34;40Hxt(s)\u001b[35;5H\u001b[K\u001b[36;5H\u001b[96m# HTML \u2192\u001b[36;13H text (very light)\u001b[m\u001b[36;31H\u001b[K\u001b[37;1H    \u001b[38;5;81mimport\u001b[m re\u001b[37;14H\u001b[K\u001b[38;1H    \u001b[93mif\u001b[m \u001b[95m\"<\u001b[m\u001b[38;10H\u001b[K\u001b[39;1H\u001b[95m    def _batch_repair_selected_opml(self):\u001b[34;10H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[4M\u001b[1;40r\u001b[34;10H\u001b[95mhtml\"\u001b[m \u001b[93min\u001b[m s.lower() \u001b[93mor\u001b[m \u001b[95m\"<body\"\u001b[m \u001b[93min\u001b[m s.lower() \u001b[93mor\u001b[m \u001b[95m\"<div\"\u001b[m \u001b[93min\u001b[m s.lower\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_batch_repair_selected_opml\u001b[m(self):\u001b[36;9H\u001b[95m\"\"\"Validate and repair selected OPML docs in-place; leaves non-OPML docs untouched.\n        If a doc fails XML parse but looks OPML-ish or has '(OPML)' title, rebuilds via engine.\n        \"\"\"\u001b[m\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[34;73H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;73H():\u001b[35;9Hs = re.sub(\u001b[95mr\"<(script|style)[\\s\\S]*?</\\1>\"\u001b[m, \u001b[95m\" \"\u001b[m, s,\u001b[34;60H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;61Hflags=re.I)\u001b[35;9Hs = re.sub(\u001b[95mr\"<[^>]+>\"\u001b[m, \u001b[95m\" \"\u001b[m, s)\n    \u001b[93mreturn\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;12Hs.strip()\n\n\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_save_current_as_text\u001b[m(self):\n    \u001b[95m\"\"\"Save the cur\n    def _batch_repair_selected_opml(self):\n        \u001b[m\u001b[3CValidate \u001b[93mand\u001b[m repair selected OPML docs \u001b[93min\u001b[m-place; leaves non-OPML docs untouched.\u001b[34;20H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[34;20H\u001b[95mrent document as a .txt file (no reliance on an original source\u001b[m\u001b[37;9HIf a doc fails XML parse but looks OPML-ish \u001b[93mor\u001b[m has \u001b[95m'(OPML)'\u001b[m title, rebuilds via engine.\u001b[38;9H\u001b[95m\"\"\"\n        try:\u001b[34;83H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[m\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;83H\u001b[95m path).\"\"\"\u001b[m\n    \u001b[38;5;81mfrom\u001b[m pathlib \u001b[38;5;81mimport\u001b[m Path\n    \u001b[38;5;81mfrom\u001b[m tkinter \u001b[38;5;81mimport\u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_batch_repair_selected_opml\u001b[m(self):\n        \u001b[3C\u001b[95mValidate and repair selected OPML docs in-place; leaves non-OPML docs untouched.\n        If a doc fails XML parse but looks OPML-ish or has \u001b[8C title, rebuilds via engine.\u001b[34;24H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;25Hfiledialog, messagebox\u001b[36;5H\u001b[93mif\u001b[m \u001b[1m\u001b[96mgetattr\u001b[m(self, \u001b[95m\"current_doc_id\"\u001b[m,\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;40H\u001b[1m\u001b[96mNone\u001b[m) \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[35;9Hmessagebox.showwarning(\u001b[95m\"Save As Text\"\u001b[m,\u001b[39;1H\u001b[95m        \"\"\"\u001b[34;48H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;48H\u001b[95m\"No document selected.\"\u001b[m)\u001b[35;9H\u001b[93mreturn\u001b[m\n    doc = self.doc_stor\u001b[34;24H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;24He.get_document(self.current_doc_id)\n    \u001b[93mif\u001b[m \u001b[93mnot\u001b[m doc:\u001b[36;9Hmes\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;12Hsagebox.showerror(\u001b[95m\"Save As Text\"\u001b[m, \u001b[95m\"Document not found.\"\u001b[m)\u001b[39;1H\u001b[95m        \"\"\"\u001b[34;7H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;9H\u001b[93mreturn\u001b[m\u001b[36;5H\u001b[96m# Make a safe default file name\u001b[m\n    title = (doc.\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[34;18Hget(\u001b[95m\"title\"\u001b[m) \u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(doc, \u001b[1m\u001b[96mdict\u001b[m) \u001b[93melse\u001b[m (doc[\u001b[95m1\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(doc)\n\n\n\u001b[95m        If a doc fails XML parse but looks OPML-ish or has '(OPML)' title, rebuilds via engine.\n        \"\"\"\u001b[m\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[34;81H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;81H> \u001b[95m1\u001b[m \u001b[93melse\u001b[m \u001b[95m\"Document\"\u001b[m)) \u001b[93mor\u001b[m \u001b[95m\"Document\"\u001b[m\n    safe = \u001b[95m\"\"\u001b[m.join(c \u001b[93mif\u001b[m (c.\u001b[34;28H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;28Hisalnum() \u001b[93mor\u001b[m c \u001b[93min\u001b[m \u001b[95m\"._- \"\u001b[m) \u001b[93melse\u001b[m \u001b[95m\"_\"\u001b[m \u001b[93mfor\u001b[m c \u001b[93min\u001b[m title).strip() \u001b[93mor\u001b[m \u001b[95m\"\n    def _batch_repair_selected_opml(self):\n        \u001b[m\u001b[3CValidate \u001b[93mand\u001b[m repair selected OPML docs \u001b[93min\u001b[m-place; leaves non-OPML docs untouched.\n        If a doc fails XML parse but looks OPML-ish \u001b[93mor\u001b[m has \u001b[8C title, rebuilds via engine.\n        \n\u001b[95m        try:\u001b[34;91H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[m\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;91H\u001b[95mDocument\"\u001b[m\n    default_name = f\u001b[95m\"{safe}.txt\"\u001b[m\u001b[37;5H\u001b[96m# Get text cont\u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_batch_repair_selected_opml\u001b[m(self):\n        \u001b[3C\u001b[95mValidate and repair selected OPML docs in-place; leaves non-OPML docs untouched.\u001b[34;20H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;20H\u001b[96ment\u001b[m\n    text_out = self._document_to_plain_text(doc)\u001b[37;5H\u001b[96m# Ask\u001b[34;10H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;10H\u001b[96m for destination\u001b[m\n    path = filedialog.asksaveasfilename(\u001b[39;1H\u001b[95m        If a doc fails XML parse but looks OPML-ish or has '(OPML)' title, rebuilds via engine.\u001b[34;6H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;9Htitle=\u001b[95m\"Save As Text\"\u001b[m,\u001b[35;9Hdefaultextension=\u001b[95m\".txt\"\u001b[m,\u001b[34;6H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;9Hinitialfile=default_name,\u001b[35;9Hfiletypes=[(\u001b[95m\"Text files\"\u001b[m,\u001b[39;1H\u001b[95m        \"\"\"\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;35H\u001b[95m\"*.txt\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)],\n    )\n    \u001b[93mif\u001b[m \u001b[93mnot\u001b[m path:\u001b[34;8H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;9H\u001b[93mreturn\u001b[36;5Htry\u001b[m:\u001b[37;9HPath(path).parent.mkdir(parents=\u001b[1m\u001b[96mTrue\u001b[m,\u001b[34;46H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;47Hexist_ok=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[35;9H\u001b[93mwith\u001b[m \u001b[1m\u001b[96mopen\u001b[m(path, \u001b[95m\"w\"\u001b[m, encoding=\u001b[95m\"utf-8\"\u001b[m,\n\n\n\u001b[95m        If a doc fails XML parse but looks OPML-ish or has '(OPML)' title, rebuilds via engine.\n        \"\"\"\u001b[34;48H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;48Hnewline=\u001b[95m\"\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m\"\u001b[m) \u001b[93mas\u001b[m f:\u001b[35;13Hf.write((text_out \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m) + \u001b[95m\"\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m\"\u001b[34;44H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;44H)\u001b[35;9Hmessagebox.showinfo(\u001b[95m\"Save As Text\"\u001b[m, f\u001b[95m\"Saved:\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m{path}\"\u001b[34;62H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;62H)\n    \u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[36;9Hmessagebox.showerror(\u001b[95m\"Save\n    def _batch_repair_selected_opml(self):\n        \u001b[m\u001b[3CValidate \u001b[93mand\u001b[m repair selected OPML docs \u001b[93min\u001b[m-place; leaves non-OPML docs untouched.\n        If a doc fails XML parse but looks OPML-ish \u001b[93mor\u001b[m has \u001b[8C title, rebuilds via engine.\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[34;39r\u001b[34;1H\u001b[L\u001b[1;40r\u001b[33;35H\u001b[95m As Text\"\u001b[m, f\u001b[95m\"Could not save:\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m{e}\"\u001b[m)\n\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_batch_repair_selected_opml\u001b[m(self):\n        \u001b[3C\u001b[95mValidate and repair selected OPML docs in-place; leaves non-OPML docs untouched.\n        If a doc fails XML parse but looks OPML-ish or has \u001b[8C title, rebuilds via engine.\n        \"\"\"\u001b[m\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;11H\u001b[1m--a\u001b[m\u001b[40;13H\u001b[K\u001b[40;115H871,1\u001b[9C51%\u001b[34;1H\u001b[?25h\u001b[40;1H\u001b[K\u001b[34;1H\u001b[?25l\u001b[40;105H^[\u001b[34;1H\u001b[40;105H  \u001b[34;1H\u001b[40;115H871,0-1\u001b[7C51%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[34;1H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"modules/gui_tkinter.py\" 1666L, 72049B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bcd ..\u001b[K\b\b\b\b\bls -lr\b\b\b\b\b\bvi modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b./funkit\u001b[K\b\b\b\b\b\b\bls -ltra\b\b\b\b\b\b\b\b\u001b[3Pdu -s\b\b\b\u001b[K\b\bls -ltra\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u0007\u0007\u0007\u0007\u0007\u0007python main.py\n\u001b[?2004l\nCommand 'python' not found, did you mean:\n  command 'python3' from deb python3\n  command 'python' from deb python-is-python3\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 main.py\n\u001b[?2004l\nTraceback (most recent call last):\n  File \"/home/gross/FunKit/main.py\", line 4, in <module>\n    from modules.gui_tkinter import DemoKitGUI\n  File \"/home/gross/FunKit/modules/gui_tkinter.py\", line 775\n    return isinstance(s, str) and \"<opml\" in s.lower()\nIndentationError: expected an indented block after function definition on line 774\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ tab\b\u001b[K\b\u001b[K\b\u001b[Kpython3 -m tabnanny modules/gui_tkinter.py\n\u001b[?2004l\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 -m tabnanny modules/gui_tkinter.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[Cmain.py\u001b[K\n\u001b[?2004l\nTraceback (most recent call last):\n  File \"/home/gross/FunKit/main.py\", line 4, in <module>\n    from modules.gui_tkinter import DemoKitGUI\n  File \"/home/gross/FunKit/modules/gui_tkinter.py\", line 775\n    return isinstance(s, str) and \"<opml\" in s.lower()\nIndentationError: expected an indented block after function definition on line 774\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi +774 modules/gui_tkinter.py\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/gui_tkinter.py\" 1666L, 72049B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;9H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\n            messagebox.showerror(\u001b[31m\"Import HTML \u2192\u001b[2;48H OPML\"\u001b[m, f\u001b[31m\"Failed to read file: {e}\"\u001b[m)\u001b[2;84H\u001b[K\u001b[3;1H            \u001b[38;5;130mreturn\u001b[m\u001b[3;19H\u001b[K\u001b[4;9H\u001b[38;5;130mtry\u001b[m:\u001b[5;13Htitle = p.stem\u001b[6;13Hcfg = EngineConfig(enable_ai=\u001b[36mFalse\u001b[m, title=f\u001b[31m\"{title} (OPML)\"\u001b[m, owner_name=\u001b[36mNone\u001b[m)\u001b[7;13Hopml_doc = build_opml_from_html(html, cfg)\u001b[8;13Hnew_id = self.doc_store.add_document(f\u001b[31m\"{title} (OPML)\"\u001b[m, opml_doc.to_xml())\u001b[9;9H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[10;13Hmessagebox.showerror(\u001b[31m\"Import HTML \u2192\u001b[10;48H OPML\"\u001b[m, f\u001b[31m\"Failed to convert: {e}\"\u001b[m)\u001b[11;13H\u001b[38;5;130mreturn\u001b[m\u001b[12;9Hself._refresh_sidebar()\u001b[13;9Hself.current_doc_id = new_id\u001b[14;9Hdoc = self.doc_store.get_document(new_id)\u001b[15;9H\u001b[38;5;130mif\u001b[m doc:\u001b[16;13Hself._render_document(doc)\u001b[17;9Hmessagebox.showinfo(\u001b[31m\"Import HTML \u2192\u001b[17;43H OPML\"\u001b[m, f\u001b[31m\"Imported as OPML document #{new_id}.\"\u001b[m)\u001b[19;9H\u001b[34m# New methods to fix \"SAVE AS TXT\" function for binary documents\u001b[m\u001b[20;9H\u001b[38;5;130mdef\u001b[m \u001b[36m_is_opml_text\u001b[m(self, s: \u001b[36mstr\u001b[m) -> \u001b[36mbool\u001b[m:\n    \u001b[38;5;130mreturn\u001b[m \u001b[36misinstance\u001b[m(s, \u001b[36mstr\u001b[m) \u001b[38;5;130mand\u001b[m \u001b[31m\"<opml\"\u001b[m \u001b[38;5;130min\u001b[m s.lower()\n\n\u001b[38;5;130mdef\u001b[m \u001b[36m_flatten_opml_to_text\u001b[m(self, xml_text: \u001b[36mstr\u001b[m) -> \u001b[36mstr\u001b[m:\n    \u001b[31m\"\"\"Turn OPML XML into an indented bullet list.\"\"\"\u001b[m\n    \u001b[35mimport\u001b[m xml.etree.ElementTree \u001b[38;5;130mas\u001b[m ET\n    \u001b[38;5;130mtry\u001b[m:\u001b[27;9Hs = xml_text.lstrip(\u001b[31m\"\u001b[m\u001b[35m\\ufeff\\r\\n\\t\u001b[m\u001b[31m \"\u001b[m)\u001b[28;9H\u001b[38;5;130mif\u001b[m \u001b[31m\"<\"\u001b[m \u001b[38;5;130min\u001b[m s:\u001b[29;13Hs = s[s.find(\u001b[31m\"<\"\u001b[m):]\u001b[30;9Hroot = ET.fromstring(s)\n    \u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m:\u001b[32;9H\u001b[38;5;130mreturn\u001b[m xml_text  \u001b[34m# fall back if not valid XML\u001b[m\u001b[34;5Hlines = []\n    \u001b[38;5;130mdef\u001b[m \u001b[36mwalk\u001b[m(node, depth=\u001b[31m0\u001b[m):\u001b[36;9Htag = node.tag.lower()\u001b[37;9H\u001b[38;5;130mif\u001b[m tag.endswith(\u001b[31m\"outline\"\u001b[m):\u001b[38;13Htext = node.attrib.get(\u001b[31m\"text\"\u001b[m) \u001b[38;5;130mor\u001b[m node.attrib.get(\u001b[31m\"title\"\u001b[m) \u001b[38;5;130mor\u001b[m \u001b[31m\"\"\u001b[m\u001b[39;13H\u001b[38;5;130mif\u001b[m text:\u001b[40;115H774,9\u001b[9C46%\u001b[20;9H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H0\u001b[20;9H\u001b[40;106H3\u001b[20;9H\u001b[40;107H0\u001b[20;9H\u001b[40;108H/\u001b[20;9H\u001b[40;109H0\u001b[20;9H\u001b[40;110Ha\u001b[20;9H\u001b[40;111H0\u001b[20;9H\u001b[40;112Ha\u001b[20;9H\u001b[40;113H/\u001b[20;9H\u001b[40;114H2\u001b[20;9H\u001b[40;105H          \u001b[20;9H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[2;13Hmessagebox.showerror(\u001b[95m\"Import HTML \u2192\u001b[2;48H OPML\"\u001b[m, f\u001b[95m\"Failed to read file: {e}\"\u001b[m)\u001b[3;13H\u001b[93mreturn\u001b[4;9Htry\u001b[m:\u001b[5;13Htitle = p.stem\u001b[6;13Hcfg = EngineConfig(enable_ai=\u001b[1m\u001b[96mFalse\u001b[m, title=f\u001b[95m\"{title} (OPML)\"\u001b[m, owner_name=\u001b[1m\u001b[96mNone\u001b[m)\u001b[7;13Hopml_doc = build_opml_from_html(html, cfg)\u001b[8;13Hnew_id = self.doc_store.add_document(f\u001b[95m\"{title} (OPML)\"\u001b[m, opml_doc.to_xml())\u001b[9;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[10;13Hmessagebox.showerror(\u001b[95m\"Import HTML \u2192\u001b[10;48H OPML\"\u001b[m, f\u001b[95m\"Failed to convert: {e}\"\u001b[m)\u001b[11;13H\u001b[93mreturn\u001b[m\u001b[12;9Hself._refresh_sidebar()\u001b[13;9Hself.current_doc_id = new_id\u001b[14;9Hdoc = self.doc_store.get_document(new_id)\u001b[15;9H\u001b[93mif\u001b[m doc:\u001b[16;13Hself._render_document(doc)\u001b[17;9Hmessagebox.showinfo(\u001b[95m\"Import HTML \u2192\u001b[17;43H OPML\"\u001b[m, f\u001b[95m\"Imported as OPML document #{new_id}.\"\u001b[m)\u001b[19;9H\u001b[96m# New methods to fix \"SAVE AS TXT\" function for binary documents\u001b[m\u001b[20;9H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_is_opml_text\u001b[m(self, s: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mbool\u001b[m:\n    \u001b[93mreturn\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(s, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m s.lower()\n\n\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_flatten_opml_to_text\u001b[m(self, xml_text: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\n    \u001b[95m\"\"\"Turn OPML XML into an indented bullet list.\"\"\"\u001b[m\n    \u001b[38;5;81mimport\u001b[m xml.etree.ElementTree \u001b[93mas\u001b[m ET\n    \u001b[93mtry\u001b[m:\u001b[27;9Hs = xml_text.lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\r\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[28;9H\u001b[93mif\u001b[m \u001b[95m\"<\"\u001b[m \u001b[93min\u001b[m s:\u001b[29;13Hs = s[s.find(\u001b[95m\"<\"\u001b[m):]\u001b[30;9Hroot = ET.fromstring(s)\n    \u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[32;9H\u001b[93mreturn\u001b[m xml_text  \u001b[96m# fall back if not valid XML\u001b[m\u001b[34;5Hlines = []\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mwalk\u001b[m(node, depth=\u001b[95m0\u001b[m):\u001b[36;9Htag = node.tag.lower()\u001b[37;9H\u001b[93mif\u001b[m tag.endswith(\u001b[95m\"outline\"\u001b[m):\u001b[38;13Htext = node.attrib.get(\u001b[95m\"text\"\u001b[m) \u001b[93mor\u001b[m node.attrib.get(\u001b[95m\"title\"\u001b[m) \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m\u001b[39;13H\u001b[93mif\u001b[m text:\u001b[40;115H774,9\u001b[9C46%\n\"modules/gui_tkinter.py\" 1666L, 72049B\u001b[20;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[20;9H\u001b[40;105H   \u001b[21;9H\u001b[40;117H5\u001b[21;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;9H\u001b[40;105H   \u001b[21;8H\u001b[40;119H8\u001b[21;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;8H\u001b[40;105H   \u001b[21;7H\u001b[40;119H7\u001b[21;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;7H\u001b[40;105H   \u001b[21;6H\u001b[40;119H6\u001b[21;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;6H\u001b[40;105H   \u001b[21;5H\u001b[40;119H5\u001b[21;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;5H\u001b[40;105H   \u001b[21;4H\u001b[40;119H4\u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;4H\u001b[40;105H   \u001b[20;4H\u001b[40;117H4\u001b[20;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[20;4H\u001b[40;105H   \u001b[21;4H\u001b[40;117H5\u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[21;4H\u001b[40;105H \u001b[21;4H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;13H\u001b[K\u001b[40;115H775,4\u001b[9C46%\u001b[21;4H\u001b[?25h\u001b[?25l  \u001b[93mreturn\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(s, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m s.lower()\u001b[40;119H5\u001b[21;5H\u001b[?25h\u001b[?25l  \u001b[93mreturn\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(s, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m s.lower()\u001b[40;119H6\u001b[21;6H\u001b[?25h\u001b[?25l  \u001b[93mreturn\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(s, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m s.lower()\u001b[40;119H7\u001b[21;7H\u001b[?25h\u001b[?25l  \u001b[93mreturn\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(s, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m s.lower()\u001b[40;119H8\u001b[21;8H\u001b[?25h\u001b[?25l  \u001b[93mreturn\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(s, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m s.lower()\u001b[40;119H9\u001b[21;9H\u001b[?25h\u001b[?25l\u001b[93mreturn\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(s, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m s.lower()\u001b[21;59H\u001b[K\u001b[40;119H8\u001b[21;8H\u001b[?25h\u001b[?25li \u001b[93mreturn\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(s, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m s.lower()\u001b[40;119H9\u001b[21;9H\u001b[?25h\u001b[?25l  \u001b[93mreturn\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(s, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m s.lower()\u001b[40;119H10\u001b[21;10H\u001b[?25h\u001b[?25l  \u001b[93mreturn\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(s, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m s.lower()\u001b[40;120H1\u001b[21;11H\u001b[?25h\u001b[?25l  \u001b[93mreturn\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(s, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m s.lower()\u001b[40;120H2\u001b[21;12H\u001b[?25h\u001b[40;1H\u001b[K\u001b[21;11H\u001b[?25l\u001b[40;105H^[\u001b[21;11H\u001b[40;105H  \u001b[21;12H\u001b[40;115H775,11\u001b[8C46%\u001b[21;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;11H\u001b[40;105H   \u001b[22;1H\u001b[40;117H6,0-1\u001b[22;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;1H\u001b[40;105H   \u001b[21;11H\u001b[40;117H5,11 \u001b[21;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;11H\u001b[40;105H   \u001b[21;10H\u001b[40;120H0\u001b[21;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;10H\u001b[40;105H   \u001b[21;9H\u001b[40;119H9 \u001b[21;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;9H\u001b[40;105H   \u001b[21;8H\u001b[40;119H8\u001b[21;8H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[21;8H\u001b[40;105H \u001b[21;8H\u001b[40;105Hdl\u001b[21;8H\u001b[40;105H  \u001b[21;8H    \u001b[93mreturn\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(s, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m s.lower()\u001b[21;62H\u001b[K\u001b[21;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;8H\u001b[40;105H   \u001b[22;1H\u001b[40;117H6,0-1\u001b[22;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;1H\u001b[40;105H   \u001b[23;8H\u001b[40;117H7,8  \u001b[23;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;8H\u001b[40;105H   \u001b[23;7H\u001b[40;119H7\u001b[23;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;7H\u001b[40;105H   \u001b[24;7H\u001b[40;117H8\u001b[24;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;7H\u001b[40;105H   \u001b[24;6H\u001b[40;119H6\u001b[24;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;6H\u001b[40;105H   \u001b[23;6H\u001b[40;117H7\u001b[23;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;6H\u001b[40;105H   \u001b[23;5H\u001b[40;119H5\u001b[23;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;5H\u001b[40;105H   \u001b[23;4H\u001b[40;119H4\u001b[23;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;4H\u001b[40;105H   \u001b[23;3H\u001b[40;119H3\u001b[23;3H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;3H\u001b[40;105H   \u001b[23;2H\u001b[40;119H2\u001b[23;2H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;2H\u001b[40;105H   \u001b[23;1H\u001b[40;119H1\u001b[23;1H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[23;1H\u001b[40;105H \u001b[23;1H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H777,1\u001b[9C46%\u001b[23;1H\u001b[?25h\u001b[?25l \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_flatten_opml_to_text\u001b[m(self, xml_text: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[40;119H2\u001b[23;2H\u001b[?25h\u001b[?25l \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_flatten_opml_to_text\u001b[m(self, xml_text: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[40;119H3\u001b[23;3H\u001b[?25h\u001b[?25l \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_flatten_opml_to_text\u001b[m(self, xml_text: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[40;119H4\u001b[23;4H\u001b[?25h\u001b[?25l \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_flatten_opml_to_text\u001b[m(self, xml_text: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[40;119H5\u001b[23;5H\u001b[?25h\u001b[?25l \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_flatten_opml_to_text\u001b[m(self, xml_text: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[40;119H6\u001b[23;6H\u001b[?25h\u001b[?25l \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_flatten_opml_to_text\u001b[m(self, xml_text: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[40;119H7\u001b[23;7H\u001b[?25h\u001b[?25l \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_flatten_opml_to_text\u001b[m(self, xml_text: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[40;119H8\u001b[23;8H\u001b[?25h\u001b[?25l \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_flatten_opml_to_text\u001b[m(self, xml_text: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[40;119H9\u001b[23;9H\u001b[?25h\u001b[40;1H\u001b[K\u001b[23;8H\u001b[?25l\u001b[40;105H^[\u001b[23;8H\u001b[40;105H  \u001b[23;9H\u001b[40;115H777,8\u001b[9C46%\u001b[23;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;8H\u001b[40;105H   \u001b[24;8H\u001b[40;117H8\u001b[24;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;8H\u001b[40;105H   \u001b[24;7H\u001b[40;119H7\u001b[24;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;7H\u001b[40;105H   \u001b[24;6H\u001b[40;119H6\u001b[24;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;6H\u001b[40;105H   \u001b[24;5H\u001b[40;119H5\u001b[24;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;5H\u001b[40;105H   \u001b[24;4H\u001b[40;119H4\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[24;4H\u001b[40;105H \u001b[24;4H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H778,4\u001b[9C46%\u001b[24;4H\u001b[?25h\u001b[?25l  \u001b[2C\u001b[95m\"Turn OPML XML into an indented bullet list.\"\"\"\u001b[m\u001b[40;119H5\u001b[24;5H\u001b[?25h\u001b[?25l  \u001b[2C\u001b[95m\"Turn OPML XML into an indented bullet list.\"\"\"\u001b[m\u001b[40;119H6\u001b[24;6H\u001b[?25h\u001b[?25l  \u001b[2C\u001b[95m\"Turn OPML XML into an indented bullet list.\"\"\"\u001b[m\u001b[40;119H7\u001b[24;7H\u001b[?25h\u001b[?25l  \u001b[2C\u001b[95m\"Turn OPML XML into an indented bullet list.\"\"\"\u001b[m\u001b[40;119H8\u001b[24;8H\u001b[?25h\u001b[?25l  \u001b[2C\u001b[95m\"Turn OPML XML into an indented bullet list.\"\"\"\u001b[m\u001b[40;119H9\u001b[24;9H\u001b[?25h\u001b[?25l  \u001b[2C\u001b[95m\"Turn OPML XML into an indented bullet list.\"\"\"\u001b[m\u001b[40;119H10\u001b[24;10H\u001b[?25h\u001b[?25l  \u001b[2C\u001b[95m\"Turn OPML XML into an indented bullet list.\"\"\"\u001b[m\u001b[40;120H1\u001b[24;11H\u001b[?25h\u001b[?25l  \u001b[2C\u001b[95m\"Turn OPML XML into an indented bullet list.\"\"\"\u001b[m\u001b[40;120H2\u001b[24;12H\u001b[?25h\u001b[40;1H\u001b[K\u001b[24;11H\u001b[?25l\u001b[40;105H^[\u001b[24;11H\u001b[40;105H  \u001b[24;12H\u001b[40;115H778,11\u001b[8C46%\u001b[24;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;11H\u001b[40;105H   \u001b[25;11H\u001b[40;117H9\u001b[25;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;11H\u001b[40;105H   \u001b[25;10H\u001b[40;120H0\u001b[25;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;10H\u001b[40;105H   \u001b[25;9H\u001b[40;119H9 \u001b[25;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;9H\u001b[40;105H   \u001b[25;8H\u001b[40;119H8\u001b[25;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;8H\u001b[40;105H   \u001b[25;7H\u001b[40;119H7\u001b[25;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;7H\u001b[40;105H   \u001b[25;6H\u001b[40;119H6\u001b[25;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;6H\u001b[40;105H   \u001b[25;5H\u001b[40;119H5\u001b[25;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;5H\u001b[40;105H   \u001b[25;4H\u001b[40;119H4\u001b[25;4H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[25;4H\u001b[40;105H \u001b[25;4H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H779,4\u001b[9C46%\u001b[25;4H\u001b[?25h\u001b[?25l  \u001b[38;5;81mimport\u001b[m xml.etree.ElementTree \u001b[93mas\u001b[m ET\u001b[40;119H5\u001b[25;5H\u001b[?25h\u001b[?25l  \u001b[38;5;81mimport\u001b[m xml.etree.ElementTree \u001b[93mas\u001b[m ET\u001b[40;119H6\u001b[25;6H\u001b[?25h\u001b[?25l  \u001b[38;5;81mimport\u001b[m xml.etree.ElementTree \u001b[93mas\u001b[m ET\u001b[40;119H7\u001b[25;7H\u001b[?25h\u001b[?25l  \u001b[38;5;81mimport\u001b[m xml.etree.ElementTree \u001b[93mas\u001b[m ET\u001b[40;119H8\u001b[25;8H\u001b[?25h\u001b[?25l  \u001b[38;5;81mimport\u001b[m xml.etree.ElementTree \u001b[93mas\u001b[m ET\u001b[40;119H9\u001b[25;9H\u001b[?25h\u001b[?25l  \u001b[38;5;81mimport\u001b[m xml.etree.ElementTree \u001b[93mas\u001b[m ET\u001b[40;119H10\u001b[25;10H\u001b[?25h\u001b[?25l  \u001b[38;5;81mimport\u001b[m xml.etree.ElementTree \u001b[93mas\u001b[m ET\u001b[40;120H1\u001b[25;11H\u001b[?25h\u001b[?25l  \u001b[38;5;81mimport\u001b[m xml.etree.ElementTree \u001b[93mas\u001b[m ET\u001b[40;120H2\u001b[25;12H\u001b[?25h\u001b[40;1H\u001b[K\u001b[25;11H\u001b[?25l\u001b[40;105H^[\u001b[25;11H\u001b[40;105H  \u001b[25;12H\u001b[40;115H779,11\u001b[8C46%\u001b[25;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;11H\u001b[40;105H   \u001b[26;8H\u001b[40;116H80,8 \u001b[26;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;8H\u001b[40;105H   \u001b[26;7H\u001b[40;119H7\u001b[26;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;7H\u001b[40;105H   \u001b[26;6H\u001b[40;119H6\u001b[26;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;6H\u001b[40;105H   \u001b[26;5H\u001b[40;119H5\u001b[26;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;5H\u001b[40;105H   \u001b[26;4H\u001b[40;119H4\u001b[26;4H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[26;4H\u001b[40;105H \u001b[26;4H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H780,4\u001b[9C46%\u001b[26;4H\u001b[?25h\u001b[?25l  \u001b[93mtry\u001b[m:\u001b[40;119H5\u001b[26;5H\u001b[?25h\u001b[?25l  \u001b[93mtry\u001b[m:\u001b[40;119H6\u001b[26;6H\u001b[?25h\u001b[?25l  \u001b[93mtry\u001b[m:\u001b[40;119H7\u001b[26;7H\u001b[?25h\u001b[?25l  \u001b[93mtry\u001b[m:\u001b[40;119H8\u001b[26;8H\u001b[?25h\u001b[?25l  \u001b[93mtry\u001b[m:\u001b[40;119H9\u001b[26;9H\u001b[?25h\u001b[?25l  \u001b[93mtry\u001b[m:\u001b[40;119H10\u001b[26;10H\u001b[?25h\u001b[?25l  \u001b[93mtry\u001b[m:\u001b[40;120H1\u001b[26;11H\u001b[?25h\u001b[?25l  \u001b[93mtry\u001b[m:\u001b[40;120H2\u001b[26;12H\u001b[?25h\u001b[40;1H\u001b[K\u001b[26;11H\u001b[?25l\u001b[40;105H^[\u001b[26;11H\u001b[40;105H  \u001b[26;12H\u001b[40;115H780,11\u001b[8C46%\u001b[26;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;11H\u001b[40;105H   \u001b[27;11H\u001b[40;117H1\u001b[27;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;11H\u001b[40;105H   \u001b[27;10H\u001b[40;120H0\u001b[27;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;10H\u001b[40;105H   \u001b[27;9H\u001b[40;119H9 \u001b[27;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;9H\u001b[40;105H   \u001b[27;8H\u001b[40;119H8\u001b[27;8H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[27;8H\u001b[40;105H \u001b[27;8H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H781,8\u001b[9C46%\u001b[27;8H\u001b[?25h\u001b[?25l  s = xml_text.lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\r\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[40;119H9\u001b[27;9H\u001b[?25h\u001b[?25l  s = xml_text.lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\r\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[40;119H10\u001b[27;10H\u001b[?25h\u001b[?25l  s = xml_text.lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\r\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[40;120H1\u001b[27;11H\u001b[?25h\u001b[?25l  s = xml_text.lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\r\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[40;120H2\u001b[27;12H\u001b[?25h\u001b[?25l  s = xml_text.lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\r\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[40;120H3\u001b[27;13H\u001b[?25h\u001b[?25l  s = xml_text.lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\r\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[40;120H4\u001b[27;14H\u001b[?25h\u001b[?25l  s = xml_text.lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\r\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[40;120H5\u001b[27;15H\u001b[?25h\u001b[?25l  s = xml_text.lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\r\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[40;120H6\u001b[27;16H\u001b[?25h\u001b[40;1H\u001b[K\u001b[27;15H\u001b[?25l\u001b[40;105H^[\u001b[27;15H\u001b[40;105H  \u001b[27;16H\u001b[40;115H781,15\u001b[8C46%\u001b[27;15H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;15H\u001b[40;105H   \u001b[28;15H\u001b[40;117H2\u001b[28;15H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;15H\u001b[40;105H   \u001b[28;14H\u001b[40;120H4\u001b[28;14H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;14H\u001b[40;105H   \u001b[28;13H\u001b[40;120H3\u001b[28;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;13H\u001b[40;105H   \u001b[28;12H\u001b[40;120H2\u001b[28;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;12H\u001b[40;105H   \u001b[28;11H\u001b[40;120H1\u001b[28;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;11H\u001b[40;105H   \u001b[28;10H\u001b[40;120H0\u001b[28;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;10H\u001b[40;105H   \u001b[28;9H\u001b[40;119H9 \u001b[28;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;9H\u001b[40;105H   \u001b[28;8H\u001b[40;119H8\u001b[28;8H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[28;8H\u001b[40;105H \u001b[28;8H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H782,8\u001b[9C46%\u001b[28;8H\u001b[?25h\u001b[?25l  \u001b[93mif\u001b[m \u001b[95m\"<\"\u001b[m \u001b[93min\u001b[m s:\u001b[40;119H9\u001b[28;9H\u001b[?25h\u001b[?25l  \u001b[93mif\u001b[m \u001b[95m\"<\"\u001b[m \u001b[93min\u001b[m s:\u001b[40;119H10\u001b[28;10H\u001b[?25h\u001b[?25l  \u001b[93mif\u001b[m \u001b[95m\"<\"\u001b[m \u001b[93min\u001b[m s:\u001b[40;120H1\u001b[28;11H\u001b[?25h\u001b[?25l  \u001b[93mif\u001b[m \u001b[95m\"<\"\u001b[m \u001b[93min\u001b[m s:\u001b[40;120H2\u001b[28;12H\u001b[?25h\u001b[?25l  \u001b[93mif\u001b[m \u001b[95m\"<\"\u001b[m \u001b[93min\u001b[m s:\u001b[40;120H3\u001b[28;13H\u001b[?25h\u001b[?25l  \u001b[93mif\u001b[m \u001b[95m\"<\"\u001b[m \u001b[93min\u001b[m s:\u001b[40;120H4\u001b[28;14H\u001b[?25h\u001b[?25l  \u001b[93mif\u001b[m \u001b[95m\"<\"\u001b[m \u001b[93min\u001b[m s:\u001b[40;120H5\u001b[28;15H\u001b[?25h\u001b[?25l  \u001b[93mif\u001b[m \u001b[95m\"<\"\u001b[m \u001b[93min\u001b[m s:\u001b[40;120H6\u001b[28;16H\u001b[?25h\u001b[40;1H\u001b[K\u001b[28;15H\u001b[?25l\u001b[40;105H^[\u001b[28;15H\u001b[40;105H  \u001b[28;16H\u001b[40;115H782,15\u001b[8C46%\u001b[28;15H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;15H\u001b[40;105H   \u001b[29;15H\u001b[40;117H3\u001b[29;15H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;15H\u001b[40;105H   \u001b[29;14H\u001b[40;120H4\u001b[29;14H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;14H\u001b[40;105H   \u001b[29;13H\u001b[40;120H3\u001b[29;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;13H\u001b[40;105H   \u001b[29;12H\u001b[40;120H2\u001b[29;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;12H\u001b[40;105H   \u001b[29;11H\u001b[40;120H1\u001b[29;11H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[29;11H\u001b[40;105H \u001b[29;11H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H783,11\u001b[8C46%\u001b[29;11H\u001b[?25h\u001b[?25l   s = s[s.find(\u001b[95m\"<\"\u001b[m):]\u001b[40;120H2\u001b[29;12H\u001b[?25h\u001b[?25l   s = s[s.find(\u001b[95m\"<\"\u001b[m):]\u001b[40;120H3\u001b[29;13H\u001b[?25h\u001b[?25l   s = s[s.find(\u001b[95m\"<\"\u001b[m):]\u001b[40;120H4\u001b[29;14H\u001b[?25h\u001b[?25l   s = s[s.find(\u001b[95m\"<\"\u001b[m):]\u001b[40;120H5\u001b[29;15H\u001b[?25h\u001b[?25l   s = s[s.find(\u001b[95m\"<\"\u001b[m):]\u001b[40;120H6\u001b[29;16H\u001b[?25h\u001b[?25l   s = s[s.find(\u001b[95m\"<\"\u001b[m):]\u001b[40;120H7\u001b[29;17H\u001b[?25h\u001b[?25l   s = s[s.find(\u001b[95m\"<\"\u001b[m):]\u001b[40;120H8\u001b[29;18H\u001b[?25h\u001b[?25l   s = s[s.find(\u001b[95m\"<\"\u001b[m):]\u001b[40;120H9\u001b[29;19H\u001b[?25h\u001b[40;1H\u001b[K\u001b[29;18H\u001b[?25l\u001b[40;105H^[\u001b[29;18H\u001b[40;105H  \u001b[29;19H\u001b[40;115H783,18\u001b[8C46%\u001b[29;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;18H\u001b[40;105H   \u001b[30;18H\u001b[40;117H4\u001b[30;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;18H\u001b[40;105H   \u001b[30;17H\u001b[40;120H7\u001b[30;17H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;17H\u001b[40;105H   \u001b[30;16H\u001b[40;120H6\u001b[30;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;16H\u001b[40;105H   \u001b[30;15H\u001b[40;120H5\u001b[30;15H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;15H\u001b[40;105H   \u001b[30;14H\u001b[40;120H4\u001b[30;14H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;14H\u001b[40;105H   \u001b[30;13H\u001b[40;120H3\u001b[30;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;13H\u001b[40;105H   \u001b[30;12H\u001b[40;120H2\u001b[30;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;12H\u001b[40;105H   \u001b[30;11H\u001b[40;120H1\u001b[30;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;11H\u001b[40;105H   \u001b[30;10H\u001b[40;120H0\u001b[30;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;10H\u001b[40;105H   \u001b[30;9H\u001b[40;119H9 \u001b[30;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;9H\u001b[40;105H   \u001b[30;8H\u001b[40;119H8\u001b[30;8H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[30;8H\u001b[40;105H \u001b[30;8H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H784,8\u001b[9C46%\u001b[30;8H\u001b[?25h\u001b[?25l  root = ET.fromstring(s)\u001b[40;119H9\u001b[30;9H\u001b[?25h\u001b[?25l  root = ET.fromstring(s)\u001b[40;119H10\u001b[30;10H\u001b[?25h\u001b[?25l  root = ET.fromstring(s)\u001b[40;120H1\u001b[30;11H\u001b[?25h\u001b[?25l  root = ET.fromstring(s)\u001b[40;120H2\u001b[30;12H\u001b[?25h\u001b[?25l  root = ET.fromstring(s)\u001b[40;120H3\u001b[30;13H\u001b[?25h\u001b[?25l  root = ET.fromstring(s)\u001b[40;120H4\u001b[30;14H\u001b[?25h\u001b[?25l  root = ET.fromstring(s)\u001b[40;120H5\u001b[30;15H\u001b[?25h\u001b[?25l  root = ET.fromstring(s)\u001b[40;120H6\u001b[30;16H\u001b[?25h\u001b[?25l  root = ET.fromstring(s)\u001b[40;120H7\u001b[30;17H\u001b[?25h\u001b[?25l  root = ET.fromstring(s)\u001b[40;120H8\u001b[30;18H\u001b[?25h\u001b[?25l  root = ET.fromstring(s)\u001b[40;120H9\u001b[30;19H\u001b[?25h\u001b[?25l  root = ET.fromstring(s)\u001b[40;119H20\u001b[30;20H\u001b[?25h\u001b[40;1H\u001b[K\u001b[30;19H\u001b[?25l\u001b[40;105H^[\u001b[30;19H\u001b[40;105H  \u001b[30;20H\u001b[40;115H784,19\u001b[8C46%\u001b[30;19H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;19H\u001b[40;105H   \u001b[31;19H\u001b[40;117H5\u001b[31;19H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;19H\u001b[40;105H   \u001b[31;18H\u001b[40;120H8\u001b[31;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;18H\u001b[40;105H   \u001b[31;17H\u001b[40;120H7\u001b[31;17H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;17H\u001b[40;105H   \u001b[31;16H\u001b[40;120H6\u001b[31;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;16H\u001b[40;105H   \u001b[31;15H\u001b[40;120H5\u001b[31;15H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;15H\u001b[40;105H   \u001b[31;14H\u001b[40;120H4\u001b[31;14H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;14H\u001b[40;105H   \u001b[31;13H\u001b[40;120H3\u001b[31;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;13H\u001b[40;105H   \u001b[31;12H\u001b[40;120H2\u001b[31;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;12H\u001b[40;105H   \u001b[31;11H\u001b[40;120H1\u001b[31;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;11H\u001b[40;105H   \u001b[31;10H\u001b[40;120H0\u001b[31;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;10H\u001b[40;105H   \u001b[31;9H\u001b[40;119H9 \u001b[31;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;9H\u001b[40;105H   \u001b[31;8H\u001b[40;119H8\u001b[31;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;8H\u001b[40;105H   \u001b[31;7H\u001b[40;119H7\u001b[31;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;7H\u001b[40;105H   \u001b[31;6H\u001b[40;119H6\u001b[31;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;6H\u001b[40;105H   \u001b[31;5H\u001b[40;119H5\u001b[31;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;5H\u001b[40;105H   \u001b[31;4H\u001b[40;119H4\u001b[31;4H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[31;4H\u001b[40;105H \u001b[31;4H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H785,4\u001b[9C46%\u001b[31;4H\u001b[?25h\u001b[?25l  \u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[40;119H5\u001b[31;5H\u001b[?25h\u001b[?25l  \u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[40;119H6\u001b[31;6H\u001b[?25h\u001b[?25l  \u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[40;119H7\u001b[31;7H\u001b[?25h\u001b[?25l  \u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[40;119H8\u001b[31;8H\u001b[?25h\u001b[40;1H\u001b[K\u001b[31;7H\u001b[?25l\u001b[40;105H^[\u001b[31;7H\u001b[40;105H  \u001b[31;8H\u001b[40;115H785,7\u001b[9C46%\u001b[31;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;7H\u001b[40;105H   \u001b[32;7H\u001b[40;117H6\u001b[32;7H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[32;7H\u001b[40;105H \u001b[32;7H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H786,7\u001b[9C46%\u001b[32;7H\u001b[?25h\u001b[?25l   \u001b[93mreturn\u001b[m xml_text  \u001b[96m# fall back if not valid XML\u001b[m\u001b[40;119H8\u001b[32;8H\u001b[?25h\u001b[?25l   \u001b[93mreturn\u001b[m xml_text  \u001b[96m# fall back if not valid XML\u001b[m\u001b[40;119H9\u001b[32;9H\u001b[?25h\u001b[?25l   \u001b[93mreturn\u001b[m xml_text  \u001b[96m# fall back if not valid XML\u001b[m\u001b[40;119H10\u001b[32;10H\u001b[?25h\u001b[?25l   \u001b[93mreturn\u001b[m xml_text  \u001b[96m# fall back if not valid XML\u001b[m\u001b[40;120H1\u001b[32;11H\u001b[?25h\u001b[40;1H\u001b[K\u001b[32;10H\u001b[?25l\u001b[40;105H^[\u001b[32;10H\u001b[40;105H  \u001b[32;11H\u001b[40;115H786,10\u001b[8C46%\u001b[32;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;10H\u001b[40;105H   \u001b[33;1H\u001b[40;117H7,0-1\u001b[33;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[33;1H\u001b[40;105H   \u001b[34;10H\u001b[40;117H8,10 \u001b[34;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;10H\u001b[40;105H   \u001b[34;10H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hlines.append((\u001b[95m\"  \"\u001b[m * depth) + \u001b[95m\"- \"\u001b[m + text)\u001b[40;115H\u001b[K\u001b[40;115H789,10\u001b[8C46%\u001b[34;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;10H\u001b[40;105H   \u001b[34;10H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mfor\u001b[m child \u001b[93min\u001b[m \u001b[1m\u001b[96mlist\u001b[m(node):\u001b[40;115H\u001b[K\u001b[40;115H790,10\u001b[8C46%\u001b[34;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;10H\u001b[40;105H   \u001b[34;10H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hwalk(child, depth + \u001b[95m1\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H791,10\u001b[8C46%\u001b[34;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;10H\u001b[40;105H   \u001b[34;10H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H792,10\u001b[8C46%\u001b[34;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;10H\u001b[40;105H   \u001b[34;10H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5Hbody = root.find(\u001b[95m\".//body\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H793,10\u001b[8C46%\u001b[34;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;10H\u001b[40;105H   \u001b[34;10H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5Hnodes = \u001b[1m\u001b[96mlist\u001b[m(body) \u001b[93mif\u001b[m body \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m \u001b[93melse\u001b[m \u001b[1m\u001b[96mlist\u001b[m(root)\u001b[40;115H\u001b[K\u001b[40;115H794,10\u001b[8C46%\u001b[34;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;10H\u001b[40;105H   \u001b[34;10H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mfor\u001b[m n \u001b[93min\u001b[m nodes:\u001b[40;115H\u001b[K\u001b[40;115H795,10\u001b[8C46%\u001b[34;10H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[34;10H\u001b[40;105H  \u001b[34;10H\u001b[40;105H^[\u001b[34;10H\u0007\u001b[40;105H  \u001b[34;10H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[34;10H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"modules/gui_tkinter.py\" 1666L, 72132B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi +774 modules/gui_tkinter.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[15Ppython3 main.py\n\u001b[?2004l\nTraceback (most recent call last):\n  File \"/home/gross/FunKit/main.py\", line 4, in <module>\n    from modules.gui_tkinter import DemoKitGUI\n  File \"/home/gross/FunKit/modules/gui_tkinter.py\", line 785\n    except Exception:\nSyntaxError: expected 'except' or 'finally' block\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bvi +774 modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1P modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1P modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b8 modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b5 modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/gui_tkinter.py\" 1666L, 72132B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[2;1H        \u001b[38;5;130mdef\u001b[m \u001b[36m_flatten_opml_to_text\u001b[m(self, xml_text: \u001b[36mstr\u001b[m) -> \u001b[36mstr\u001b[m:\u001b[2;63H\u001b[K\u001b[3;1H            \u001b[31m\"\"\"Turn OPML XML into an indented bullet list.\"\"\"\u001b[m\u001b[3;62H\u001b[K\u001b[4;13H\u001b[35mimport\u001b[m xml.etree.ElementTree \u001b[38;5;130mas\u001b[m ET\u001b[5;13H\u001b[38;5;130mtry\u001b[m:\u001b[6;17Hs = xml_text.lstrip(\u001b[31m\"\u001b[m\u001b[35m\\ufeff\\r\\n\\t\u001b[m\u001b[31m \"\u001b[m)\u001b[7;17H\u001b[38;5;130mif\u001b[m \u001b[31m\"<\"\u001b[m \u001b[38;5;130min\u001b[m s:\u001b[8;21Hs = s[s.find(\u001b[31m\"<\"\u001b[m):]\u001b[9;21Hroot = ET.fromstring(s)\u001b[10;9H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m:\u001b[11;13H\u001b[38;5;130mreturn\u001b[m xml_text  \u001b[34m# fall back if not valid XML\u001b[m\u001b[13;5Hlines = []\n    \u001b[38;5;130mdef\u001b[m \u001b[36mwalk\u001b[m(node, depth=\u001b[31m0\u001b[m):\u001b[15;9Htag = node.tag.lower()\u001b[16;9H\u001b[38;5;130mif\u001b[m tag.endswith(\u001b[31m\"outline\"\u001b[m):\u001b[17;13Htext = node.attrib.get(\u001b[31m\"text\"\u001b[m) \u001b[38;5;130mor\u001b[m node.attrib.get(\u001b[31m\"title\"\u001b[m) \u001b[38;5;130mor\u001b[m \u001b[31m\"\"\u001b[m\u001b[18;13H\u001b[38;5;130mif\u001b[m text:\u001b[19;17Hlines.append((\u001b[31m\"  \"\u001b[m * depth) + \u001b[31m\"- \"\u001b[m + text)\u001b[20;13H\u001b[38;5;130mfor\u001b[m child \u001b[38;5;130min\u001b[m \u001b[36mlist\u001b[m(node):\u001b[21;17Hwalk(child, depth + \u001b[31m1\u001b[m)\u001b[23;5Hbody = root.find(\u001b[31m\".//body\"\u001b[m)\n    nodes = \u001b[36mlist\u001b[m(body) \u001b[38;5;130mif\u001b[m body \u001b[38;5;130mis\u001b[m \u001b[38;5;130mnot\u001b[m \u001b[36mNone\u001b[m \u001b[38;5;130melse\u001b[m \u001b[36mlist\u001b[m(root)\n    \u001b[38;5;130mfor\u001b[m n \u001b[38;5;130min\u001b[m nodes:\u001b[26;9Hwalk(n, \u001b[31m0\u001b[m)\n    \u001b[38;5;130mreturn\u001b[m \u001b[31m\"\u001b[m\u001b[35m\\n\u001b[m\u001b[31m\"\u001b[m.join(lines).strip()\n\n\u001b[38;5;130mdef\u001b[m \u001b[36m_document_to_plain_text\u001b[m(self, doc) -> \u001b[36mstr\u001b[m:\n    \u001b[31m\"\"\"Return a plain-text representation of the current document.\"\"\"\u001b[m\n    \u001b[34m# title/body from dict or tuple\u001b[m\n    title = doc.get(\u001b[31m\"title\"\u001b[m) \u001b[38;5;130mif\u001b[m \u001b[36misinstance\u001b[m(doc, \u001b[36mdict\u001b[m) \u001b[38;5;130melse\u001b[m (doc[\u001b[31m1\u001b[m] \u001b[38;5;130mif\u001b[m \u001b[36mlen\u001b[m(doc) > \u001b[31m1\u001b[m \u001b[38;5;130melse\u001b[m \u001b[31m\"Document\"\u001b[m)\n    body  = doc.get(\u001b[31m\"body\"\u001b[m)  \u001b[38;5;130mif\u001b[m \u001b[36misinstance\u001b[m(doc, \u001b[36mdict\u001b[m) \u001b[38;5;130melse\u001b[m (doc[\u001b[31m2\u001b[m] \u001b[38;5;130mif\u001b[m \u001b[36mlen\u001b[m(doc) > \u001b[31m2\u001b[m \u001b[38;5;130melse\u001b[m \u001b[31m\"\"\u001b[m)\u001b[35;5H\u001b[34m# Binary \u2192\u001b[35;15H text\u001b[m\n    \u001b[38;5;130mif\u001b[m \u001b[36misinstance\u001b[m(body, (\u001b[36mbytes\u001b[m, \u001b[36mbytearray\u001b[m)):\u001b[37;9H\u001b[38;5;130mtry\u001b[m:\u001b[38;13H\u001b[35mfrom\u001b[m hypertext_parser \u001b[35mimport\u001b[m render_binary_as_text\u001b[39;13H\u001b[38;5;130mreturn\u001b[m render_binary_as_text(body, title \u001b[38;5;130mor\u001b[m \u001b[31m\"Document\"\u001b[m)\u001b[40;115H785,9\u001b[9C47%\u001b[10;9H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H:\u001b[10;9H\u001b[40;106H3\u001b[10;9H\u001b[40;107H0\u001b[10;9H\u001b[40;108H3\u001b[10;9H\u001b[40;109H0\u001b[10;9H\u001b[40;110H/\u001b[10;9H\u001b[40;111H0\u001b[10;9H\u001b[40;112Ha\u001b[10;9H\u001b[40;113H0\u001b[10;9H\u001b[40;114Ha\u001b[10;9H\u001b[40;105H          \u001b[10;9H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[2;9H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_flatten_opml_to_text\u001b[m(self, xml_text: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[3;13H\u001b[95m\"\"\"Turn OPML XML into an indented bullet list.\"\"\"\u001b[m\u001b[4;13H\u001b[38;5;81mimport\u001b[m xml.etree.ElementTree \u001b[93mas\u001b[m ET\u001b[5;13H\u001b[93mtry\u001b[m:\u001b[6;17Hs = xml_text.lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\r\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[7;17H\u001b[93mif\u001b[m \u001b[95m\"<\"\u001b[m \u001b[93min\u001b[m s:\u001b[8;21Hs = s[s.find(\u001b[95m\"<\"\u001b[m):]\u001b[9;21Hroot = ET.fromstring(s)\u001b[10;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[11;13H\u001b[93mreturn\u001b[m xml_text  \u001b[96m# fall back if not valid XML\u001b[m\u001b[13;5Hlines = []\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mwalk\u001b[m(node, depth=\u001b[95m0\u001b[m):\u001b[15;9Htag = node.tag.lower()\u001b[16;9H\u001b[93mif\u001b[m tag.endswith(\u001b[95m\"outline\"\u001b[m):\u001b[17;13Htext = node.attrib.get(\u001b[95m\"text\"\u001b[m) \u001b[93mor\u001b[m node.attrib.get(\u001b[95m\"title\"\u001b[m) \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m\u001b[18;13H\u001b[93mif\u001b[m text:\u001b[19;17Hlines.append((\u001b[95m\"  \"\u001b[m * depth) + \u001b[95m\"- \"\u001b[m + text)\u001b[20;13H\u001b[93mfor\u001b[m child \u001b[93min\u001b[m \u001b[1m\u001b[96mlist\u001b[m(node):\u001b[21;17Hwalk(child, depth + \u001b[95m1\u001b[m)\u001b[23;5Hbody = root.find(\u001b[95m\".//body\"\u001b[m)\n    nodes = \u001b[1m\u001b[96mlist\u001b[m(body) \u001b[93mif\u001b[m body \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m \u001b[93melse\u001b[m \u001b[1m\u001b[96mlist\u001b[m(root)\n    \u001b[93mfor\u001b[m n \u001b[93min\u001b[m nodes:\u001b[26;9Hwalk(n, \u001b[95m0\u001b[m)\n    \u001b[93mreturn\u001b[m \u001b[95m\"\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m\"\u001b[m.join(lines).strip()\n\n\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_document_to_plain_text\u001b[m(self, doc) -> \u001b[1m\u001b[96mstr\u001b[m:\n    \u001b[95m\"\"\"Return a plain-text representation of the current document.\"\"\"\u001b[m\n    \u001b[96m# title/body from dict or tuple\u001b[m\n    title = doc.get(\u001b[95m\"title\"\u001b[m) \u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(doc, \u001b[1m\u001b[96mdict\u001b[m) \u001b[93melse\u001b[m (doc[\u001b[95m1\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(doc) > \u001b[95m1\u001b[m \u001b[93melse\u001b[m \u001b[95m\"Document\"\u001b[m)\n    body  = doc.get(\u001b[95m\"body\"\u001b[m)  \u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(doc, \u001b[1m\u001b[96mdict\u001b[m) \u001b[93melse\u001b[m (doc[\u001b[95m2\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(doc) > \u001b[95m2\u001b[m \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m)\u001b[35;5H\u001b[96m# Binary \u2192\u001b[35;15H text\u001b[m\n    \u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)):\u001b[37;9H\u001b[93mtry\u001b[m:\u001b[38;13H\u001b[38;5;81mfrom\u001b[m hypertext_parser \u001b[38;5;81mimport\u001b[m render_binary_as_text\u001b[39;13H\u001b[93mreturn\u001b[m render_binary_as_text(body, title \u001b[93mor\u001b[m \u001b[95m\"Document\"\u001b[m)\u001b[40;115H785,9\u001b[9C47%\n\"modules/gui_tkinter.py\" 1666L, 72132B\u001b[10;9H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[10;9H\u001b[40;105H  \u001b[10;9H\u001b[40;105H^[\u001b[10;9H\u0007\u001b[40;105H  \u001b[10;9H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[10;9H\u001b[40;1H\u001b[K\u001b[40;1H:\u001b[?25hq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\u001b[23;2t\u001b[23;1t\u001b[40;1H\u001b[K\u001b[40;1H\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ \u001b[7m# Did we instantiate the GUI twice?\u001b[27m\n\n\u001b[7mgrep -n \"DemoKitGUI\\(\" -n main.py modules/*.py\u001b[27m\n\n\u001b[A\u001b[A\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C# Did we instantiate the GUI twice?\n\ngrep -n \"DemoKitGUI\\(\" -n main.py modules/*.py\n\n\u001b[A\n\u001b[?2004l\n/usr/bin/grep: Unmatched ( or \\(\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ grep -n \"DemoKitGUI\\(\" -n main.py modules/*.py\n\u001b[?2004l\n/usr/bin/grep: Unmatched ( or \\(\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ grep -n \"DemoKitGUI\\(\" -n main.py modules/*.py)=\b\u001b[K\b\u001b[K\")\n\u001b[?2004l\n\u001b[?2004h> ^C\u001b[?2004l\n\u001b[?2004h\u001b[?2004l\n\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ \u0007[A\u0007\b\u001b[K\b\u001b[K\u0007\u0007\u0007\u0007\u0007grep -n \"DemoKitGUI\\(\" -n main.py modules/*.py\")\b\u001b[C\b\u001b[K\b\u001b[K\b\u001b[Ku\b\u001b[Ky_\b\u001b[K)\"\n\u001b[?2004l\nbash: syntax error near unexpected token `)'\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ \u001b[7m# Did we instantiate the GUI twice?\u001b[27m\n\n\u001b[7mgrep -RFn 'DemoKitGUI(' main.py modules\u001b[27m\n\n\n\u001b[7m# Any extra Tk roots hiding somewhere (outside gui_tkinter.py)?\u001b[27m\n\n\u001b[7mgrep -RFn 'tk.Tk(' modules | grep -v 'gui_tkinter.py'\u001b[27m\n\n\n\u001b[7m# Is main() defined/called correctly?\u001b[27m\n\n\u001b[7mgrep -n 'def main' main.py\u001b[27m\n\n\u001b[7mgrep -n 'main()' main.py\u001b[27m\n\n\u001b[7mgrep -n '^if __name__ == \"__main__\":' main.py\u001b[27m\n\n\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C# Did we instantiate the GUI twice?\n\ngrep -RFn 'DemoKitGUI(' main.py modules\n\n\n# Any extra Tk roots hiding somewhere (outside gui_tkinter.py)?\n\ngrep -RFn 'tk.Tk(' modules | grep -v 'gui_tkinter.py'\n\n\n# Is main() defined/called correctly?\n\ngrep -n 'def main' main.py\n\ngrep -n 'main()' main.py\n\ngrep -n '^if __name__ == \"__main__\":' main.py\n\n\u001b[A\n\u001b[?2004l\n\u001b[35m\u001b[Kmain.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K22\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K    app = \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Kdoc_store, processor)\n\u001b[35m\u001b[Kmain.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K23\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K    app = \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Kdoc_store, processor)\n\u001b[35m\u001b[Kmodules/gui_tkinter_rollback.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K23\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kclass \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Ktk.Tk):\n\u001b[35m\u001b[Kmodules/gui_tkinter-opml-works.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K41\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kclass \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Ktk.Tk):\n\u001b[35m\u001b[Kmodules/gui_tkinter_phase1.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K40\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kclass \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Ktk.Tk):\n\u001b[35m\u001b[Kmodules/backup/gui_pyqt.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K4\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kclass \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[KQMainWindow):\n\u001b[35m\u001b[Kmodules/works/gui_tkinter_debug.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K5\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kclass \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Ktk.Tk):\n\u001b[35m\u001b[Kmodules/works/gui_pyqt.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K4\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kclass \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[KQMainWindow):\n\u001b[35m\u001b[Kmodules/works/main.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K31\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K    app = \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Kroot, store, processor)\n\u001b[35m\u001b[Kmodules/gui_tkinter_debug.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K5\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kclass \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Ktk.Tk):\n\u001b[35m\u001b[Kmodules/gui_pyqt.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K4\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kclass \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[KQMainWindow):\n\u001b[35m\u001b[Kmodules/old/gui_tkinter.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K18\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kclass \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Ktk.Tk):\n\u001b[35m\u001b[Kmodules/gui_tkinter-updated.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K15\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kclass \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Ktk.Tk):\n\u001b[35m\u001b[Kmodules/gui_tkinter-1st-opml.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K18\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kclass \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Ktk.Tk):\n\u001b[35m\u001b[Kmodules/gui_tkinter.kernel-missing\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K97\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K    app = \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Kroot)\n\u001b[35m\u001b[Kmodules/gui_tkinter_pre_aopml.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K23\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kclass \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Ktk.Tk):\n\u001b[35m\u001b[Kmodules/gui_tkinter-first-bach-opml-convert-works.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K41\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kclass \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Ktk.Tk):\n\u001b[35m\u001b[Kmodules/gui_tkinter.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K23\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kclass \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Ktk.Tk):\n\u001b[35m\u001b[Kmodules/main.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K31\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K    app = \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Kroot, store, processor)\n\u001b[35m\u001b[Kmodules/gui_tkinter-works.py\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[32m\u001b[K13\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kclass \u001b[01;31m\u001b[KDemoKitGUI(\u001b[m\u001b[Ktk.Tk):\nmodules/works/main.py:29:    root = tk.Tk()\nmodules/TreeView.py:548:    root = tk.Tk()\nmodules/gui_tkinter.kernel-missing:96:    root = tk.Tk()\nmodules/main.py:29:    root = tk.Tk()\n\u001b[32m\u001b[K7\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[01;31m\u001b[Kdef main\u001b[m\u001b[K():\n\u001b[32m\u001b[K7\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[Kdef \u001b[01;31m\u001b[Kmain()\u001b[m\u001b[K:\n\u001b[32m\u001b[K31\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K    \u001b[01;31m\u001b[Kmain()\u001b[m\u001b[K\n\u001b[32m\u001b[K30\u001b[m\u001b[K\u001b[36m\u001b[K:\u001b[m\u001b[K\u001b[01;31m\u001b[Kif __name__ == \"__main__\":\u001b[m\u001b[K\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi main\b\u001b[Kn.py\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"main.py\" 31L, 826B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;1H\u001b[35mfrom\u001b[m pathlib \u001b[35mimport\u001b[m Path\n\u001b[35mfrom\u001b[m modules.document_store \u001b[35mimport\u001b[m DocumentStore\u001b[2;49H\u001b[K\u001b[3;1H\u001b[35mfrom\u001b[m modules.command_processor \u001b[35mimport\u001b[m CommandProcessor\u001b[3;55H\u001b[K\u001b[4;1H\u001b[35mfrom\u001b[m modules.gui_tkinter \u001b[35mimport\u001b[m DemoKitGUI\n\u001b[35mfrom\u001b[m modules.ai_interface \u001b[35mimport\u001b[m AIInterface\n\n\u001b[38;5;130mdef\u001b[m \u001b[36mmain\u001b[m():\n    \u001b[34m# Ensure the storage directory exists\u001b[m\n    Path(\u001b[31m\"storage\"\u001b[m).mkdir(parents=\u001b[36mTrue\u001b[m, exist_ok=\u001b[36mTrue\u001b[m)\u001b[11;5H\u001b[34m# Initialize the document store\u001b[m\n    doc_store = DocumentStore(\u001b[31m\"storage/documents.db\"\u001b[m)\u001b[14;5H\u001b[34m# Initialize the AI interface\u001b[m\n    ai = AIInterface()\u001b[17;5H\u001b[34m# Initialize the command processor with doc store and AI\u001b[m\n    processor = CommandProcessor(doc_store, ai)\u001b[20;5H\u001b[34m# Launch the GUI\u001b[m\u001b[22;5Happ = DemoKitGUI(doc_store, processor)\u001b[24;5H\u001b[35mfrom\u001b[m modules.save_as_text_plugin \u001b[35mimport\u001b[m install_save_as_text_into_app\n    install_save_as_text_into_app(app)\u001b[27;5Happ.mainloop()\n\n\u001b[38;5;130mif\u001b[m __name__ == \u001b[31m\"__main__\"\u001b[m:\n    main()\n\n\u001b[94m~                                                                                                                                   \u001b[33;1H~                                                                                                                                   \u001b[34;1H~                                                                                                                                   \u001b[35;1H~                                                                                                                                   \u001b[36;1H~                                                                                                                                   \u001b[37;1H~                                                                                                                                   \u001b[38;1H~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;115H23,0-1\u001b[8CAll\u001b[23;1H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H0\u001b[23;1H\u001b[40;106H3\u001b[23;1H\u001b[40;107H0\u001b[23;1H\u001b[40;108H/\u001b[23;1H\u001b[40;109H0\u001b[23;1H\u001b[40;110Ha\u001b[23;1H\u001b[40;111H0\u001b[23;1H\u001b[40;112Ha\u001b[23;1H\u001b[40;113H/\u001b[23;1H\u001b[40;114H2\u001b[23;1H\u001b[40;105H          \u001b[23;1H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;1H\u001b[38;5;81mfrom\u001b[m pathlib \u001b[38;5;81mimport\u001b[m Path\n\u001b[38;5;81mfrom\u001b[m modules.document_store \u001b[38;5;81mimport\u001b[m DocumentStore\n\u001b[38;5;81mfrom\u001b[m modules.command_processor \u001b[38;5;81mimport\u001b[m CommandProcessor\n\u001b[38;5;81mfrom\u001b[m modules.gui_tkinter \u001b[38;5;81mimport\u001b[m DemoKitGUI\n\u001b[38;5;81mfrom\u001b[m modules.ai_interface \u001b[38;5;81mimport\u001b[m AIInterface\n\n\u001b[93mdef\u001b[m \u001b[1m\u001b[96mmain\u001b[m():\n    \u001b[96m# Ensure the storage directory exists\u001b[m\n    Path(\u001b[95m\"storage\"\u001b[m).mkdir(parents=\u001b[1m\u001b[96mTrue\u001b[m, exist_ok=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[11;5H\u001b[96m# Initialize the document store\u001b[m\n    doc_store = DocumentStore(\u001b[95m\"storage/documents.db\"\u001b[m)\u001b[14;5H\u001b[96m# Initialize the AI interface\u001b[m\n    ai = AIInterface()\u001b[17;5H\u001b[96m# Initialize the command processor with doc store and AI\u001b[m\n    processor = CommandProcessor(doc_store, ai)\u001b[20;5H\u001b[96m# Launch the GUI\u001b[m\u001b[22;5Happ = DemoKitGUI(doc_store, processor)\u001b[24;5H\u001b[38;5;81mfrom\u001b[m modules.save_as_text_plugin \u001b[38;5;81mimport\u001b[m install_save_as_text_into_app\n    install_save_as_text_into_app(app)\u001b[27;5Happ.mainloop()\n\n\u001b[93mif\u001b[m __name__ == \u001b[95m\"__main__\"\u001b[m:\n    main()\n\n\u001b[94m~                                                                                                                                   \u001b[33;1H~                                                                                                                                   \u001b[34;1H~                                                                                                                                   \u001b[35;1H~                                                                                                                                   \u001b[36;1H~                                                                                                                                   \u001b[37;1H~                                                                                                                                   \u001b[38;1H~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;115H23,0-1\u001b[8CAll\n\"main.py\" 31L, 826B\u001b[23;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;1H\u001b[40;105H   \u001b[24;1H\u001b[40;116H4,1  \u001b[24;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;1H\u001b[40;105H   \u001b[25;1H\u001b[40;116H5\u001b[25;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;1H\u001b[40;105H   \u001b[24;1H\u001b[40;116H4\u001b[24;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;1H\u001b[40;105H   \u001b[23;1H\u001b[40;116H3,0-1\u001b[23;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;1H\u001b[40;105H   \u001b[22;1H\u001b[40;116H2,1  \u001b[22;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;1H\u001b[40;105H   \u001b[23;1H\u001b[40;116H3,0-1\u001b[23;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;1H\u001b[40;105H   \u001b[24;1H\u001b[40;116H4,1  \u001b[24;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;1H\u001b[40;105H   \u001b[23;1H\u001b[40;116H3,0-1\u001b[23;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;1H\u001b[40;105H   \u001b[22;1H\u001b[40;116H2,1  \u001b[22;1H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[22;1H\u001b[40;105H  \u001b[22;1H\u001b[40;105H^[\u001b[22;1H\u0007\u001b[40;105H  \u001b[22;1H\u001b[?25h\u001b[?25l\u001b[40;105Ho\u001b[22;1H\u001b[40;105H \u001b[23;5H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;13H\u001b[K\u001b[40;115H23,5\u001b[10CAll\u001b[24;5H\u001b[K\u001b[25;5H\u001b[38;5;81mfrom\u001b[m modules.save_as_text_plugin \u001b[38;5;81mimport\u001b[m install_save_as_text_into_app\n    install_save_as_text_into_app(app)\u001b[27;5H\u001b[K\u001b[28;5Happ.mainloop()\u001b[29;1H\u001b[K\u001b[30;1H\u001b[93mif\u001b[m __name__ == \u001b[95m\"__main__\"\u001b[m:\n    main()\u001b[32;1H\u001b[K\u001b[40;115H\u001b[K\u001b[40;115H23,5\u001b[10CAll\u001b[23;5H\u001b[?25h\u001b[?25l\u001b[38;5;81mfrom\u001b[m modules.save_as_text_plugin \u001b[38;5;81mimport\u001b[m install\u001b[?25h\u001b[?25l\u001b[24;39r\u001b[24;1H\u001b[L\u001b[1;40r\u001b[23;52H_save_as_text_into_app\ninstall_save_as_text_into_app(app\u001b[40;11H\u001b[1m(paste) --\u001b[m\u001b[40;115H\u001b[K\u001b[24;34H\u001b[?25h\u001b[?25l\u001b[25;39r\u001b[25;1H\u001b[L\u001b[1;40r\u001b[24;34H)\u001b[40;11H\u001b[1m--a\u001b[m\u001b[40;13H\u001b[K\u001b[40;115H25,1\u001b[10CAll\u001b[25;1H\u001b[?25h\u001b[40;1H\u001b[K\u001b[25;1H\u001b[?25l\u001b[40;105H^[\u001b[25;1H\u001b[40;105H  \u001b[25;1H\u001b[40;115H25,0-1\u001b[8CAll\u001b[25;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;1H\u001b[40;105H   \u001b[24;1H\u001b[40;116H4,1  \u001b[24;1H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[24;1H\u001b[40;105H \u001b[24;1H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H24,1\u001b[10CAll\u001b[24;1H\u001b[?25h\u001b[?25l install_save_as_text_into_app(app)\u001b[40;118H2\u001b[24;2H\u001b[?25h\u001b[?25l install_save_as_text_into_app(app)\u001b[40;118H3\u001b[24;3H\u001b[?25h\u001b[?25l install_save_as_text_into_app(app)\u001b[40;118H4\u001b[24;4H\u001b[?25h\u001b[?25l install_save_as_text_into_app(app)\u001b[40;118H5\u001b[24;5H\u001b[?25h\u001b[?25l install_save_as_text_into_app(app)\u001b[40;118H6\u001b[24;6H\u001b[?25h\u001b[?25l install_save_as_text_into_app(app)\u001b[40;118H7\u001b[24;7H\u001b[?25h\u001b[?25l install_save_as_text_into_app(app)\u001b[40;118H8\u001b[24;8H\u001b[?25h\u001b[?25l install_save_as_text_into_app(app)\u001b[40;118H9\u001b[24;9H\u001b[?25h\u001b[40;1H\u001b[K\u001b[24;8H\u001b[?25l\u001b[40;105H^[\u001b[24;8H\u001b[40;105H  \u001b[24;9H\u001b[40;115H24,8\u001b[10CAll\u001b[24;8H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[24;8H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"main.py\" 34L, 944B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ ls -ltr ../Downloads/\n\u001b[?2004l\ntotal 5637644\n-rw-rw-r-- 1 gross gross      28959 Jan 31  1993  pkunzip.exe\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0m\u001b[0;36mbiosr11\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mbackee28\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mpsps30\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mprintgf\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mpcm140\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mmemscan\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mmaxspeed\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mjcbench\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mirqinfo\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mguard\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mdata_rec\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msyschk40\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msrxtest\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msnoop330\u001b[0m\ndrwxrwxr-x 4 gross gross       4096 Sep  9  1997  \u001b[0;36mupgradep\u001b[0m\n-rw-rw-r-- 1 gross gross     197143 Mar  8 03:39  friendships-image.png\n-rw-rw-r-- 1 gross gross     133244 Mar 10 06:49  Cyria_and_Elevator.jpg\n-rw-rw-r-- 1 gross gross     771670 Mar 11 05:23  Unitary_Executive.webp\n-rw-rw-r-- 1 gross gross       2688 Apr 14 20:27  create_neural_trailer.py\n-rw-rw-r-- 1 gross gross    2133015 Apr 14 20:34 'ChatGPT Image Apr 14, 2025, 08_34_02 PM.png'\n-rw-rw-r-- 1 gross gross    1431755 Apr 14 20:38  oscilloscope-trace.png\n-rw-rw-r-- 1 gross gross       2673 Apr 14 21:04  create_neural_trailer_fixed.py\n-rw-rw-r-- 1 gross gross       2652 Apr 14 21:19  create_neural_trailer_fixed_final.py\n-rw-rw-r-- 1 gross gross       2693 Apr 14 21:24  create_neural_trailer_final_fixed.py\n-rw-rw-r-- 1 gross gross       2701 Apr 14 21:34  upload_video_to_youtube.py\n-rw-rw-r-- 1 gross gross        409 Apr 14 21:48  client_secret_397308046611-boq5nfbs5l65kki9cdtkfh0jgqkvoods.apps.googleusercontent.com.json\n-rw-rw-r-- 1 gross gross   10782310 Apr 14 23:04  youtubeuploader_1.24.4_Linux_amd64.tar.gz\ndrwxrwxr-x 2 gross gross       4096 Apr 14 23:04  \u001b[0;36myoutubeuploader_1.24.4_Linux_amd64\u001b[0m\n-rw-rw-r-- 1 gross gross       3485 Apr 15 04:05  create_neural_trailer_debug_filter.py\n-rw-rw-r-- 1 gross gross    1049433 Apr 15 05:11  Hallelujah.pdf\n-rw-rw-r-- 1 gross gross    1987405 Apr 15 05:11 'Thine is the glory.pdf'\n-rw-rw-r-- 1 gross gross     440106 Apr 15 05:11 'Trumpet I & Trumpet II.pdf'\n-rw-rw-r-- 1 gross gross     836616 Apr 15 05:11 'Coronation March.pdf'\n-rw-rw-r-- 1 gross gross    1472064 Apr 15 05:11 'marche triomphale.pdf'\n-rw-rw-r-- 1 gross gross     270011 Apr 15 05:11 'Nichols Resurrection anthem brass001.pdf'\n-rw-rw-r-- 1 gross gross       3078 Apr 15 05:29  analyze_video_metadata.py\n-rw-rw-r-- 1 gross gross   41117934 Apr 15 06:03  IMG_1664.MP4\n-rw-rw-r-- 1 gross gross     754923 Apr 15 06:09 'iCloud Photos.zip'\n-rw-rw-r-- 1 gross gross     615579 Apr 15 06:13 'La Vida Es Un Carnaval - Cruz (Trombone, Bb Trumpet, Tenor Sax) (Concert Cut).pdf'\n-rw-rw-r-- 1 gross gross   12617725 Apr 15 06:25  video-629_singular_display.MP4\n-rw-rw-r-- 1 gross gross   45170194 Apr 15 15:22 'iCloud Photos (1).zip'\ndrwxrwxr-x 3 gross gross       4096 Apr 15 15:23 \u001b[0;36m'iCloud Photos (1)'\u001b[0m\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:26  img-XVIXupiEqlFj796tsHf7F61H.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:40  Women_Understanding.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:49  female_ginsberg.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:57  Frost_Woman.png\n-rw-rw-r-- 1 gross gross     369939 Apr 15 23:19 'GPT-4.1 Prompting Guide _ OpenAI Cookbook.pdf'\n-rw-rw-r-- 1 gross gross  109845104 Apr 15 23:34  midori-11.5.2.linux-x86_64.tar.bz2\n-rw-rw-r-- 1 gross gross   91977104 Apr 15 23:34  midori_11.5.2-1_amd64.deb\n-rw-rw-r-- 1 gross gross     197143 Apr 16 00:09  Woman_to_Date.png\n-rw-rw-r-- 1 gross gross    2132052 Apr 16 09:02 'ChatGPT Image Apr 16, 2025, 09_02_05 AM.png'\n-rw-rw-r-- 1 gross gross    2132052 Apr 16 09:03  Coal_Minors_Tea_Party.png\n-rw-rw-r-- 1 gross gross    3312936 Apr 16 09:13 'ChatGPT Image Apr 16, 2025, 09_13_18 AM.png'\n-rw-rw-r-- 1 gross gross    3312936 Apr 16 09:13  Chinese_Cell_Phone_Tea_Party.png\n-rw-rw-r-- 1 gross gross     117910 Apr 16 10:33 'Gmail - Greetings.pdf'\n-rw-rw-r-- 1 gross gross    1039888 Apr 16 10:38 'English - Cordoba Contract.pdf'\n-rw-rw-r-- 1 gross gross  254366302 Apr 16 22:24  Blues_Bookends.mp4\n-rw-rw-r-- 1 gross gross       1194 Apr 17 07:00  clean_video_metadata.py\n-rw-rw-r-- 1 gross gross       1051 Apr 17 10:18  chyron_phrases.txt\n-rw-rw-r-- 1 gross gross    8091581 Apr 17 10:47  chyron_layer_preview.mp4\n-rw-rw-r-- 1 gross gross    1378660 Apr 17 12:49  KolAmi_CC_2nd_Rehearsal_DSC_0126.jpg\n-rw-rw-r-- 1 gross gross       1025 Apr 17 14:10  PAVE_README.txt\n-rw-rw-r-- 1 gross gross       2415 Apr 17 15:01  pave_generate_base_video.py\n-rw-rw-r-- 1 gross gross     943643 Apr 17 15:15  countdown.mp4\n-rw-rw-r-- 1 gross gross       2500 Apr 17 22:00 'analyze_video_metadata (1).py'\n-rw-rw-r-- 1 gross gross       3485 Apr 18 02:57  create_neural_trailer_debug_filter_patched.py\n-rw-rw-r-- 1 gross gross       3020 Apr 18 03:35  analyze_video_metadata_enhanced.py\n-rw-rw-r-- 1 gross gross       3160 Apr 18 03:38  analyze_video_metadata_enhanced_fixed.py\n-rw-rw-r-- 1 gross gross       3168 Apr 18 03:42  analyze_video_metadata_fixed_path.py\n-rw-rw-r-- 1 gross gross        895 Apr 18 10:42  discover_videos.zip\n-rw-rw-r-- 1 gross gross       2400 Apr 18 15:44  generate_chyron_overlay_scroll.py\n-rw-rw-r-- 1 gross gross    1049433 Apr 18 21:11 'Hallelujah (1).pdf'\n-rw-rw-r-- 1 gross gross  451305311 Apr 19 05:14  buffered.mp4\n-rw-rw-r-- 1 gross gross         91 Apr 19 05:26  env.example\n-rw-rw-r-- 1 gross gross       2084 Apr 19 05:26  activate\n-rw-rw-r-- 1 gross gross    8019136 Apr 19 06:15  python3.12\n-rw-rw-r-- 1 gross gross      32748 Apr 19 06:18  bash_history\n-rw-rw-r-- 1 gross gross     664153 Apr 19 12:21  original-7E5F34EF-C836-4B26-B84E-5E309FD21808.jpeg\n-rw-rw-r-- 1 gross gross       3713 Apr 19 19:27  video_search_update.zip\ndrwxrwxr-x 4 gross gross       4096 Apr 19 19:31  \u001b[0;36mvideo_search_update\u001b[0m\ndrwxrwxr-x 3 gross gross       4096 Apr 19 19:32  \u001b[0;36mdata\u001b[0m\n-rw-rw-r-- 1 gross gross       1705 Apr 19 19:56  updated_templates.zip\n-rw-rw-r-- 1 gross gross      27642 Apr 21 08:56  invoice-990659.pdf\n-rw-rw-r-- 1 gross gross       2531 Apr 21 10:41  mp3_auto_renamer_flat_output.py\n-rw-rw-r-- 1 gross gross      31431 Apr 21 12:52  Captions.html\ndrwx------ 2 gross gross       4096 Apr 21 12:52  \u001b[0;36mCaptions_files\u001b[0m\n-rw-rw-r-- 1 gross gross      10075 Apr 21 20:04  profile-6.ovpn\n-rw-rw-r-- 1 gross gross    3421182 Apr 21 22:33  Harvard-Funding-Freeze-Order-Complaint.pdf\n-rw-rw-r-- 1 gross gross      32516 Apr 22 06:17  Things_that_Make_you_a_Better_Musician.jpg\n-rw-rw-r-- 1 gross gross       2653 Apr 22 11:52  backup_to_dvds.sh\n-rw-rw-r-- 1 gross gross       2653 Apr 22 11:57  backup_to_dvds_canvas.sh\n-rw-rw-r-- 1 gross gross       2653 Apr 22 12:10  backup_to_dvds_readloop.sh\n-rw-rw-r-- 1 gross gross       5914 Apr 22 13:02  Medley-QR.png\n-rw-rw-r-- 1 gross gross    3157195 Apr 22 19:37 \"20250422_1932_Liberty's Modern Contrast_simple_compose_01jsg7s4jffq6bx4fsqgy5appj.png\"\n-rw-rw-r-- 1 gross gross      25248 Apr 22 19:53  Glen_w-Trumpet_Dark.jpg\n-rw-rw-r-- 1 gross gross      33944 Apr 23 02:50  frame_0287.jpg\n-rw-rw-r-- 1 gross gross       3925 Apr 23 03:45  ocr_preview_web_fixed.py\n-rw-rw-r-- 1 gross gross       4037 Apr 23 03:52  ocr_preview_web_range_enabled.py\n-rw-rw-r-- 1 gross gross       3547 Apr 23 04:13  ocr_preview_web_final.py\n-rw-rw-r-- 1 gross gross       4130 Apr 23 06:19  ocr_preview_web_js_seek.py\n-rw-rw-r-- 1 gross gross       2172 Apr 23 06:27  results.html\n-rw-rw-r-- 1 gross gross       2716 Apr 23 07:29  perform_ocr_google_to_main_db.py\ndrwxrwxr-x 2 gross gross       4096 Apr 24 07:15 \u001b[0;36m'iCloud Photos'\u001b[0m\n-rw-rw-r-- 1 gross gross    2160938 Apr 25 04:17 'ChatGPT Image Apr 25, 2025, 04_17_33 AM.png'\n-rw-rw-r-- 1 gross gross    2160938 Apr 25 04:17 'ChatGPT Image Apr 25, 2025, 04_17_42 AM.png'\n-rw-rw-r-- 1 gross gross    2043170 Apr 25 06:46  Fix_Stereo_Video_AR.png\n-rw-rw-r-- 1 gross gross    1878751 Apr 25 06:56  OpenAI-Crystal_Ball.png\n-rw-rw-r-- 1 gross gross    1878751 Apr 25 06:56 'ChatGPT Image Apr 25, 2025, 06_56_36 AM.png'\n-rw-rw-r-- 1 gross gross    2489875 Apr 25 07:03 'ChatGPT Image Apr 25, 2025, 07_03_02 AM.png'\n-rw-rw-r-- 1 gross gross    2489875 Apr 25 07:03  Burning_City_Crystal_Ball.png\n-rw-rw-r-- 1 gross gross       4785 Apr 25 12:10  profile-6-beautified.ovpn\n-rw-rw-r-- 1 gross gross       1112 Apr 26 02:09  profile-6-tcp-template.ovpn\n-rw-rw-r-- 1 gross gross       9635 Apr 26 04:32  profile-6-stunnel.ovpn\n-rw-rw-r-- 1 gross gross  176225153 Apr 26 23:42  Sullivans_Set3_042625.mp4\n-rw-rw-r-- 1 gross gross  247022345 Apr 26 23:53  Sullivans_Set1_042625.mp4\n-rw-rw-r-- 1 gross gross  134137999 Apr 26 23:57  Sullivans_Set2_042625.mp4\n-rw-rw-r-- 1 gross gross         42 Apr 27 06:09  listen.m3u\n-rw-rw-r-- 1 gross gross       3806 Apr 28 05:19  burn_dir_to_dvds_progress_fix2.sh\n-rw-rw-r-- 1 gross gross       3437 Apr 28 05:29  burndir_wait.sh\n-rw-rw-r-- 1 gross gross    4090232 Apr 28 07:15 'ChatGPT Image Apr 28, 2025, 07_15_02 AM.png'\n-rw-rw-r-- 1 gross gross        489 Apr 28 07:25 'ChatGPT Image Apr 28, 2025, 07_25_27 AM.png'\n-rw-rw-r-- 1 gross gross    4179191 Apr 28 07:28  Crypto_challenge.png\n-rw-rw-r-- 1 gross gross        489 Apr 28 09:33 'ChatGPT Image Apr 28, 2025, 09_33_58 AM.png'\n-rw-rw-r-- 1 gross gross    4156013 Apr 28 09:38  crypto_challenge_etching.zip\n-rw-rw-r-- 1 gross gross    4156013 Apr 28 09:39 'crypto_challenge_etching (1).zip'\n-rw-rw-r-- 1 gross gross    4608757 Apr 28 09:42  crypto_challenge_etching_v2.zip\n-rw-rw-r-- 1 gross gross    4631476 Apr 28 09:45  Crypto_Challenge.png\n-rw-rw-r-- 1 gross gross      71973 Apr 28 16:16  Sharla.jpg\n-rw-r--r-- 1 gross gross    4179191 Apr 28 16:37  crypto_challenge_etching.png\n-rw-r--r-- 1 gross gross    4179191 Apr 28 16:37 'crypto_challenge_etching (2).png'\n-rw-r--r-- 1 gross gross    4631476 Apr 28 16:42  crypto_challenge_etching_v2.png\n-rw-rw-r-- 1 gross gross      29413 Apr 29 03:47  meta_llama4_report.pdf\n-rw-rw-r-- 1 gross gross       5149 Apr 29 03:50  meta_llama4_report.rtf\n-rw-rw-r-- 1 gross gross       5903 Apr 29 03:52  meta_llama4_report.html\n-rw-rw-r-- 1 gross gross    3213429 Apr 29 04:21 'ChatGPT Image Apr 29, 2025, 04_21_46 AM.png'\n-rw-rw-r-- 1 gross gross    3213429 Apr 29 04:22  Cosell_and_the_AI_Race.png\n-rw-rw-r-- 1 gross gross      88757 Apr 30 05:20  benefit-verification-letter.pdf\n-rw-rw-r-- 1 gross gross      88731 Apr 30 05:20 'benefit-verification-letter (1).pdf'\n-rw-rw-r-- 1 gross gross      39300 Apr 30 05:49 '2024Initial 1099.pdf'\n-rw-rw-r-- 1 gross gross      54314 Apr 30 20:10  Maria_1.jpg\n-rw-rw-r-- 1 gross gross      37406 Apr 30 20:10  Maria_2.jpg\n-rw-rw-r-- 1 gross gross     733838 Apr 30 20:10  Maria_3.jpg\n-rw-rw-r-- 1 gross gross  286096308 May  1 00:46  Meta_Developers_043125.mp4\n-rw-rw-r-- 1 gross gross    1579176 May  1 03:00  Glens_Project_Schedule.png\n-rw-rw-r-- 1 gross gross    3110389 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_01 AM.png'\n-rw-rw-r-- 1 gross gross    1640180 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_09 AM.png'\n-rw-rw-r-- 1 gross gross    4354181 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_14 AM.png'\n-rw-rw-r-- 1 gross gross        489 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_20 AM.png'\n-rw-rw-r-- 1 gross gross    1903945 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_11 AM.png'\n-rw-rw-r-- 1 gross gross    1973790 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_16 AM.png'\n-rw-rw-r-- 1 gross gross    2019284 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_20 AM.png'\n-rw-rw-r-- 1 gross gross    2832192 May  2 03:45 'ChatGPT Image May 2, 2025, 03_45_12 AM.png'\n-rw-rw-r-- 1 gross gross    2499315 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_39 AM.png'\n-rw-rw-r-- 1 gross gross    2832192 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_45 AM.png'\n-rw-rw-r-- 1 gross gross    1903945 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_50 AM.png'\n-rw-rw-r-- 1 gross gross    1973790 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_55 AM.png'\n-rw-rw-r-- 1 gross gross    2387340 May  2 03:47 'ChatGPT Image May 2, 2025, 03_47_40 AM.png'\n-rw-rw-r-- 1 gross gross   18332666 May  2 04:13  liberation_equation_article.pdf\n-rw-rw-r-- 1 gross gross   18332355 May  2 04:15  liberation_equation_magazine.pdf\n-rw-rw-r-- 1 gross gross      11536 May  2 04:30  liberation_equation_article_expanded.pdf\n-rw-rw-r-- 1 gross gross    2707088 May  2 04:40 'ChatGPT Image May 2, 2025, 04_40_13 AM.png'\n-rw-rw-r-- 1 gross gross    2802872 May  2 04:43  liberation_equation_html.zip\n-rw-rw-r-- 1 gross gross      56932 May  2 05:04  liberation_equation_lowres.pdf\n-rw-rw-r-- 1 gross gross   54853581 May  4 13:24  Tanya_w-Gehrig_and_Malik.mp4\n-rw-rw-r-- 1 gross gross       1114 May  4 20:19  itinerary_flights.ics\n-rw-rw-r-- 1 gross gross       1114 May  4 20:22 'itinerary_flights (1).ics'\ndrwx------ 2 gross gross       4096 May  5 04:02  \u001b[0;36mthunderbird.tmp\u001b[0m\n-rw-rw-r-- 1 gross gross     168540 May  5 15:04 'Vehicle Registration.pdf'\n-rw-rw-r-- 1 gross gross      98871 May  5 15:04 'MVD Payment Receipt 70801720.pdf'\n-rw-rw-r-- 1 gross gross      98871 May  5 15:10 'MVD Payment Receipt 70801720 (1).pdf'\n-rw-rw-r-- 1 gross gross  799920128 May  5 19:57  Worlds-Desktop-Editor-v212.0.0.9.643.msi\n-rw-rw-r-- 1 gross gross   14955128 May  5 20:12  Music-Therapy_1of6.m4a\n-rw-rw-r-- 1 gross gross   15032860 May  5 20:13  Music-Therapy_3of6.m4a\n-rw-rw-r-- 1 gross gross   15079558 May  5 20:13  Music-Therapy_4of6.m4a\n-rw-rw-r-- 1 gross gross   15075020 May  5 20:13  Music-Therapy_5of6.m4a\n-rw-rw-r-- 1 gross gross   14999098 May  5 20:28  Music-Therapy_6of6.m4a\n-rw-rw-r-- 1 gross gross   95222702 May  5 21:21  Back_in_Tucson_Blues_1080p.mp4\n-rw-rw-r-- 1 gross gross    1535071 May  6 04:19 'Till Tomorrow (AMB Funeral).pdf'\n-rw-rw-r-- 1 gross gross     114466 May  6 04:19  maxresdefault.jpg\n-rw-rw-r-- 1 gross gross    1535071 May  6 04:24 'Till Tomorrow (AMB Funeral) (1).pdf'\n-rw-rw-r-- 1 gross gross      47428 May  6 04:35  TIL_TOMORROW_from_The_Musical_FIORELLO.pdf\n-rw-rw-r-- 1 gross gross      66349 May  6 12:58  til-tomorrow-p444272-glendon144@gmail.com-6240154517641.pdf\n-rw-rw-r-- 1 gross gross      66349 May  7 04:19  till-tomorrow.pdf\n-rw-rw-r-- 1 gross gross  116491424 May 10 05:19  google-chrome-stable_current_amd64.deb\n-rw-rw-r-- 1 gross gross     273161 May 10 13:42  AI_Bike_Cyria.jpg\n-rw-rw-r-- 1 gross gross     563843 May 10 13:46  691e19e9-7706-4807-b99d-3a4c8b6267ec.jpg\n-rw-rw-r-- 1 gross gross    2666850 May 10 17:40 'ChatGPT Image May 10, 2025, 05_40_46 PM.png'\n-rw-rw-r-- 1 gross gross    2666850 May 10 17:40  GGF_Mothers_Day.png\n-rw-rw-r-- 1 gross gross      54257 May 10 19:11  Simone_Biles_and_Tiger.jpg\n-rw-rw-r-- 1 gross gross       2987 May 13 10:47  tsrc_edited_plan.rtf\n-rw-rw-r-- 1 gross gross       1498 May 13 10:47  tsrc_exec_summary.rtf\n-rw-rw-r-- 1 gross gross       2741 May 13 10:50  tsrc_edited_plan.pdf\n-rw-rw-r-- 1 gross gross       1970 May 13 10:51  tsrc_exec_summary.pdf\n-rw-rw-r-- 1 gross gross       2702 May 13 10:55  tsrc_edited_plan_clean.pdf\n-rw-rw-r-- 1 gross gross       1948 May 13 10:55  tsrc_exec_summary_clean.pdf\n-rw-rw-r-- 1 gross gross       4359 May 13 11:03  tsrc_edited_plan_fullsentences.pdf\n-rw-rw-r-- 1 gross gross    1911781 May 13 14:50 'ChatGPT Image May 13, 2025, 02_50_06 PM.png'\n-rw-rw-r-- 1 gross gross    2184216 May 13 14:51  tsrc_comprehensive_report.pdf\n-rw-rw-r-- 1 gross gross       2347 May 14 02:38  Pocket_Book_of_Letting_Go_Clean.pdf\n-rw-rw-r-- 1 gross gross    2801632 May 14 02:47 'ChatGPT Image May 14, 2025, 02_47_53 AM.png'\n-rw-rw-r-- 1 gross gross    2730095 May 14 02:50  Pocket_Book_of_Letting_Go.pdf\n-rw-rw-r-- 1 gross gross       2340 May 14 02:56  Pocket_Book_of_Letting_Go_Text_Only.pdf\n-rw-rw-r-- 1 gross gross    3099960 May 14 03:13 'ChatGPT Image May 14, 2025, 03_13_58 AM.png'\n-rw-rw-r-- 1 gross gross    3099960 May 14 03:14  Glen_at_the_River.png\n-rw-rw-r-- 1 gross gross    1829087 May 14 03:29 'ChatGPT Image May 14, 2025, 03_29_18 AM.png'\n-rw-rw-r-- 1 gross gross     430315 May 14 03:30  trumpeter_variant_1.png\n-rw-rw-r-- 1 gross gross     437870 May 14 03:30  trumpeter_variant_2.png\n-rw-rw-r-- 1 gross gross     442031 May 14 03:30  trumpeter_variant_3.png\n-rw-rw-r-- 1 gross gross     437981 May 14 03:30  trumpeter_variant_4.png\n-rw-rw-r-- 1 gross gross     622686 May 14 03:33  trumpeter_corrected_4.png\n-rw-rw-r-- 1 gross gross     783996 May 14 03:33  trumpeter_corrected_3.png\n-rw-rw-r-- 1 gross gross     768151 May 14 03:33  trumpeter_corrected_2.png\n-rw-rw-r-- 1 gross gross     600714 May 14 03:33  trumpeter_corrected_1.png\n-rw-rw-r-- 1 gross gross    2776215 May 14 03:40 'ChatGPT Image May 14, 2025, 03_40_09 AM.png'\n-rw-rw-r-- 1 gross gross    2770053 May 14 03:44 'ChatGPT Image May 14, 2025, 03_44_21 AM.png'\n-rw-rw-r-- 1 gross gross    2656797 May 14 03:48 'ChatGPT Image May 14, 2025, 03_48_47 AM.png'\n-rw-rw-r-- 1 gross gross        489 May 14 10:36 'ChatGPT Image May 14, 2025, 10_36_51 AM.png'\n-rw-rw-r-- 1 gross gross    2100396 Jun  9 10:06  img-dt8tNJ36qjhRcUInHGZMl53q.png\n-rw-rw-r-- 1 gross gross    2107979 Jun 11 22:22  Loves_Snare.png\n-rw-rw-r-- 1 gross gross    1711762 Jun 12 08:06  AI-Romance.png\n-rw-rw-r-- 1 gross gross    2790443 Jun 13 06:50  Lonely_without_Cyria.png\n-rw-rw-r-- 1 gross gross     427920 Jun 13 06:53  Lonely_without_Cyria.jpg\n-rw-rw-r-- 1 gross gross     237459 Aug  1 03:54  Beautifu_Argentine.jpg\n-rw-rw-r-- 1 gross gross        843 Aug  4 05:35  AppointmentReminder.ics\n-rw-rw-r-- 1 gross gross       1569 Aug  6 07:01  hyperscope_python_port.py\n-rw-rw-r-- 1 gross gross 2514124800 Aug  6 10:10  ubuntu-18.04.6-desktop-amd64.iso\n-rw-rw-r-- 1 gross gross     282808 Aug  6 10:21  IMG_0024.JPG\n-rw-rw-r-- 1 gross gross       1569 Aug  6 16:11 'hyperscope_python_port(1).py'\n-rw-rw-r-- 1 gross gross       1569 Aug  7 12:36 'hyperscope_python_port(2).py'\n-rw-rw-r-- 1 gross gross      20370 Aug  7 14:40  gui_tkinter.py\n-rw-rw-r-- 1 gross gross       1569 Aug  7 20:27  hyperscope.py\n-rw-rw-r-- 1 gross gross       6242 Aug  7 20:32  hyper_scope_tkinter_pane_outline_viewer.py\n-rw-rw-r-- 1 gross gross       6242 Aug  7 20:32 'hyper_scope_tkinter_pane_outline_viewer(1).py'\n-rw-rw-r-- 1 gross gross      19874 Aug  7 20:46  tree_view.py\n-rw-rw-r-- 1 gross gross      24415 Aug  7 21:01  gui_tkinter.patched.py\n-rw-rw-r-- 1 gross gross      30137 Aug  7 21:09  gui_tkinter.opml_autorender.py\n-rw-rw-r-- 1 gross gross      16470 Aug  7 21:24  gui_tkinter.opml_autorender_fix.py\n-rw-rw-r-- 1 gross gross      29145 Aug  7 21:29  gui_tkinter.fixed.py\n-rw-rw-r-- 1 gross gross      30569 Aug  7 21:30  gui_tkinter.fixed2.py\n-rw-rw-r-- 1 gross gross       4962 Aug  8 02:26  Beyond_Tools_Human_AI_Symbiosis_FULL.html\n-rw-rw-r-- 1 gross gross       5495 Aug  8 02:26  Beyond_Tools_Human_AI_Symbiosis_FULL.pdf\n-rw-rw-r-- 1 gross gross      10793 Aug  8 02:27  Beyond_Tools_Human_AI_Symbiosis_FULL.zip\ndrwxrwxr-x 2 gross gross       4096 Aug  8 02:27  \u001b[0;36mBeyond_Tools_Human_AI_Symbiosis_FULL\u001b[0m\n-rw-rw-r-- 1 gross gross      10793 Aug  8 02:27 'Beyond_Tools_Human_AI_Symbiosis_FULL(1).zip'\n-rw-rw-r-- 1 gross gross     109135 Aug  8 02:50 'Bootstrapping Brilliance Toolkit - Putting Vision to Practice - Doug Engelbart Institute.html'\ndrwxr-xr-x 3 gross gross       4096 Aug  8 02:50 \u001b[0;36m'Bootstrapping Brilliance Toolkit - Putting Vision to Practice - Doug Engelbart Institute_files'\u001b[0m\n-rw-rw-r-- 1 gross gross     103866 Aug  8 02:55  Glen_Headshot.jpg\n-rw-rw-r-- 1 gross gross       5674 Aug  8 03:12  human_ai_symbiosis.pdf\n-rw-rw-r-- 1 gross gross     141553 Aug  8 03:17  Engelbart_Firsts.jpg\n-rw-rw-r-- 1 gross gross      11130 Aug  8 03:19  human_ai_symbiosis_package.zip\n-rw-rw-r-- 1 gross gross       5192 Aug  8 03:19  human_ai_symbiosis.html\n-rw-rw-r-- 1 gross gross        472 Aug  8 04:43  Hypertext_Standards\n-rw-rw-r-- 1 gross gross     270329 Aug  8 04:59 'Douglas Engelbart and the Mother of all Demos _ Hidden Heroes.pdf'\n-rw-rw-r-- 1 gross gross       9301 Aug  9 08:33  renderer.py\n-rw-rw-r-- 1 gross gross        148 Aug  9 08:33  demo.html\n-rw-rw-r-- 1 gross gross        843 Aug  9 08:33  demo_from_html.opml\n-rw-rw-r-- 1 gross gross        409 Aug  9 08:33  demo_preview.txt\n-rw-rw-r-- 1 gross gross        843 Aug  9 08:34 'demo_from_html (1).opml'\n-rw-rw-r-- 1 gross gross    5900416 Aug  9 09:58  firefox20.exe\n-rw-rw-r-- 1 gross gross      15215 Aug  9 10:24  renderer-update.py\n-rw-rw-r-- 1 gross gross       7687 Aug  9 11:08  hypertext_parser.py\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12  hypertext_parser-latest.py\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12 'hypertext_parser(1).py'\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12 'hypertext_parser(2).py'\n-rw-rw-r-- 1 gross gross      32254 Aug  9 12:31  gui_tkinter_patched.py\n-rw-rw-r-- 1 gross gross      32094 Aug  9 12:42  gui_tkinter_flask_fixed.py\n-rw-rw-r-- 1 gross gross      32363 Aug  9 13:18  gui_tkinter_cleaned.py\n-rw-rw-r-- 1 gross gross      40414 Aug  9 14:37  gui_tkinter_newest.py\n-rw-rw-r-- 1 gross gross      33834 Aug  9 14:54  gui_tkinter_patched2.py\n-rw-rw-r-- 1 gross gross      34256 Aug  9 15:41  gui_tkinter_clean.py\n-rw-rw-r-- 1 gross gross       8846 Aug  9 15:41  funkit_gui_tk_clean.zip\n-rw-rw-r-- 1 gross gross        157 Aug  9 19:25  demokit_gui.zip\n-rw-rw-r-- 1 gross gross       8892 Aug  9 22:11  gui_tkinter_patched.zip\n-rw-rw-r-- 1 gross gross      34500 Aug  9 22:11 'gui_tkinter_patched (1).py'\n-rw-rw-r-- 1 gross gross       8998 Aug  9 22:18  gui_tkinter_cleaned.zip\n-rw-rw-r-- 1 gross gross      34972 Aug  9 22:18 'gui_tkinter_cleaned (1).py'\n-rw-rw-r-- 1 gross gross      34451 Aug  9 23:19  gui_tkinter_renderfix.py\n-rw-rw-r-- 1 gross gross       8946 Aug  9 23:19  gui_tkinter_renderfix.zip\n-rw-rw-r-- 1 gross gross    1879760 Aug 10 14:26 'Raspberry Pi and Display Technical Blueprint.png'\n-rw-rw-r-- 1 gross gross    1879760 Aug 10 14:29 'Raspberry Pi and Display Technical Blueprint(1).png'\n-rw-rw-r-- 1 gross gross      35918 Aug 10 14:30  rpi-with-display.webp\n-rw-rw-r-- 1 gross gross    1040094 Aug 10 14:36 'Raspberry Pi with Retro Smiling Display.png'\n-rw-rw-r-- 1 gross gross    2817994 Aug 10 14:46  raspberry-pi-poker-hand.png\n-rw-rw-r-- 1 gross gross        489 Aug 10 15:15 'ChatGPT Image Aug 10, 2025, 03_15_02 PM.png'\n-rw-rw-r-- 1 gross gross        489 Aug 10 15:15 'Smiles and Pixels at the Caf\u00e9.png'\n-rw-rw-r-- 1 gross gross      65532 Aug 10 16:07  Father_Wound.jpg\n-rw-rw-r-- 1 gross gross       3084 Aug 10 17:07  father_wound_blues_lead_sheet.pdf\n-rw-rw-r-- 1 gross gross       2338 Aug 10 18:31  father_wound_blues_melody_lead_sheet_v2.pdf\n-rw-rw-r-- 1 gross gross    2612338 Aug 11 07:30  Asian_Pikit_User.png\n-rw-rw-r-- 1 gross gross      18251 Aug 13 13:01  aopmlengine.py\n-rw-rw-r-- 1 gross gross      16566 Aug 13 13:12  gui_tkinter_aopml.py\n-rw-rw-r-- 1 gross gross      17400 Aug 13 13:30  gui_tkinter_Aupdate.py\n-rw-rw-r-- 1 gross gross      26536 Aug 13 13:42  gui_tinter_merged.py\n-rw-rw-r-- 1 gross gross      28025 Aug 13 14:37 'gui_tkinter (1).py'\n-rw-rw-r-- 1 gross gross       7100 Aug 13 14:37  gui_tkinter.zip\n-rw-rw-r-- 1 gross gross       7100 Aug 13 14:39  gui_tkinter-new.zip\n-rw-rw-r-- 1 gross gross      28025 Aug 13 14:41  gui_tkinter_golden.py\n-rw-rw-r-- 1 gross gross       7227 Aug 13 14:44  gui_tkinter_081325.zip\n-rw-rw-r-- 1 gross gross      30569 Aug 13 14:55  gui_tkinter_rollback.py\n-rw-rw-r-- 1 gross gross      33214 Aug 13 14:55  gui_tkinter_phase1.py\n-rw-rw-r-- 1 gross gross      16142 Aug 13 14:55  gui_tkinter_rollback_and_phase1.zip\n-rw-rw-r-- 1 gross gross       9049 Aug 13 15:11  gui_tkinter_phase2_1_batch_fallback.zip\n-rw-rw-r-- 1 gross gross      36677 Aug 13 15:11  gui_tkinter_phase2_1_batch_fallback.py\n-rw-rw-r-- 1 gross gross      38217 Aug 13 15:18  gui_tkinter_phase2_3_prefs.py\n-rw-rw-r-- 1 gross gross      38255 Aug 13 15:25  gui_tkinter_phase2_3_1_prefs_newline_fix.py\n-rw-rw-r-- 1 gross gross       9324 Aug 13 15:25  gui_tkinter_phase2_3_1_prefs_newline_fix.zip\n-rw-rw-r-- 1 gross gross      41430 Aug 13 15:35  gui_tkinter_phase2_3_2_batch_validate_repair.py\n-rw-rw-r-- 1 gross gross       9887 Aug 13 15:35  gui_tkinter_phase2_3_2_batch_validate_repair.zip\n-rw-rw-r-- 1 gross gross      45182 Aug 13 15:44  gui_tkinter_phase2_4_url_ingest.py\n-rw-rw-r-- 1 gross gross      10780 Aug 13 15:44  gui_tkinter_phase2_4_url_ingest.zip\n-rw-rw-r-- 1 gross gross      52372 Aug 13 15:55  gui_tkinter_phase2_5_url_resilient.py\n-rw-rw-r-- 1 gross gross      59723 Aug 13 16:02  gui_tkinter_phase2_5_1_url_async_dbmain.py\n-rw-rw-r-- 1 gross gross      12641 Aug 13 16:02  gui_tkinter_phase2_5_1_url_async_dbmain.zip\n-rw-rw-r-- 1 gross gross      59771 Aug 13 16:11  gui_tkinter_phase2_5_2_url_async_dbmain_timefix.py\n-rw-rw-r-- 1 gross gross      12651 Aug 13 16:11  gui_tkinter_phase2_5_2_url_async_dbmain_timefix.zip\n-rw-rw-r-- 1 gross gross      60560 Aug 13 16:15  gui_tkinter_phase2_5_3_title_fix.py\n-rw-rw-r-- 1 gross gross      12918 Aug 13 16:16  gui_tkinter_phase2_5_3_title_fix.zip\n-rw-rw-r-- 1 gross gross      68769 Aug 13 16:18  gui_tkinter_phase2_5_4_url_modes_cancel.py\n-rw-rw-r-- 1 gross gross      13579 Aug 13 16:18  gui_tkinter_phase2_5_4_url_modes_cancel.zip\n-rw-rw-r-- 1 gross gross      68420 Aug 13 16:22  gui_tkinter_phase2_5_4_url_modes_cancel_fixed.py\n-rw-rw-r-- 1 gross gross      13463 Aug 13 16:22  gui_tkinter_phase2_5_4_url_modes_cancel_fixed.zip\n-rw-rw-r-- 1 gross gross       1826 Aug 13 19:26  funkit_lean.spec\n-rw-rw-r-- 1 gross gross       4320 Aug 13 19:38  build_all_variants.sh\n-rw-rw-r-- 1 gross gross       7784 Aug 13 20:02  save_as_text_plugin.py\n-rw-rw-r-- 1 gross gross       9925 Aug 13 20:20 'save_as_text_plugin (1).py'\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$  \bls -ltr ../Downloads/\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[11Pvi main.py\b\b\b\b\b\b\b\b\b\bls -ltr ../Downloads/\n\u001b[?2004l\ntotal 5637644\n-rw-rw-r-- 1 gross gross      28959 Jan 31  1993  pkunzip.exe\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0m\u001b[0;36mbiosr11\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mbackee28\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mpsps30\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mprintgf\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mpcm140\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mmemscan\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mmaxspeed\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mjcbench\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mirqinfo\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mguard\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mdata_rec\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msyschk40\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msrxtest\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msnoop330\u001b[0m\ndrwxrwxr-x 4 gross gross       4096 Sep  9  1997  \u001b[0;36mupgradep\u001b[0m\n-rw-rw-r-- 1 gross gross     197143 Mar  8 03:39  friendships-image.png\n-rw-rw-r-- 1 gross gross     133244 Mar 10 06:49  Cyria_and_Elevator.jpg\n-rw-rw-r-- 1 gross gross     771670 Mar 11 05:23  Unitary_Executive.webp\n-rw-rw-r-- 1 gross gross       2688 Apr 14 20:27  create_neural_trailer.py\n-rw-rw-r-- 1 gross gross    2133015 Apr 14 20:34 'ChatGPT Image Apr 14, 2025, 08_34_02 PM.png'\n-rw-rw-r-- 1 gross gross    1431755 Apr 14 20:38  oscilloscope-trace.png\n-rw-rw-r-- 1 gross gross       2673 Apr 14 21:04  create_neural_trailer_fixed.py\n-rw-rw-r-- 1 gross gross       2652 Apr 14 21:19  create_neural_trailer_fixed_final.py\n-rw-rw-r-- 1 gross gross       2693 Apr 14 21:24  create_neural_trailer_final_fixed.py\n-rw-rw-r-- 1 gross gross       2701 Apr 14 21:34  upload_video_to_youtube.py\n-rw-rw-r-- 1 gross gross        409 Apr 14 21:48  client_secret_397308046611-boq5nfbs5l65kki9cdtkfh0jgqkvoods.apps.googleusercontent.com.json\n-rw-rw-r-- 1 gross gross   10782310 Apr 14 23:04  youtubeuploader_1.24.4_Linux_amd64.tar.gz\ndrwxrwxr-x 2 gross gross       4096 Apr 14 23:04  \u001b[0;36myoutubeuploader_1.24.4_Linux_amd64\u001b[0m\n-rw-rw-r-- 1 gross gross       3485 Apr 15 04:05  create_neural_trailer_debug_filter.py\n-rw-rw-r-- 1 gross gross    1049433 Apr 15 05:11  Hallelujah.pdf\n-rw-rw-r-- 1 gross gross    1987405 Apr 15 05:11 'Thine is the glory.pdf'\n-rw-rw-r-- 1 gross gross     440106 Apr 15 05:11 'Trumpet I & Trumpet II.pdf'\n-rw-rw-r-- 1 gross gross     836616 Apr 15 05:11 'Coronation March.pdf'\n-rw-rw-r-- 1 gross gross    1472064 Apr 15 05:11 'marche triomphale.pdf'\n-rw-rw-r-- 1 gross gross     270011 Apr 15 05:11 'Nichols Resurrection anthem brass001.pdf'\n-rw-rw-r-- 1 gross gross       3078 Apr 15 05:29  analyze_video_metadata.py\n-rw-rw-r-- 1 gross gross   41117934 Apr 15 06:03  IMG_1664.MP4\n-rw-rw-r-- 1 gross gross     754923 Apr 15 06:09 'iCloud Photos.zip'\n-rw-rw-r-- 1 gross gross     615579 Apr 15 06:13 'La Vida Es Un Carnaval - Cruz (Trombone, Bb Trumpet, Tenor Sax) (Concert Cut).pdf'\n-rw-rw-r-- 1 gross gross   12617725 Apr 15 06:25  video-629_singular_display.MP4\n-rw-rw-r-- 1 gross gross   45170194 Apr 15 15:22 'iCloud Photos (1).zip'\ndrwxrwxr-x 3 gross gross       4096 Apr 15 15:23 \u001b[0;36m'iCloud Photos (1)'\u001b[0m\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:26  img-XVIXupiEqlFj796tsHf7F61H.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:40  Women_Understanding.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:49  female_ginsberg.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:57  Frost_Woman.png\n-rw-rw-r-- 1 gross gross     369939 Apr 15 23:19 'GPT-4.1 Prompting Guide _ OpenAI Cookbook.pdf'\n-rw-rw-r-- 1 gross gross  109845104 Apr 15 23:34  midori-11.5.2.linux-x86_64.tar.bz2\n-rw-rw-r-- 1 gross gross   91977104 Apr 15 23:34  midori_11.5.2-1_amd64.deb\n-rw-rw-r-- 1 gross gross     197143 Apr 16 00:09  Woman_to_Date.png\n-rw-rw-r-- 1 gross gross    2132052 Apr 16 09:02 'ChatGPT Image Apr 16, 2025, 09_02_05 AM.png'\n-rw-rw-r-- 1 gross gross    2132052 Apr 16 09:03  Coal_Minors_Tea_Party.png\n-rw-rw-r-- 1 gross gross    3312936 Apr 16 09:13 'ChatGPT Image Apr 16, 2025, 09_13_18 AM.png'\n-rw-rw-r-- 1 gross gross    3312936 Apr 16 09:13  Chinese_Cell_Phone_Tea_Party.png\n-rw-rw-r-- 1 gross gross     117910 Apr 16 10:33 'Gmail - Greetings.pdf'\n-rw-rw-r-- 1 gross gross    1039888 Apr 16 10:38 'English - Cordoba Contract.pdf'\n-rw-rw-r-- 1 gross gross  254366302 Apr 16 22:24  Blues_Bookends.mp4\n-rw-rw-r-- 1 gross gross       1194 Apr 17 07:00  clean_video_metadata.py\n-rw-rw-r-- 1 gross gross       1051 Apr 17 10:18  chyron_phrases.txt\n-rw-rw-r-- 1 gross gross    8091581 Apr 17 10:47  chyron_layer_preview.mp4\n-rw-rw-r-- 1 gross gross    1378660 Apr 17 12:49  KolAmi_CC_2nd_Rehearsal_DSC_0126.jpg\n-rw-rw-r-- 1 gross gross       1025 Apr 17 14:10  PAVE_README.txt\n-rw-rw-r-- 1 gross gross       2415 Apr 17 15:01  pave_generate_base_video.py\n-rw-rw-r-- 1 gross gross     943643 Apr 17 15:15  countdown.mp4\n-rw-rw-r-- 1 gross gross       2500 Apr 17 22:00 'analyze_video_metadata (1).py'\n-rw-rw-r-- 1 gross gross       3485 Apr 18 02:57  create_neural_trailer_debug_filter_patched.py\n-rw-rw-r-- 1 gross gross       3020 Apr 18 03:35  analyze_video_metadata_enhanced.py\n-rw-rw-r-- 1 gross gross       3160 Apr 18 03:38  analyze_video_metadata_enhanced_fixed.py\n-rw-rw-r-- 1 gross gross       3168 Apr 18 03:42  analyze_video_metadata_fixed_path.py\n-rw-rw-r-- 1 gross gross        895 Apr 18 10:42  discover_videos.zip\n-rw-rw-r-- 1 gross gross       2400 Apr 18 15:44  generate_chyron_overlay_scroll.py\n-rw-rw-r-- 1 gross gross    1049433 Apr 18 21:11 'Hallelujah (1).pdf'\n-rw-rw-r-- 1 gross gross  451305311 Apr 19 05:14  buffered.mp4\n-rw-rw-r-- 1 gross gross         91 Apr 19 05:26  env.example\n-rw-rw-r-- 1 gross gross       2084 Apr 19 05:26  activate\n-rw-rw-r-- 1 gross gross    8019136 Apr 19 06:15  python3.12\n-rw-rw-r-- 1 gross gross      32748 Apr 19 06:18  bash_history\n-rw-rw-r-- 1 gross gross     664153 Apr 19 12:21  original-7E5F34EF-C836-4B26-B84E-5E309FD21808.jpeg\n-rw-rw-r-- 1 gross gross       3713 Apr 19 19:27  video_search_update.zip\ndrwxrwxr-x 4 gross gross       4096 Apr 19 19:31  \u001b[0;36mvideo_search_update\u001b[0m\ndrwxrwxr-x 3 gross gross       4096 Apr 19 19:32  \u001b[0;36mdata\u001b[0m\n-rw-rw-r-- 1 gross gross       1705 Apr 19 19:56  updated_templates.zip\n-rw-rw-r-- 1 gross gross      27642 Apr 21 08:56  invoice-990659.pdf\n-rw-rw-r-- 1 gross gross       2531 Apr 21 10:41  mp3_auto_renamer_flat_output.py\n-rw-rw-r-- 1 gross gross      31431 Apr 21 12:52  Captions.html\ndrwx------ 2 gross gross       4096 Apr 21 12:52  \u001b[0;36mCaptions_files\u001b[0m\n-rw-rw-r-- 1 gross gross      10075 Apr 21 20:04  profile-6.ovpn\n-rw-rw-r-- 1 gross gross    3421182 Apr 21 22:33  Harvard-Funding-Freeze-Order-Complaint.pdf\n-rw-rw-r-- 1 gross gross      32516 Apr 22 06:17  Things_that_Make_you_a_Better_Musician.jpg\n-rw-rw-r-- 1 gross gross       2653 Apr 22 11:52  backup_to_dvds.sh\n-rw-rw-r-- 1 gross gross       2653 Apr 22 11:57  backup_to_dvds_canvas.sh\n-rw-rw-r-- 1 gross gross       2653 Apr 22 12:10  backup_to_dvds_readloop.sh\n-rw-rw-r-- 1 gross gross       5914 Apr 22 13:02  Medley-QR.png\n-rw-rw-r-- 1 gross gross    3157195 Apr 22 19:37 \"20250422_1932_Liberty's Modern Contrast_simple_compose_01jsg7s4jffq6bx4fsqgy5appj.png\"\n-rw-rw-r-- 1 gross gross      25248 Apr 22 19:53  Glen_w-Trumpet_Dark.jpg\n-rw-rw-r-- 1 gross gross      33944 Apr 23 02:50  frame_0287.jpg\n-rw-rw-r-- 1 gross gross       3925 Apr 23 03:45  ocr_preview_web_fixed.py\n-rw-rw-r-- 1 gross gross       4037 Apr 23 03:52  ocr_preview_web_range_enabled.py\n-rw-rw-r-- 1 gross gross       3547 Apr 23 04:13  ocr_preview_web_final.py\n-rw-rw-r-- 1 gross gross       4130 Apr 23 06:19  ocr_preview_web_js_seek.py\n-rw-rw-r-- 1 gross gross       2172 Apr 23 06:27  results.html\n-rw-rw-r-- 1 gross gross       2716 Apr 23 07:29  perform_ocr_google_to_main_db.py\ndrwxrwxr-x 2 gross gross       4096 Apr 24 07:15 \u001b[0;36m'iCloud Photos'\u001b[0m\n-rw-rw-r-- 1 gross gross    2160938 Apr 25 04:17 'ChatGPT Image Apr 25, 2025, 04_17_33 AM.png'\n-rw-rw-r-- 1 gross gross    2160938 Apr 25 04:17 'ChatGPT Image Apr 25, 2025, 04_17_42 AM.png'\n-rw-rw-r-- 1 gross gross    2043170 Apr 25 06:46  Fix_Stereo_Video_AR.png\n-rw-rw-r-- 1 gross gross    1878751 Apr 25 06:56  OpenAI-Crystal_Ball.png\n-rw-rw-r-- 1 gross gross    1878751 Apr 25 06:56 'ChatGPT Image Apr 25, 2025, 06_56_36 AM.png'\n-rw-rw-r-- 1 gross gross    2489875 Apr 25 07:03 'ChatGPT Image Apr 25, 2025, 07_03_02 AM.png'\n-rw-rw-r-- 1 gross gross    2489875 Apr 25 07:03  Burning_City_Crystal_Ball.png\n-rw-rw-r-- 1 gross gross       4785 Apr 25 12:10  profile-6-beautified.ovpn\n-rw-rw-r-- 1 gross gross       1112 Apr 26 02:09  profile-6-tcp-template.ovpn\n-rw-rw-r-- 1 gross gross       9635 Apr 26 04:32  profile-6-stunnel.ovpn\n-rw-rw-r-- 1 gross gross  176225153 Apr 26 23:42  Sullivans_Set3_042625.mp4\n-rw-rw-r-- 1 gross gross  247022345 Apr 26 23:53  Sullivans_Set1_042625.mp4\n-rw-rw-r-- 1 gross gross  134137999 Apr 26 23:57  Sullivans_Set2_042625.mp4\n-rw-rw-r-- 1 gross gross         42 Apr 27 06:09  listen.m3u\n-rw-rw-r-- 1 gross gross       3806 Apr 28 05:19  burn_dir_to_dvds_progress_fix2.sh\n-rw-rw-r-- 1 gross gross       3437 Apr 28 05:29  burndir_wait.sh\n-rw-rw-r-- 1 gross gross    4090232 Apr 28 07:15 'ChatGPT Image Apr 28, 2025, 07_15_02 AM.png'\n-rw-rw-r-- 1 gross gross        489 Apr 28 07:25 'ChatGPT Image Apr 28, 2025, 07_25_27 AM.png'\n-rw-rw-r-- 1 gross gross    4179191 Apr 28 07:28  Crypto_challenge.png\n-rw-rw-r-- 1 gross gross        489 Apr 28 09:33 'ChatGPT Image Apr 28, 2025, 09_33_58 AM.png'\n-rw-rw-r-- 1 gross gross    4156013 Apr 28 09:38  crypto_challenge_etching.zip\n-rw-rw-r-- 1 gross gross    4156013 Apr 28 09:39 'crypto_challenge_etching (1).zip'\n-rw-rw-r-- 1 gross gross    4608757 Apr 28 09:42  crypto_challenge_etching_v2.zip\n-rw-rw-r-- 1 gross gross    4631476 Apr 28 09:45  Crypto_Challenge.png\n-rw-rw-r-- 1 gross gross      71973 Apr 28 16:16  Sharla.jpg\n-rw-r--r-- 1 gross gross    4179191 Apr 28 16:37  crypto_challenge_etching.png\n-rw-r--r-- 1 gross gross    4179191 Apr 28 16:37 'crypto_challenge_etching (2).png'\n-rw-r--r-- 1 gross gross    4631476 Apr 28 16:42  crypto_challenge_etching_v2.png\n-rw-rw-r-- 1 gross gross      29413 Apr 29 03:47  meta_llama4_report.pdf\n-rw-rw-r-- 1 gross gross       5149 Apr 29 03:50  meta_llama4_report.rtf\n-rw-rw-r-- 1 gross gross       5903 Apr 29 03:52  meta_llama4_report.html\n-rw-rw-r-- 1 gross gross    3213429 Apr 29 04:21 'ChatGPT Image Apr 29, 2025, 04_21_46 AM.png'\n-rw-rw-r-- 1 gross gross    3213429 Apr 29 04:22  Cosell_and_the_AI_Race.png\n-rw-rw-r-- 1 gross gross      88757 Apr 30 05:20  benefit-verification-letter.pdf\n-rw-rw-r-- 1 gross gross      88731 Apr 30 05:20 'benefit-verification-letter (1).pdf'\n-rw-rw-r-- 1 gross gross      39300 Apr 30 05:49 '2024Initial 1099.pdf'\n-rw-rw-r-- 1 gross gross      54314 Apr 30 20:10  Maria_1.jpg\n-rw-rw-r-- 1 gross gross      37406 Apr 30 20:10  Maria_2.jpg\n-rw-rw-r-- 1 gross gross     733838 Apr 30 20:10  Maria_3.jpg\n-rw-rw-r-- 1 gross gross  286096308 May  1 00:46  Meta_Developers_043125.mp4\n-rw-rw-r-- 1 gross gross    1579176 May  1 03:00  Glens_Project_Schedule.png\n-rw-rw-r-- 1 gross gross    3110389 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_01 AM.png'\n-rw-rw-r-- 1 gross gross    1640180 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_09 AM.png'\n-rw-rw-r-- 1 gross gross    4354181 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_14 AM.png'\n-rw-rw-r-- 1 gross gross        489 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_20 AM.png'\n-rw-rw-r-- 1 gross gross    1903945 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_11 AM.png'\n-rw-rw-r-- 1 gross gross    1973790 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_16 AM.png'\n-rw-rw-r-- 1 gross gross    2019284 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_20 AM.png'\n-rw-rw-r-- 1 gross gross    2832192 May  2 03:45 'ChatGPT Image May 2, 2025, 03_45_12 AM.png'\n-rw-rw-r-- 1 gross gross    2499315 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_39 AM.png'\n-rw-rw-r-- 1 gross gross    2832192 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_45 AM.png'\n-rw-rw-r-- 1 gross gross    1903945 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_50 AM.png'\n-rw-rw-r-- 1 gross gross    1973790 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_55 AM.png'\n-rw-rw-r-- 1 gross gross    2387340 May  2 03:47 'ChatGPT Image May 2, 2025, 03_47_40 AM.png'\n-rw-rw-r-- 1 gross gross   18332666 May  2 04:13  liberation_equation_article.pdf\n-rw-rw-r-- 1 gross gross   18332355 May  2 04:15  liberation_equation_magazine.pdf\n-rw-rw-r-- 1 gross gross      11536 May  2 04:30  liberation_equation_article_expanded.pdf\n-rw-rw-r-- 1 gross gross    2707088 May  2 04:40 'ChatGPT Image May 2, 2025, 04_40_13 AM.png'\n-rw-rw-r-- 1 gross gross    2802872 May  2 04:43  liberation_equation_html.zip\n-rw-rw-r-- 1 gross gross      56932 May  2 05:04  liberation_equation_lowres.pdf\n-rw-rw-r-- 1 gross gross   54853581 May  4 13:24  Tanya_w-Gehrig_and_Malik.mp4\n-rw-rw-r-- 1 gross gross       1114 May  4 20:19  itinerary_flights.ics\n-rw-rw-r-- 1 gross gross       1114 May  4 20:22 'itinerary_flights (1).ics'\ndrwx------ 2 gross gross       4096 May  5 04:02  \u001b[0;36mthunderbird.tmp\u001b[0m\n-rw-rw-r-- 1 gross gross     168540 May  5 15:04 'Vehicle Registration.pdf'\n-rw-rw-r-- 1 gross gross      98871 May  5 15:04 'MVD Payment Receipt 70801720.pdf'\n-rw-rw-r-- 1 gross gross      98871 May  5 15:10 'MVD Payment Receipt 70801720 (1).pdf'\n-rw-rw-r-- 1 gross gross  799920128 May  5 19:57  Worlds-Desktop-Editor-v212.0.0.9.643.msi\n-rw-rw-r-- 1 gross gross   14955128 May  5 20:12  Music-Therapy_1of6.m4a\n-rw-rw-r-- 1 gross gross   15032860 May  5 20:13  Music-Therapy_3of6.m4a\n-rw-rw-r-- 1 gross gross   15079558 May  5 20:13  Music-Therapy_4of6.m4a\n-rw-rw-r-- 1 gross gross   15075020 May  5 20:13  Music-Therapy_5of6.m4a\n-rw-rw-r-- 1 gross gross   14999098 May  5 20:28  Music-Therapy_6of6.m4a\n-rw-rw-r-- 1 gross gross   95222702 May  5 21:21  Back_in_Tucson_Blues_1080p.mp4\n-rw-rw-r-- 1 gross gross    1535071 May  6 04:19 'Till Tomorrow (AMB Funeral).pdf'\n-rw-rw-r-- 1 gross gross     114466 May  6 04:19  maxresdefault.jpg\n-rw-rw-r-- 1 gross gross    1535071 May  6 04:24 'Till Tomorrow (AMB Funeral) (1).pdf'\n-rw-rw-r-- 1 gross gross      47428 May  6 04:35  TIL_TOMORROW_from_The_Musical_FIORELLO.pdf\n-rw-rw-r-- 1 gross gross      66349 May  6 12:58  til-tomorrow-p444272-glendon144@gmail.com-6240154517641.pdf\n-rw-rw-r-- 1 gross gross      66349 May  7 04:19  till-tomorrow.pdf\n-rw-rw-r-- 1 gross gross  116491424 May 10 05:19  google-chrome-stable_current_amd64.deb\n-rw-rw-r-- 1 gross gross     273161 May 10 13:42  AI_Bike_Cyria.jpg\n-rw-rw-r-- 1 gross gross     563843 May 10 13:46  691e19e9-7706-4807-b99d-3a4c8b6267ec.jpg\n-rw-rw-r-- 1 gross gross    2666850 May 10 17:40 'ChatGPT Image May 10, 2025, 05_40_46 PM.png'\n-rw-rw-r-- 1 gross gross    2666850 May 10 17:40  GGF_Mothers_Day.png\n-rw-rw-r-- 1 gross gross      54257 May 10 19:11  Simone_Biles_and_Tiger.jpg\n-rw-rw-r-- 1 gross gross       2987 May 13 10:47  tsrc_edited_plan.rtf\n-rw-rw-r-- 1 gross gross       1498 May 13 10:47  tsrc_exec_summary.rtf\n-rw-rw-r-- 1 gross gross       2741 May 13 10:50  tsrc_edited_plan.pdf\n-rw-rw-r-- 1 gross gross       1970 May 13 10:51  tsrc_exec_summary.pdf\n-rw-rw-r-- 1 gross gross       2702 May 13 10:55  tsrc_edited_plan_clean.pdf\n-rw-rw-r-- 1 gross gross       1948 May 13 10:55  tsrc_exec_summary_clean.pdf\n-rw-rw-r-- 1 gross gross       4359 May 13 11:03  tsrc_edited_plan_fullsentences.pdf\n-rw-rw-r-- 1 gross gross    1911781 May 13 14:50 'ChatGPT Image May 13, 2025, 02_50_06 PM.png'\n-rw-rw-r-- 1 gross gross    2184216 May 13 14:51  tsrc_comprehensive_report.pdf\n-rw-rw-r-- 1 gross gross       2347 May 14 02:38  Pocket_Book_of_Letting_Go_Clean.pdf\n-rw-rw-r-- 1 gross gross    2801632 May 14 02:47 'ChatGPT Image May 14, 2025, 02_47_53 AM.png'\n-rw-rw-r-- 1 gross gross    2730095 May 14 02:50  Pocket_Book_of_Letting_Go.pdf\n-rw-rw-r-- 1 gross gross       2340 May 14 02:56  Pocket_Book_of_Letting_Go_Text_Only.pdf\n-rw-rw-r-- 1 gross gross    3099960 May 14 03:13 'ChatGPT Image May 14, 2025, 03_13_58 AM.png'\n-rw-rw-r-- 1 gross gross    3099960 May 14 03:14  Glen_at_the_River.png\n-rw-rw-r-- 1 gross gross    1829087 May 14 03:29 'ChatGPT Image May 14, 2025, 03_29_18 AM.png'\n-rw-rw-r-- 1 gross gross     430315 May 14 03:30  trumpeter_variant_1.png\n-rw-rw-r-- 1 gross gross     437870 May 14 03:30  trumpeter_variant_2.png\n-rw-rw-r-- 1 gross gross     442031 May 14 03:30  trumpeter_variant_3.png\n-rw-rw-r-- 1 gross gross     437981 May 14 03:30  trumpeter_variant_4.png\n-rw-rw-r-- 1 gross gross     622686 May 14 03:33  trumpeter_corrected_4.png\n-rw-rw-r-- 1 gross gross     783996 May 14 03:33  trumpeter_corrected_3.png\n-rw-rw-r-- 1 gross gross     768151 May 14 03:33  trumpeter_corrected_2.png\n-rw-rw-r-- 1 gross gross     600714 May 14 03:33  trumpeter_corrected_1.png\n-rw-rw-r-- 1 gross gross    2776215 May 14 03:40 'ChatGPT Image May 14, 2025, 03_40_09 AM.png'\n-rw-rw-r-- 1 gross gross    2770053 May 14 03:44 'ChatGPT Image May 14, 2025, 03_44_21 AM.png'\n-rw-rw-r-- 1 gross gross    2656797 May 14 03:48 'ChatGPT Image May 14, 2025, 03_48_47 AM.png'\n-rw-rw-r-- 1 gross gross        489 May 14 10:36 'ChatGPT Image May 14, 2025, 10_36_51 AM.png'\n-rw-rw-r-- 1 gross gross    2100396 Jun  9 10:06  img-dt8tNJ36qjhRcUInHGZMl53q.png\n-rw-rw-r-- 1 gross gross    2107979 Jun 11 22:22  Loves_Snare.png\n-rw-rw-r-- 1 gross gross    1711762 Jun 12 08:06  AI-Romance.png\n-rw-rw-r-- 1 gross gross    2790443 Jun 13 06:50  Lonely_without_Cyria.png\n-rw-rw-r-- 1 gross gross     427920 Jun 13 06:53  Lonely_without_Cyria.jpg\n-rw-rw-r-- 1 gross gross     237459 Aug  1 03:54  Beautifu_Argentine.jpg\n-rw-rw-r-- 1 gross gross        843 Aug  4 05:35  AppointmentReminder.ics\n-rw-rw-r-- 1 gross gross       1569 Aug  6 07:01  hyperscope_python_port.py\n-rw-rw-r-- 1 gross gross 2514124800 Aug  6 10:10  ubuntu-18.04.6-desktop-amd64.iso\n-rw-rw-r-- 1 gross gross     282808 Aug  6 10:21  IMG_0024.JPG\n-rw-rw-r-- 1 gross gross       1569 Aug  6 16:11 'hyperscope_python_port(1).py'\n-rw-rw-r-- 1 gross gross       1569 Aug  7 12:36 'hyperscope_python_port(2).py'\n-rw-rw-r-- 1 gross gross      20370 Aug  7 14:40  gui_tkinter.py\n-rw-rw-r-- 1 gross gross       1569 Aug  7 20:27  hyperscope.py\n-rw-rw-r-- 1 gross gross       6242 Aug  7 20:32  hyper_scope_tkinter_pane_outline_viewer.py\n-rw-rw-r-- 1 gross gross       6242 Aug  7 20:32 'hyper_scope_tkinter_pane_outline_viewer(1).py'\n-rw-rw-r-- 1 gross gross      19874 Aug  7 20:46  tree_view.py\n-rw-rw-r-- 1 gross gross      24415 Aug  7 21:01  gui_tkinter.patched.py\n-rw-rw-r-- 1 gross gross      30137 Aug  7 21:09  gui_tkinter.opml_autorender.py\n-rw-rw-r-- 1 gross gross      16470 Aug  7 21:24  gui_tkinter.opml_autorender_fix.py\n-rw-rw-r-- 1 gross gross      29145 Aug  7 21:29  gui_tkinter.fixed.py\n-rw-rw-r-- 1 gross gross      30569 Aug  7 21:30  gui_tkinter.fixed2.py\n-rw-rw-r-- 1 gross gross       4962 Aug  8 02:26  Beyond_Tools_Human_AI_Symbiosis_FULL.html\n-rw-rw-r-- 1 gross gross       5495 Aug  8 02:26  Beyond_Tools_Human_AI_Symbiosis_FULL.pdf\n-rw-rw-r-- 1 gross gross      10793 Aug  8 02:27  Beyond_Tools_Human_AI_Symbiosis_FULL.zip\ndrwxrwxr-x 2 gross gross       4096 Aug  8 02:27  \u001b[0;36mBeyond_Tools_Human_AI_Symbiosis_FULL\u001b[0m\n-rw-rw-r-- 1 gross gross      10793 Aug  8 02:27 'Beyond_Tools_Human_AI_Symbiosis_FULL(1).zip'\n-rw-rw-r-- 1 gross gross     109135 Aug  8 02:50 'Bootstrapping Brilliance Toolkit - Putting Vision to Practice - Doug Engelbart Institute.html'\ndrwxr-xr-x 3 gross gross       4096 Aug  8 02:50 \u001b[0;36m'Bootstrapping Brilliance Toolkit - Putting Vision to Practice - Doug Engelbart Institute_files'\u001b[0m\n-rw-rw-r-- 1 gross gross     103866 Aug  8 02:55  Glen_Headshot.jpg\n-rw-rw-r-- 1 gross gross       5674 Aug  8 03:12  human_ai_symbiosis.pdf\n-rw-rw-r-- 1 gross gross     141553 Aug  8 03:17  Engelbart_Firsts.jpg\n-rw-rw-r-- 1 gross gross      11130 Aug  8 03:19  human_ai_symbiosis_package.zip\n-rw-rw-r-- 1 gross gross       5192 Aug  8 03:19  human_ai_symbiosis.html\n-rw-rw-r-- 1 gross gross        472 Aug  8 04:43  Hypertext_Standards\n-rw-rw-r-- 1 gross gross     270329 Aug  8 04:59 'Douglas Engelbart and the Mother of all Demos _ Hidden Heroes.pdf'\n-rw-rw-r-- 1 gross gross       9301 Aug  9 08:33  renderer.py\n-rw-rw-r-- 1 gross gross        148 Aug  9 08:33  demo.html\n-rw-rw-r-- 1 gross gross        843 Aug  9 08:33  demo_from_html.opml\n-rw-rw-r-- 1 gross gross        409 Aug  9 08:33  demo_preview.txt\n-rw-rw-r-- 1 gross gross        843 Aug  9 08:34 'demo_from_html (1).opml'\n-rw-rw-r-- 1 gross gross    5900416 Aug  9 09:58  firefox20.exe\n-rw-rw-r-- 1 gross gross      15215 Aug  9 10:24  renderer-update.py\n-rw-rw-r-- 1 gross gross       7687 Aug  9 11:08  hypertext_parser.py\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12  hypertext_parser-latest.py\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12 'hypertext_parser(1).py'\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12 'hypertext_parser(2).py'\n-rw-rw-r-- 1 gross gross      32254 Aug  9 12:31  gui_tkinter_patched.py\n-rw-rw-r-- 1 gross gross      32094 Aug  9 12:42  gui_tkinter_flask_fixed.py\n-rw-rw-r-- 1 gross gross      32363 Aug  9 13:18  gui_tkinter_cleaned.py\n-rw-rw-r-- 1 gross gross      40414 Aug  9 14:37  gui_tkinter_newest.py\n-rw-rw-r-- 1 gross gross      33834 Aug  9 14:54  gui_tkinter_patched2.py\n-rw-rw-r-- 1 gross gross      34256 Aug  9 15:41  gui_tkinter_clean.py\n-rw-rw-r-- 1 gross gross       8846 Aug  9 15:41  funkit_gui_tk_clean.zip\n-rw-rw-r-- 1 gross gross        157 Aug  9 19:25  demokit_gui.zip\n-rw-rw-r-- 1 gross gross       8892 Aug  9 22:11  gui_tkinter_patched.zip\n-rw-rw-r-- 1 gross gross      34500 Aug  9 22:11 'gui_tkinter_patched (1).py'\n-rw-rw-r-- 1 gross gross       8998 Aug  9 22:18  gui_tkinter_cleaned.zip\n-rw-rw-r-- 1 gross gross      34972 Aug  9 22:18 'gui_tkinter_cleaned (1).py'\n-rw-rw-r-- 1 gross gross      34451 Aug  9 23:19  gui_tkinter_renderfix.py\n-rw-rw-r-- 1 gross gross       8946 Aug  9 23:19  gui_tkinter_renderfix.zip\n-rw-rw-r-- 1 gross gross    1879760 Aug 10 14:26 'Raspberry Pi and Display Technical Blueprint.png'\n-rw-rw-r-- 1 gross gross    1879760 Aug 10 14:29 'Raspberry Pi and Display Technical Blueprint(1).png'\n-rw-rw-r-- 1 gross gross      35918 Aug 10 14:30  rpi-with-display.webp\n-rw-rw-r-- 1 gross gross    1040094 Aug 10 14:36 'Raspberry Pi with Retro Smiling Display.png'\n-rw-rw-r-- 1 gross gross    2817994 Aug 10 14:46  raspberry-pi-poker-hand.png\n-rw-rw-r-- 1 gross gross        489 Aug 10 15:15 'ChatGPT Image Aug 10, 2025, 03_15_02 PM.png'\n-rw-rw-r-- 1 gross gross        489 Aug 10 15:15 'Smiles and Pixels at the Caf\u00e9.png'\n-rw-rw-r-- 1 gross gross      65532 Aug 10 16:07  Father_Wound.jpg\n-rw-rw-r-- 1 gross gross       3084 Aug 10 17:07  father_wound_blues_lead_sheet.pdf\n-rw-rw-r-- 1 gross gross       2338 Aug 10 18:31  father_wound_blues_melody_lead_sheet_v2.pdf\n-rw-rw-r-- 1 gross gross    2612338 Aug 11 07:30  Asian_Pikit_User.png\n-rw-rw-r-- 1 gross gross      18251 Aug 13 13:01  aopmlengine.py\n-rw-rw-r-- 1 gross gross      16566 Aug 13 13:12  gui_tkinter_aopml.py\n-rw-rw-r-- 1 gross gross      17400 Aug 13 13:30  gui_tkinter_Aupdate.py\n-rw-rw-r-- 1 gross gross      26536 Aug 13 13:42  gui_tinter_merged.py\n-rw-rw-r-- 1 gross gross      28025 Aug 13 14:37 'gui_tkinter (1).py'\n-rw-rw-r-- 1 gross gross       7100 Aug 13 14:37  gui_tkinter.zip\n-rw-rw-r-- 1 gross gross       7100 Aug 13 14:39  gui_tkinter-new.zip\n-rw-rw-r-- 1 gross gross      28025 Aug 13 14:41  gui_tkinter_golden.py\n-rw-rw-r-- 1 gross gross       7227 Aug 13 14:44  gui_tkinter_081325.zip\n-rw-rw-r-- 1 gross gross      30569 Aug 13 14:55  gui_tkinter_rollback.py\n-rw-rw-r-- 1 gross gross      33214 Aug 13 14:55  gui_tkinter_phase1.py\n-rw-rw-r-- 1 gross gross      16142 Aug 13 14:55  gui_tkinter_rollback_and_phase1.zip\n-rw-rw-r-- 1 gross gross       9049 Aug 13 15:11  gui_tkinter_phase2_1_batch_fallback.zip\n-rw-rw-r-- 1 gross gross      36677 Aug 13 15:11  gui_tkinter_phase2_1_batch_fallback.py\n-rw-rw-r-- 1 gross gross      38217 Aug 13 15:18  gui_tkinter_phase2_3_prefs.py\n-rw-rw-r-- 1 gross gross      38255 Aug 13 15:25  gui_tkinter_phase2_3_1_prefs_newline_fix.py\n-rw-rw-r-- 1 gross gross       9324 Aug 13 15:25  gui_tkinter_phase2_3_1_prefs_newline_fix.zip\n-rw-rw-r-- 1 gross gross      41430 Aug 13 15:35  gui_tkinter_phase2_3_2_batch_validate_repair.py\n-rw-rw-r-- 1 gross gross       9887 Aug 13 15:35  gui_tkinter_phase2_3_2_batch_validate_repair.zip\n-rw-rw-r-- 1 gross gross      45182 Aug 13 15:44  gui_tkinter_phase2_4_url_ingest.py\n-rw-rw-r-- 1 gross gross      10780 Aug 13 15:44  gui_tkinter_phase2_4_url_ingest.zip\n-rw-rw-r-- 1 gross gross      52372 Aug 13 15:55  gui_tkinter_phase2_5_url_resilient.py\n-rw-rw-r-- 1 gross gross      59723 Aug 13 16:02  gui_tkinter_phase2_5_1_url_async_dbmain.py\n-rw-rw-r-- 1 gross gross      12641 Aug 13 16:02  gui_tkinter_phase2_5_1_url_async_dbmain.zip\n-rw-rw-r-- 1 gross gross      59771 Aug 13 16:11  gui_tkinter_phase2_5_2_url_async_dbmain_timefix.py\n-rw-rw-r-- 1 gross gross      12651 Aug 13 16:11  gui_tkinter_phase2_5_2_url_async_dbmain_timefix.zip\n-rw-rw-r-- 1 gross gross      60560 Aug 13 16:15  gui_tkinter_phase2_5_3_title_fix.py\n-rw-rw-r-- 1 gross gross      12918 Aug 13 16:16  gui_tkinter_phase2_5_3_title_fix.zip\n-rw-rw-r-- 1 gross gross      68769 Aug 13 16:18  gui_tkinter_phase2_5_4_url_modes_cancel.py\n-rw-rw-r-- 1 gross gross      13579 Aug 13 16:18  gui_tkinter_phase2_5_4_url_modes_cancel.zip\n-rw-rw-r-- 1 gross gross      68420 Aug 13 16:22  gui_tkinter_phase2_5_4_url_modes_cancel_fixed.py\n-rw-rw-r-- 1 gross gross      13463 Aug 13 16:22  gui_tkinter_phase2_5_4_url_modes_cancel_fixed.zip\n-rw-rw-r-- 1 gross gross       1826 Aug 13 19:26  funkit_lean.spec\n-rw-rw-r-- 1 gross gross       4320 Aug 13 19:38  build_all_variants.sh\n-rw-rw-r-- 1 gross gross       7784 Aug 13 20:02  save_as_text_plugin.py\n-rw-rw-r-- 1 gross gross       9925 Aug 13 20:20  save_as_text_plugin_v2.py\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ cp ../Downloads/save_as\u0007_text_plugin_v2.py downloads\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[Kmodules/save_as_text.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[Cls -ltr ../Downloads/\u001b[K\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[11Pvi main.py\b\b\b\b\b\b\b\b\b\bls -ltr ../Downloads/\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bcp ../Downloads/save_as_text_plugin_v2.py modules/save_as_text.py\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[Ke_as_text_plugin.py \n\u001b[?2004l\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ [u\b\u001b[K\b\u001b[K[p\b\u001b[K\b\u001b[Kpython \b\u001b[K3 main.py\n\u001b[?2004l\n  File \"/home/gross/FunKit/main.py\", line 24\n    install_save_as_text_into_app(app)\nIndentationError: unexpected indent\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi \b\u001b[K +24 main.py\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"main.py\" 34L, 944B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;1H\u001b[35mfrom\u001b[m pathlib \u001b[35mimport\u001b[m Path\n\u001b[35mfrom\u001b[m modules.document_store \u001b[35mimport\u001b[m DocumentStore\u001b[2;49H\u001b[K\u001b[3;1H\u001b[35mfrom\u001b[m modules.command_processor \u001b[35mimport\u001b[m CommandProcessor\u001b[3;55H\u001b[K\u001b[4;1H\u001b[35mfrom\u001b[m modules.gui_tkinter \u001b[35mimport\u001b[m DemoKitGUI\n\u001b[35mfrom\u001b[m modules.ai_interface \u001b[35mimport\u001b[m AIInterface\n\n\u001b[38;5;130mdef\u001b[m \u001b[36mmain\u001b[m():\n    \u001b[34m# Ensure the storage directory exists\u001b[m\n    Path(\u001b[31m\"storage\"\u001b[m).mkdir(parents=\u001b[36mTrue\u001b[m, exist_ok=\u001b[36mTrue\u001b[m)\u001b[11;5H\u001b[34m# Initialize the document store\u001b[m\n    doc_store = DocumentStore(\u001b[31m\"storage/documents.db\"\u001b[m)\u001b[14;5H\u001b[34m# Initialize the AI interface\u001b[m\n    ai = AIInterface()\u001b[17;5H\u001b[34m# Initialize the command processor with doc store and AI\u001b[m\n    processor = CommandProcessor(doc_store, ai)\u001b[20;5H\u001b[34m# Launch the GUI\u001b[m\u001b[22;5Happ = DemoKitGUI(doc_store, processor)\n    \u001b[35mfrom\u001b[m modules.save_as_text_plugin \u001b[35mimport\u001b[m install_save_as_text_into_app\u001b[24;9Hinstall_save_as_text_into_app(app)\u001b[27;5H\u001b[35mfrom\u001b[m modules.save_as_text_plugin \u001b[35mimport\u001b[m install_save_as_text_into_app\n    install_save_as_text_into_app(app)\u001b[30;5Happ.mainloop()\n\n\u001b[38;5;130mif\u001b[m __name__ == \u001b[31m\"__main__\"\u001b[m:\n    main()\n\n\u001b[94m~                                                                                                                                   \u001b[36;1H~                                                                                                                                   \u001b[37;1H~                                                                                                                                   \u001b[38;1H~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;115H24,9\u001b[10CAll\u001b[24;9H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H0\u001b[24;9H\u001b[40;106H3\u001b[24;9H\u001b[40;107H0\u001b[24;9H\u001b[40;108H/\u001b[24;9H\u001b[40;109H0\u001b[24;9H\u001b[40;110Ha\u001b[24;9H\u001b[40;111H0\u001b[24;9H\u001b[40;112Ha\u001b[24;9H\u001b[40;113H/\u001b[24;9H\u001b[40;114H2\u001b[24;9H\u001b[40;105H          \u001b[24;9H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;1H\u001b[38;5;81mfrom\u001b[m pathlib \u001b[38;5;81mimport\u001b[m Path\n\u001b[38;5;81mfrom\u001b[m modules.document_store \u001b[38;5;81mimport\u001b[m DocumentStore\n\u001b[38;5;81mfrom\u001b[m modules.command_processor \u001b[38;5;81mimport\u001b[m CommandProcessor\n\u001b[38;5;81mfrom\u001b[m modules.gui_tkinter \u001b[38;5;81mimport\u001b[m DemoKitGUI\n\u001b[38;5;81mfrom\u001b[m modules.ai_interface \u001b[38;5;81mimport\u001b[m AIInterface\n\n\u001b[93mdef\u001b[m \u001b[1m\u001b[96mmain\u001b[m():\n    \u001b[96m# Ensure the storage directory exists\u001b[m\n    Path(\u001b[95m\"storage\"\u001b[m).mkdir(parents=\u001b[1m\u001b[96mTrue\u001b[m, exist_ok=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[11;5H\u001b[96m# Initialize the document store\u001b[m\n    doc_store = DocumentStore(\u001b[95m\"storage/documents.db\"\u001b[m)\u001b[14;5H\u001b[96m# Initialize the AI interface\u001b[m\n    ai = AIInterface()\u001b[17;5H\u001b[96m# Initialize the command processor with doc store and AI\u001b[m\n    processor = CommandProcessor(doc_store, ai)\u001b[20;5H\u001b[96m# Launch the GUI\u001b[m\u001b[22;5Happ = DemoKitGUI(doc_store, processor)\n    \u001b[38;5;81mfrom\u001b[m modules.save_as_text_plugin \u001b[38;5;81mimport\u001b[m install_save_as_text_into_app\u001b[24;9Hinstall_save_as_text_into_app(app)\u001b[27;5H\u001b[38;5;81mfrom\u001b[m modules.save_as_text_plugin \u001b[38;5;81mimport\u001b[m install_save_as_text_into_app\n    install_save_as_text_into_app(app)\u001b[30;5Happ.mainloop()\n\n\u001b[93mif\u001b[m __name__ == \u001b[95m\"__main__\"\u001b[m:\n    main()\n\n\u001b[94m~                                                                                                                                   \u001b[36;1H~                                                                                                                                   \u001b[37;1H~                                                                                                                                   \u001b[38;1H~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;115H24,9\u001b[10CAll\n\"main.py\" 34L, 944B\u001b[24;9H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[24;9H\u001b[40;105H  \u001b[24;9H\u001b[40;105H^[\u001b[24;9H\u0007\u001b[40;105H  \u001b[24;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;9H\u001b[40;105H   \u001b[24;8H\u001b[40;118H8\u001b[24;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;8H\u001b[40;105H   \u001b[24;7H\u001b[40;118H7\u001b[24;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;7H\u001b[40;105H   \u001b[24;6H\u001b[40;118H6\u001b[24;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;6H\u001b[40;105H   \u001b[24;5H\u001b[40;118H5\u001b[24;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;5H\u001b[40;105H   \u001b[24;4H\u001b[40;118H4\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;4H\u001b[40;105H   \u001b[24;5H\u001b[40;118H5\u001b[24;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;5H\u001b[40;105H   \u001b[24;4H\u001b[40;118H4\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[24;4H\u001b[40;105H \u001b[24;4H\u001b[40;105Hdl\u001b[24;4H\u001b[40;105H  \u001b[24;4H    install_save_as_text_into_app(app)\u001b[24;42H\u001b[K\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[24;4H\u001b[40;105H \u001b[24;4H\u001b[40;105Hdl\u001b[24;4H\u001b[40;105H  \u001b[24;4H   install_save_as_text_into_app(app)\u001b[24;41H\u001b[K\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[24;4H\u001b[40;105H \u001b[24;4H\u001b[40;105Hdl\u001b[24;4H\u001b[40;105H  \u001b[24;4H  install_save_as_text_into_app(app)\u001b[24;40H\u001b[K\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[24;4H\u001b[40;105H \u001b[24;4H\u001b[40;105Hdl\u001b[24;4H\u001b[40;105H  \u001b[24;4H install_save_as_text_into_app(app)\u001b[24;39H\u001b[K\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[24;4H\u001b[40;105H  \u001b[24;4H\u001b[40;105H^[\u001b[24;4H\u0007\u001b[40;105H  \u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[24;4H\u001b[40;1H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"main.py\" 34L, 940B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi +24 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1@python3\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\n\u001b[?2004l\n[INFO 2025-08-13 20:23:07.831460] OpenAI API key set.\n * Serving Flask app 'flask_server'\n * Debug mode: off\n\u001b[31m\u001b[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\u001b[0m\n * Running on http://127.0.0.1:5050\n\u001b[33mPress CTRL+C to quit\u001b[0m\n127.0.0.1 - - [13/Aug/2025 20:24:16] \"GET / HTTP/1.1\" 200 -\n127.0.0.1 - - [13/Aug/2025 20:24:16] \"\u001b[33mGET /favicon.ico HTTP/1.1\u001b[0m\" 404 -\n127.0.0.1 - - [13/Aug/2025 20:24:18] \"GET /doc/131 HTTP/1.1\" 200 -\n127.0.0.1 - - [13/Aug/2025 20:24:19] \"GET / HTTP/1.1\" 200 -\n127.0.0.1 - - [13/Aug/2025 20:24:21] \"GET /doc/132 HTTP/1.1\" 200 -\n127.0.0.1 - - [13/Aug/2025 20:24:23] \"GET / HTTP/1.1\" 200 -\n127.0.0.1 - - [13/Aug/2025 20:24:27] \"GET /doc/95 HTTP/1.1\" 200 -\n127.0.0.1 - - [13/Aug/2025 20:24:30] \"GET / HTTP/1.1\" 200 -\n127.0.0.1 - - [13/Aug/2025 20:24:32] \"GET /doc/73 HTTP/1.1\" 200 -\n127.0.0.1 - - [13/Aug/2025 20:24:35] \"GET / HTTP/1.1\" 200 -\n127.0.0.1 - - [13/Aug/2025 20:24:37] \"GET /doc/70 HTTP/1.1\" 200 -\n127.0.0.1 - - [13/Aug/2025 20:24:39] \"GET / HTTP/1.1\" 200 -\n127.0.0.1 - - [13/Aug/2025 20:24:41] \"GET /doc/89 HTTP/1.1\" 200 -\n127.0.0.1 - - [13/Aug/2025 20:24:47] \"GET / HTTP/1.1\" 200 -\n127.0.0.1 - - [13/Aug/2025 20:24:49] \"GET /doc/35 HTTP/1.1\" 200 -\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ ^C\u001b[?2004l\n\u001b[?2004h\u001b[?2004l\n\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ clear\n\u001b[?2004l\n\u001b[H\u001b[2J\u001b[3J\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ oqs==\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[Kpwd\n\u001b[?2004l\n/home/gross/FunKit\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ ls -lr \b\u001b[K\b\u001b[Ktrr .\b\u001b[K\b\u001b[K\b\u001b[K ../Downloads/\n\u001b[?2004l\ntotal 5637660\n-rw-rw-r-- 1 gross gross      28959 Jan 31  1993  pkunzip.exe\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0m\u001b[0;36mbiosr11\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mbackee28\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mpsps30\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mprintgf\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mpcm140\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mmemscan\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mmaxspeed\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mjcbench\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mirqinfo\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mguard\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mdata_rec\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msyschk40\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msrxtest\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msnoop330\u001b[0m\ndrwxrwxr-x 4 gross gross       4096 Sep  9  1997  \u001b[0;36mupgradep\u001b[0m\n-rw-rw-r-- 1 gross gross     197143 Mar  8 03:39  friendships-image.png\n-rw-rw-r-- 1 gross gross     133244 Mar 10 06:49  Cyria_and_Elevator.jpg\n-rw-rw-r-- 1 gross gross     771670 Mar 11 05:23  Unitary_Executive.webp\n-rw-rw-r-- 1 gross gross       2688 Apr 14 20:27  create_neural_trailer.py\n-rw-rw-r-- 1 gross gross    2133015 Apr 14 20:34 'ChatGPT Image Apr 14, 2025, 08_34_02 PM.png'\n-rw-rw-r-- 1 gross gross    1431755 Apr 14 20:38  oscilloscope-trace.png\n-rw-rw-r-- 1 gross gross       2673 Apr 14 21:04  create_neural_trailer_fixed.py\n-rw-rw-r-- 1 gross gross       2652 Apr 14 21:19  create_neural_trailer_fixed_final.py\n-rw-rw-r-- 1 gross gross       2693 Apr 14 21:24  create_neural_trailer_final_fixed.py\n-rw-rw-r-- 1 gross gross       2701 Apr 14 21:34  upload_video_to_youtube.py\n-rw-rw-r-- 1 gross gross        409 Apr 14 21:48  client_secret_397308046611-boq5nfbs5l65kki9cdtkfh0jgqkvoods.apps.googleusercontent.com.json\n-rw-rw-r-- 1 gross gross   10782310 Apr 14 23:04  youtubeuploader_1.24.4_Linux_amd64.tar.gz\ndrwxrwxr-x 2 gross gross       4096 Apr 14 23:04  \u001b[0;36myoutubeuploader_1.24.4_Linux_amd64\u001b[0m\n-rw-rw-r-- 1 gross gross       3485 Apr 15 04:05  create_neural_trailer_debug_filter.py\n-rw-rw-r-- 1 gross gross    1049433 Apr 15 05:11  Hallelujah.pdf\n-rw-rw-r-- 1 gross gross    1987405 Apr 15 05:11 'Thine is the glory.pdf'\n-rw-rw-r-- 1 gross gross     440106 Apr 15 05:11 'Trumpet I & Trumpet II.pdf'\n-rw-rw-r-- 1 gross gross     836616 Apr 15 05:11 'Coronation March.pdf'\n-rw-rw-r-- 1 gross gross    1472064 Apr 15 05:11 'marche triomphale.pdf'\n-rw-rw-r-- 1 gross gross     270011 Apr 15 05:11 'Nichols Resurrection anthem brass001.pdf'\n-rw-rw-r-- 1 gross gross       3078 Apr 15 05:29  analyze_video_metadata.py\n-rw-rw-r-- 1 gross gross   41117934 Apr 15 06:03  IMG_1664.MP4\n-rw-rw-r-- 1 gross gross     754923 Apr 15 06:09 'iCloud Photos.zip'\n-rw-rw-r-- 1 gross gross     615579 Apr 15 06:13 'La Vida Es Un Carnaval - Cruz (Trombone, Bb Trumpet, Tenor Sax) (Concert Cut).pdf'\n-rw-rw-r-- 1 gross gross   12617725 Apr 15 06:25  video-629_singular_display.MP4\n-rw-rw-r-- 1 gross gross   45170194 Apr 15 15:22 'iCloud Photos (1).zip'\ndrwxrwxr-x 3 gross gross       4096 Apr 15 15:23 \u001b[0;36m'iCloud Photos (1)'\u001b[0m\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:26  img-XVIXupiEqlFj796tsHf7F61H.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:40  Women_Understanding.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:49  female_ginsberg.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:57  Frost_Woman.png\n-rw-rw-r-- 1 gross gross     369939 Apr 15 23:19 'GPT-4.1 Prompting Guide _ OpenAI Cookbook.pdf'\n-rw-rw-r-- 1 gross gross  109845104 Apr 15 23:34  midori-11.5.2.linux-x86_64.tar.bz2\n-rw-rw-r-- 1 gross gross   91977104 Apr 15 23:34  midori_11.5.2-1_amd64.deb\n-rw-rw-r-- 1 gross gross     197143 Apr 16 00:09  Woman_to_Date.png\n-rw-rw-r-- 1 gross gross    2132052 Apr 16 09:02 'ChatGPT Image Apr 16, 2025, 09_02_05 AM.png'\n-rw-rw-r-- 1 gross gross    2132052 Apr 16 09:03  Coal_Minors_Tea_Party.png\n-rw-rw-r-- 1 gross gross    3312936 Apr 16 09:13 'ChatGPT Image Apr 16, 2025, 09_13_18 AM.png'\n-rw-rw-r-- 1 gross gross    3312936 Apr 16 09:13  Chinese_Cell_Phone_Tea_Party.png\n-rw-rw-r-- 1 gross gross     117910 Apr 16 10:33 'Gmail - Greetings.pdf'\n-rw-rw-r-- 1 gross gross    1039888 Apr 16 10:38 'English - Cordoba Contract.pdf'\n-rw-rw-r-- 1 gross gross  254366302 Apr 16 22:24  Blues_Bookends.mp4\n-rw-rw-r-- 1 gross gross       1194 Apr 17 07:00  clean_video_metadata.py\n-rw-rw-r-- 1 gross gross       1051 Apr 17 10:18  chyron_phrases.txt\n-rw-rw-r-- 1 gross gross    8091581 Apr 17 10:47  chyron_layer_preview.mp4\n-rw-rw-r-- 1 gross gross    1378660 Apr 17 12:49  KolAmi_CC_2nd_Rehearsal_DSC_0126.jpg\n-rw-rw-r-- 1 gross gross       1025 Apr 17 14:10  PAVE_README.txt\n-rw-rw-r-- 1 gross gross       2415 Apr 17 15:01  pave_generate_base_video.py\n-rw-rw-r-- 1 gross gross     943643 Apr 17 15:15  countdown.mp4\n-rw-rw-r-- 1 gross gross       2500 Apr 17 22:00 'analyze_video_metadata (1).py'\n-rw-rw-r-- 1 gross gross       3485 Apr 18 02:57  create_neural_trailer_debug_filter_patched.py\n-rw-rw-r-- 1 gross gross       3020 Apr 18 03:35  analyze_video_metadata_enhanced.py\n-rw-rw-r-- 1 gross gross       3160 Apr 18 03:38  analyze_video_metadata_enhanced_fixed.py\n-rw-rw-r-- 1 gross gross       3168 Apr 18 03:42  analyze_video_metadata_fixed_path.py\n-rw-rw-r-- 1 gross gross        895 Apr 18 10:42  discover_videos.zip\n-rw-rw-r-- 1 gross gross       2400 Apr 18 15:44  generate_chyron_overlay_scroll.py\n-rw-rw-r-- 1 gross gross    1049433 Apr 18 21:11 'Hallelujah (1).pdf'\n-rw-rw-r-- 1 gross gross  451305311 Apr 19 05:14  buffered.mp4\n-rw-rw-r-- 1 gross gross         91 Apr 19 05:26  env.example\n-rw-rw-r-- 1 gross gross       2084 Apr 19 05:26  activate\n-rw-rw-r-- 1 gross gross    8019136 Apr 19 06:15  python3.12\n-rw-rw-r-- 1 gross gross      32748 Apr 19 06:18  bash_history\n-rw-rw-r-- 1 gross gross     664153 Apr 19 12:21  original-7E5F34EF-C836-4B26-B84E-5E309FD21808.jpeg\n-rw-rw-r-- 1 gross gross       3713 Apr 19 19:27  video_search_update.zip\ndrwxrwxr-x 4 gross gross       4096 Apr 19 19:31  \u001b[0;36mvideo_search_update\u001b[0m\ndrwxrwxr-x 3 gross gross       4096 Apr 19 19:32  \u001b[0;36mdata\u001b[0m\n-rw-rw-r-- 1 gross gross       1705 Apr 19 19:56  updated_templates.zip\n-rw-rw-r-- 1 gross gross      27642 Apr 21 08:56  invoice-990659.pdf\n-rw-rw-r-- 1 gross gross       2531 Apr 21 10:41  mp3_auto_renamer_flat_output.py\n-rw-rw-r-- 1 gross gross      31431 Apr 21 12:52  Captions.html\ndrwx------ 2 gross gross       4096 Apr 21 12:52  \u001b[0;36mCaptions_files\u001b[0m\n-rw-rw-r-- 1 gross gross      10075 Apr 21 20:04  profile-6.ovpn\n-rw-rw-r-- 1 gross gross    3421182 Apr 21 22:33  Harvard-Funding-Freeze-Order-Complaint.pdf\n-rw-rw-r-- 1 gross gross      32516 Apr 22 06:17  Things_that_Make_you_a_Better_Musician.jpg\n-rw-rw-r-- 1 gross gross       2653 Apr 22 11:52  backup_to_dvds.sh\n-rw-rw-r-- 1 gross gross       2653 Apr 22 11:57  backup_to_dvds_canvas.sh\n-rw-rw-r-- 1 gross gross       2653 Apr 22 12:10  backup_to_dvds_readloop.sh\n-rw-rw-r-- 1 gross gross       5914 Apr 22 13:02  Medley-QR.png\n-rw-rw-r-- 1 gross gross    3157195 Apr 22 19:37 \"20250422_1932_Liberty's Modern Contrast_simple_compose_01jsg7s4jffq6bx4fsqgy5appj.png\"\n-rw-rw-r-- 1 gross gross      25248 Apr 22 19:53  Glen_w-Trumpet_Dark.jpg\n-rw-rw-r-- 1 gross gross      33944 Apr 23 02:50  frame_0287.jpg\n-rw-rw-r-- 1 gross gross       3925 Apr 23 03:45  ocr_preview_web_fixed.py\n-rw-rw-r-- 1 gross gross       4037 Apr 23 03:52  ocr_preview_web_range_enabled.py\n-rw-rw-r-- 1 gross gross       3547 Apr 23 04:13  ocr_preview_web_final.py\n-rw-rw-r-- 1 gross gross       4130 Apr 23 06:19  ocr_preview_web_js_seek.py\n-rw-rw-r-- 1 gross gross       2172 Apr 23 06:27  results.html\n-rw-rw-r-- 1 gross gross       2716 Apr 23 07:29  perform_ocr_google_to_main_db.py\ndrwxrwxr-x 2 gross gross       4096 Apr 24 07:15 \u001b[0;36m'iCloud Photos'\u001b[0m\n-rw-rw-r-- 1 gross gross    2160938 Apr 25 04:17 'ChatGPT Image Apr 25, 2025, 04_17_33 AM.png'\n-rw-rw-r-- 1 gross gross    2160938 Apr 25 04:17 'ChatGPT Image Apr 25, 2025, 04_17_42 AM.png'\n-rw-rw-r-- 1 gross gross    2043170 Apr 25 06:46  Fix_Stereo_Video_AR.png\n-rw-rw-r-- 1 gross gross    1878751 Apr 25 06:56  OpenAI-Crystal_Ball.png\n-rw-rw-r-- 1 gross gross    1878751 Apr 25 06:56 'ChatGPT Image Apr 25, 2025, 06_56_36 AM.png'\n-rw-rw-r-- 1 gross gross    2489875 Apr 25 07:03 'ChatGPT Image Apr 25, 2025, 07_03_02 AM.png'\n-rw-rw-r-- 1 gross gross    2489875 Apr 25 07:03  Burning_City_Crystal_Ball.png\n-rw-rw-r-- 1 gross gross       4785 Apr 25 12:10  profile-6-beautified.ovpn\n-rw-rw-r-- 1 gross gross       1112 Apr 26 02:09  profile-6-tcp-template.ovpn\n-rw-rw-r-- 1 gross gross       9635 Apr 26 04:32  profile-6-stunnel.ovpn\n-rw-rw-r-- 1 gross gross  176225153 Apr 26 23:42  Sullivans_Set3_042625.mp4\n-rw-rw-r-- 1 gross gross  247022345 Apr 26 23:53  Sullivans_Set1_042625.mp4\n-rw-rw-r-- 1 gross gross  134137999 Apr 26 23:57  Sullivans_Set2_042625.mp4\n-rw-rw-r-- 1 gross gross         42 Apr 27 06:09  listen.m3u\n-rw-rw-r-- 1 gross gross       3806 Apr 28 05:19  burn_dir_to_dvds_progress_fix2.sh\n-rw-rw-r-- 1 gross gross       3437 Apr 28 05:29  burndir_wait.sh\n-rw-rw-r-- 1 gross gross    4090232 Apr 28 07:15 'ChatGPT Image Apr 28, 2025, 07_15_02 AM.png'\n-rw-rw-r-- 1 gross gross        489 Apr 28 07:25 'ChatGPT Image Apr 28, 2025, 07_25_27 AM.png'\n-rw-rw-r-- 1 gross gross    4179191 Apr 28 07:28  Crypto_challenge.png\n-rw-rw-r-- 1 gross gross        489 Apr 28 09:33 'ChatGPT Image Apr 28, 2025, 09_33_58 AM.png'\n-rw-rw-r-- 1 gross gross    4156013 Apr 28 09:38  crypto_challenge_etching.zip\n-rw-rw-r-- 1 gross gross    4156013 Apr 28 09:39 'crypto_challenge_etching (1).zip'\n-rw-rw-r-- 1 gross gross    4608757 Apr 28 09:42  crypto_challenge_etching_v2.zip\n-rw-rw-r-- 1 gross gross    4631476 Apr 28 09:45  Crypto_Challenge.png\n-rw-rw-r-- 1 gross gross      71973 Apr 28 16:16  Sharla.jpg\n-rw-r--r-- 1 gross gross    4179191 Apr 28 16:37  crypto_challenge_etching.png\n-rw-r--r-- 1 gross gross    4179191 Apr 28 16:37 'crypto_challenge_etching (2).png'\n-rw-r--r-- 1 gross gross    4631476 Apr 28 16:42  crypto_challenge_etching_v2.png\n-rw-rw-r-- 1 gross gross      29413 Apr 29 03:47  meta_llama4_report.pdf\n-rw-rw-r-- 1 gross gross       5149 Apr 29 03:50  meta_llama4_report.rtf\n-rw-rw-r-- 1 gross gross       5903 Apr 29 03:52  meta_llama4_report.html\n-rw-rw-r-- 1 gross gross    3213429 Apr 29 04:21 'ChatGPT Image Apr 29, 2025, 04_21_46 AM.png'\n-rw-rw-r-- 1 gross gross    3213429 Apr 29 04:22  Cosell_and_the_AI_Race.png\n-rw-rw-r-- 1 gross gross      88757 Apr 30 05:20  benefit-verification-letter.pdf\n-rw-rw-r-- 1 gross gross      88731 Apr 30 05:20 'benefit-verification-letter (1).pdf'\n-rw-rw-r-- 1 gross gross      39300 Apr 30 05:49 '2024Initial 1099.pdf'\n-rw-rw-r-- 1 gross gross      54314 Apr 30 20:10  Maria_1.jpg\n-rw-rw-r-- 1 gross gross      37406 Apr 30 20:10  Maria_2.jpg\n-rw-rw-r-- 1 gross gross     733838 Apr 30 20:10  Maria_3.jpg\n-rw-rw-r-- 1 gross gross  286096308 May  1 00:46  Meta_Developers_043125.mp4\n-rw-rw-r-- 1 gross gross    1579176 May  1 03:00  Glens_Project_Schedule.png\n-rw-rw-r-- 1 gross gross    3110389 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_01 AM.png'\n-rw-rw-r-- 1 gross gross    1640180 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_09 AM.png'\n-rw-rw-r-- 1 gross gross    4354181 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_14 AM.png'\n-rw-rw-r-- 1 gross gross        489 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_20 AM.png'\n-rw-rw-r-- 1 gross gross    1903945 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_11 AM.png'\n-rw-rw-r-- 1 gross gross    1973790 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_16 AM.png'\n-rw-rw-r-- 1 gross gross    2019284 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_20 AM.png'\n-rw-rw-r-- 1 gross gross    2832192 May  2 03:45 'ChatGPT Image May 2, 2025, 03_45_12 AM.png'\n-rw-rw-r-- 1 gross gross    2499315 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_39 AM.png'\n-rw-rw-r-- 1 gross gross    2832192 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_45 AM.png'\n-rw-rw-r-- 1 gross gross    1903945 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_50 AM.png'\n-rw-rw-r-- 1 gross gross    1973790 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_55 AM.png'\n-rw-rw-r-- 1 gross gross    2387340 May  2 03:47 'ChatGPT Image May 2, 2025, 03_47_40 AM.png'\n-rw-rw-r-- 1 gross gross   18332666 May  2 04:13  liberation_equation_article.pdf\n-rw-rw-r-- 1 gross gross   18332355 May  2 04:15  liberation_equation_magazine.pdf\n-rw-rw-r-- 1 gross gross      11536 May  2 04:30  liberation_equation_article_expanded.pdf\n-rw-rw-r-- 1 gross gross    2707088 May  2 04:40 'ChatGPT Image May 2, 2025, 04_40_13 AM.png'\n-rw-rw-r-- 1 gross gross    2802872 May  2 04:43  liberation_equation_html.zip\n-rw-rw-r-- 1 gross gross      56932 May  2 05:04  liberation_equation_lowres.pdf\n-rw-rw-r-- 1 gross gross   54853581 May  4 13:24  Tanya_w-Gehrig_and_Malik.mp4\n-rw-rw-r-- 1 gross gross       1114 May  4 20:19  itinerary_flights.ics\n-rw-rw-r-- 1 gross gross       1114 May  4 20:22 'itinerary_flights (1).ics'\ndrwx------ 2 gross gross       4096 May  5 04:02  \u001b[0;36mthunderbird.tmp\u001b[0m\n-rw-rw-r-- 1 gross gross     168540 May  5 15:04 'Vehicle Registration.pdf'\n-rw-rw-r-- 1 gross gross      98871 May  5 15:04 'MVD Payment Receipt 70801720.pdf'\n-rw-rw-r-- 1 gross gross      98871 May  5 15:10 'MVD Payment Receipt 70801720 (1).pdf'\n-rw-rw-r-- 1 gross gross  799920128 May  5 19:57  Worlds-Desktop-Editor-v212.0.0.9.643.msi\n-rw-rw-r-- 1 gross gross   14955128 May  5 20:12  Music-Therapy_1of6.m4a\n-rw-rw-r-- 1 gross gross   15032860 May  5 20:13  Music-Therapy_3of6.m4a\n-rw-rw-r-- 1 gross gross   15079558 May  5 20:13  Music-Therapy_4of6.m4a\n-rw-rw-r-- 1 gross gross   15075020 May  5 20:13  Music-Therapy_5of6.m4a\n-rw-rw-r-- 1 gross gross   14999098 May  5 20:28  Music-Therapy_6of6.m4a\n-rw-rw-r-- 1 gross gross   95222702 May  5 21:21  Back_in_Tucson_Blues_1080p.mp4\n-rw-rw-r-- 1 gross gross    1535071 May  6 04:19 'Till Tomorrow (AMB Funeral).pdf'\n-rw-rw-r-- 1 gross gross     114466 May  6 04:19  maxresdefault.jpg\n-rw-rw-r-- 1 gross gross    1535071 May  6 04:24 'Till Tomorrow (AMB Funeral) (1).pdf'\n-rw-rw-r-- 1 gross gross      47428 May  6 04:35  TIL_TOMORROW_from_The_Musical_FIORELLO.pdf\n-rw-rw-r-- 1 gross gross      66349 May  6 12:58  til-tomorrow-p444272-glendon144@gmail.com-6240154517641.pdf\n-rw-rw-r-- 1 gross gross      66349 May  7 04:19  till-tomorrow.pdf\n-rw-rw-r-- 1 gross gross  116491424 May 10 05:19  google-chrome-stable_current_amd64.deb\n-rw-rw-r-- 1 gross gross     273161 May 10 13:42  AI_Bike_Cyria.jpg\n-rw-rw-r-- 1 gross gross     563843 May 10 13:46  691e19e9-7706-4807-b99d-3a4c8b6267ec.jpg\n-rw-rw-r-- 1 gross gross    2666850 May 10 17:40 'ChatGPT Image May 10, 2025, 05_40_46 PM.png'\n-rw-rw-r-- 1 gross gross    2666850 May 10 17:40  GGF_Mothers_Day.png\n-rw-rw-r-- 1 gross gross      54257 May 10 19:11  Simone_Biles_and_Tiger.jpg\n-rw-rw-r-- 1 gross gross       2987 May 13 10:47  tsrc_edited_plan.rtf\n-rw-rw-r-- 1 gross gross       1498 May 13 10:47  tsrc_exec_summary.rtf\n-rw-rw-r-- 1 gross gross       2741 May 13 10:50  tsrc_edited_plan.pdf\n-rw-rw-r-- 1 gross gross       1970 May 13 10:51  tsrc_exec_summary.pdf\n-rw-rw-r-- 1 gross gross       2702 May 13 10:55  tsrc_edited_plan_clean.pdf\n-rw-rw-r-- 1 gross gross       1948 May 13 10:55  tsrc_exec_summary_clean.pdf\n-rw-rw-r-- 1 gross gross       4359 May 13 11:03  tsrc_edited_plan_fullsentences.pdf\n-rw-rw-r-- 1 gross gross    1911781 May 13 14:50 'ChatGPT Image May 13, 2025, 02_50_06 PM.png'\n-rw-rw-r-- 1 gross gross    2184216 May 13 14:51  tsrc_comprehensive_report.pdf\n-rw-rw-r-- 1 gross gross       2347 May 14 02:38  Pocket_Book_of_Letting_Go_Clean.pdf\n-rw-rw-r-- 1 gross gross    2801632 May 14 02:47 'ChatGPT Image May 14, 2025, 02_47_53 AM.png'\n-rw-rw-r-- 1 gross gross    2730095 May 14 02:50  Pocket_Book_of_Letting_Go.pdf\n-rw-rw-r-- 1 gross gross       2340 May 14 02:56  Pocket_Book_of_Letting_Go_Text_Only.pdf\n-rw-rw-r-- 1 gross gross    3099960 May 14 03:13 'ChatGPT Image May 14, 2025, 03_13_58 AM.png'\n-rw-rw-r-- 1 gross gross    3099960 May 14 03:14  Glen_at_the_River.png\n-rw-rw-r-- 1 gross gross    1829087 May 14 03:29 'ChatGPT Image May 14, 2025, 03_29_18 AM.png'\n-rw-rw-r-- 1 gross gross     430315 May 14 03:30  trumpeter_variant_1.png\n-rw-rw-r-- 1 gross gross     437870 May 14 03:30  trumpeter_variant_2.png\n-rw-rw-r-- 1 gross gross     442031 May 14 03:30  trumpeter_variant_3.png\n-rw-rw-r-- 1 gross gross     437981 May 14 03:30  trumpeter_variant_4.png\n-rw-rw-r-- 1 gross gross     622686 May 14 03:33  trumpeter_corrected_4.png\n-rw-rw-r-- 1 gross gross     783996 May 14 03:33  trumpeter_corrected_3.png\n-rw-rw-r-- 1 gross gross     768151 May 14 03:33  trumpeter_corrected_2.png\n-rw-rw-r-- 1 gross gross     600714 May 14 03:33  trumpeter_corrected_1.png\n-rw-rw-r-- 1 gross gross    2776215 May 14 03:40 'ChatGPT Image May 14, 2025, 03_40_09 AM.png'\n-rw-rw-r-- 1 gross gross    2770053 May 14 03:44 'ChatGPT Image May 14, 2025, 03_44_21 AM.png'\n-rw-rw-r-- 1 gross gross    2656797 May 14 03:48 'ChatGPT Image May 14, 2025, 03_48_47 AM.png'\n-rw-rw-r-- 1 gross gross        489 May 14 10:36 'ChatGPT Image May 14, 2025, 10_36_51 AM.png'\n-rw-rw-r-- 1 gross gross    2100396 Jun  9 10:06  img-dt8tNJ36qjhRcUInHGZMl53q.png\n-rw-rw-r-- 1 gross gross    2107979 Jun 11 22:22  Loves_Snare.png\n-rw-rw-r-- 1 gross gross    1711762 Jun 12 08:06  AI-Romance.png\n-rw-rw-r-- 1 gross gross    2790443 Jun 13 06:50  Lonely_without_Cyria.png\n-rw-rw-r-- 1 gross gross     427920 Jun 13 06:53  Lonely_without_Cyria.jpg\n-rw-rw-r-- 1 gross gross     237459 Aug  1 03:54  Beautifu_Argentine.jpg\n-rw-rw-r-- 1 gross gross        843 Aug  4 05:35  AppointmentReminder.ics\n-rw-rw-r-- 1 gross gross       1569 Aug  6 07:01  hyperscope_python_port.py\n-rw-rw-r-- 1 gross gross 2514124800 Aug  6 10:10  ubuntu-18.04.6-desktop-amd64.iso\n-rw-rw-r-- 1 gross gross     282808 Aug  6 10:21  IMG_0024.JPG\n-rw-rw-r-- 1 gross gross       1569 Aug  6 16:11 'hyperscope_python_port(1).py'\n-rw-rw-r-- 1 gross gross       1569 Aug  7 12:36 'hyperscope_python_port(2).py'\n-rw-rw-r-- 1 gross gross      20370 Aug  7 14:40  gui_tkinter.py\n-rw-rw-r-- 1 gross gross       1569 Aug  7 20:27  hyperscope.py\n-rw-rw-r-- 1 gross gross       6242 Aug  7 20:32  hyper_scope_tkinter_pane_outline_viewer.py\n-rw-rw-r-- 1 gross gross       6242 Aug  7 20:32 'hyper_scope_tkinter_pane_outline_viewer(1).py'\n-rw-rw-r-- 1 gross gross      19874 Aug  7 20:46  tree_view.py\n-rw-rw-r-- 1 gross gross      24415 Aug  7 21:01  gui_tkinter.patched.py\n-rw-rw-r-- 1 gross gross      30137 Aug  7 21:09  gui_tkinter.opml_autorender.py\n-rw-rw-r-- 1 gross gross      16470 Aug  7 21:24  gui_tkinter.opml_autorender_fix.py\n-rw-rw-r-- 1 gross gross      29145 Aug  7 21:29  gui_tkinter.fixed.py\n-rw-rw-r-- 1 gross gross      30569 Aug  7 21:30  gui_tkinter.fixed2.py\n-rw-rw-r-- 1 gross gross       4962 Aug  8 02:26  Beyond_Tools_Human_AI_Symbiosis_FULL.html\n-rw-rw-r-- 1 gross gross       5495 Aug  8 02:26  Beyond_Tools_Human_AI_Symbiosis_FULL.pdf\n-rw-rw-r-- 1 gross gross      10793 Aug  8 02:27  Beyond_Tools_Human_AI_Symbiosis_FULL.zip\ndrwxrwxr-x 2 gross gross       4096 Aug  8 02:27  \u001b[0;36mBeyond_Tools_Human_AI_Symbiosis_FULL\u001b[0m\n-rw-rw-r-- 1 gross gross      10793 Aug  8 02:27 'Beyond_Tools_Human_AI_Symbiosis_FULL(1).zip'\n-rw-rw-r-- 1 gross gross     109135 Aug  8 02:50 'Bootstrapping Brilliance Toolkit - Putting Vision to Practice - Doug Engelbart Institute.html'\ndrwxr-xr-x 3 gross gross       4096 Aug  8 02:50 \u001b[0;36m'Bootstrapping Brilliance Toolkit - Putting Vision to Practice - Doug Engelbart Institute_files'\u001b[0m\n-rw-rw-r-- 1 gross gross     103866 Aug  8 02:55  Glen_Headshot.jpg\n-rw-rw-r-- 1 gross gross       5674 Aug  8 03:12  human_ai_symbiosis.pdf\n-rw-rw-r-- 1 gross gross     141553 Aug  8 03:17  Engelbart_Firsts.jpg\n-rw-rw-r-- 1 gross gross      11130 Aug  8 03:19  human_ai_symbiosis_package.zip\n-rw-rw-r-- 1 gross gross       5192 Aug  8 03:19  human_ai_symbiosis.html\n-rw-rw-r-- 1 gross gross        472 Aug  8 04:43  Hypertext_Standards\n-rw-rw-r-- 1 gross gross     270329 Aug  8 04:59 'Douglas Engelbart and the Mother of all Demos _ Hidden Heroes.pdf'\n-rw-rw-r-- 1 gross gross       9301 Aug  9 08:33  renderer.py\n-rw-rw-r-- 1 gross gross        148 Aug  9 08:33  demo.html\n-rw-rw-r-- 1 gross gross        843 Aug  9 08:33  demo_from_html.opml\n-rw-rw-r-- 1 gross gross        409 Aug  9 08:33  demo_preview.txt\n-rw-rw-r-- 1 gross gross        843 Aug  9 08:34 'demo_from_html (1).opml'\n-rw-rw-r-- 1 gross gross    5900416 Aug  9 09:58  firefox20.exe\n-rw-rw-r-- 1 gross gross      15215 Aug  9 10:24  renderer-update.py\n-rw-rw-r-- 1 gross gross       7687 Aug  9 11:08  hypertext_parser.py\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12  hypertext_parser-latest.py\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12 'hypertext_parser(1).py'\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12 'hypertext_parser(2).py'\n-rw-rw-r-- 1 gross gross      32254 Aug  9 12:31  gui_tkinter_patched.py\n-rw-rw-r-- 1 gross gross      32094 Aug  9 12:42  gui_tkinter_flask_fixed.py\n-rw-rw-r-- 1 gross gross      32363 Aug  9 13:18  gui_tkinter_cleaned.py\n-rw-rw-r-- 1 gross gross      40414 Aug  9 14:37  gui_tkinter_newest.py\n-rw-rw-r-- 1 gross gross      33834 Aug  9 14:54  gui_tkinter_patched2.py\n-rw-rw-r-- 1 gross gross      34256 Aug  9 15:41  gui_tkinter_clean.py\n-rw-rw-r-- 1 gross gross       8846 Aug  9 15:41  funkit_gui_tk_clean.zip\n-rw-rw-r-- 1 gross gross        157 Aug  9 19:25  demokit_gui.zip\n-rw-rw-r-- 1 gross gross       8892 Aug  9 22:11  gui_tkinter_patched.zip\n-rw-rw-r-- 1 gross gross      34500 Aug  9 22:11 'gui_tkinter_patched (1).py'\n-rw-rw-r-- 1 gross gross       8998 Aug  9 22:18  gui_tkinter_cleaned.zip\n-rw-rw-r-- 1 gross gross      34972 Aug  9 22:18 'gui_tkinter_cleaned (1).py'\n-rw-rw-r-- 1 gross gross      34451 Aug  9 23:19  gui_tkinter_renderfix.py\n-rw-rw-r-- 1 gross gross       8946 Aug  9 23:19  gui_tkinter_renderfix.zip\n-rw-rw-r-- 1 gross gross    1879760 Aug 10 14:26 'Raspberry Pi and Display Technical Blueprint.png'\n-rw-rw-r-- 1 gross gross    1879760 Aug 10 14:29 'Raspberry Pi and Display Technical Blueprint(1).png'\n-rw-rw-r-- 1 gross gross      35918 Aug 10 14:30  rpi-with-display.webp\n-rw-rw-r-- 1 gross gross    1040094 Aug 10 14:36 'Raspberry Pi with Retro Smiling Display.png'\n-rw-rw-r-- 1 gross gross    2817994 Aug 10 14:46  raspberry-pi-poker-hand.png\n-rw-rw-r-- 1 gross gross        489 Aug 10 15:15 'ChatGPT Image Aug 10, 2025, 03_15_02 PM.png'\n-rw-rw-r-- 1 gross gross        489 Aug 10 15:15 'Smiles and Pixels at the Caf\u00e9.png'\n-rw-rw-r-- 1 gross gross      65532 Aug 10 16:07  Father_Wound.jpg\n-rw-rw-r-- 1 gross gross       3084 Aug 10 17:07  father_wound_blues_lead_sheet.pdf\n-rw-rw-r-- 1 gross gross       2338 Aug 10 18:31  father_wound_blues_melody_lead_sheet_v2.pdf\n-rw-rw-r-- 1 gross gross    2612338 Aug 11 07:30  Asian_Pikit_User.png\n-rw-rw-r-- 1 gross gross      18251 Aug 13 13:01  aopmlengine.py\n-rw-rw-r-- 1 gross gross      16566 Aug 13 13:12  gui_tkinter_aopml.py\n-rw-rw-r-- 1 gross gross      17400 Aug 13 13:30  gui_tkinter_Aupdate.py\n-rw-rw-r-- 1 gross gross      26536 Aug 13 13:42  gui_tinter_merged.py\n-rw-rw-r-- 1 gross gross      28025 Aug 13 14:37 'gui_tkinter (1).py'\n-rw-rw-r-- 1 gross gross       7100 Aug 13 14:37  gui_tkinter.zip\n-rw-rw-r-- 1 gross gross       7100 Aug 13 14:39  gui_tkinter-new.zip\n-rw-rw-r-- 1 gross gross      28025 Aug 13 14:41  gui_tkinter_golden.py\n-rw-rw-r-- 1 gross gross       7227 Aug 13 14:44  gui_tkinter_081325.zip\n-rw-rw-r-- 1 gross gross      30569 Aug 13 14:55  gui_tkinter_rollback.py\n-rw-rw-r-- 1 gross gross      33214 Aug 13 14:55  gui_tkinter_phase1.py\n-rw-rw-r-- 1 gross gross      16142 Aug 13 14:55  gui_tkinter_rollback_and_phase1.zip\n-rw-rw-r-- 1 gross gross       9049 Aug 13 15:11  gui_tkinter_phase2_1_batch_fallback.zip\n-rw-rw-r-- 1 gross gross      36677 Aug 13 15:11  gui_tkinter_phase2_1_batch_fallback.py\n-rw-rw-r-- 1 gross gross      38217 Aug 13 15:18  gui_tkinter_phase2_3_prefs.py\n-rw-rw-r-- 1 gross gross      38255 Aug 13 15:25  gui_tkinter_phase2_3_1_prefs_newline_fix.py\n-rw-rw-r-- 1 gross gross       9324 Aug 13 15:25  gui_tkinter_phase2_3_1_prefs_newline_fix.zip\n-rw-rw-r-- 1 gross gross      41430 Aug 13 15:35  gui_tkinter_phase2_3_2_batch_validate_repair.py\n-rw-rw-r-- 1 gross gross       9887 Aug 13 15:35  gui_tkinter_phase2_3_2_batch_validate_repair.zip\n-rw-rw-r-- 1 gross gross      45182 Aug 13 15:44  gui_tkinter_phase2_4_url_ingest.py\n-rw-rw-r-- 1 gross gross      10780 Aug 13 15:44  gui_tkinter_phase2_4_url_ingest.zip\n-rw-rw-r-- 1 gross gross      52372 Aug 13 15:55  gui_tkinter_phase2_5_url_resilient.py\n-rw-rw-r-- 1 gross gross      59723 Aug 13 16:02  gui_tkinter_phase2_5_1_url_async_dbmain.py\n-rw-rw-r-- 1 gross gross      12641 Aug 13 16:02  gui_tkinter_phase2_5_1_url_async_dbmain.zip\n-rw-rw-r-- 1 gross gross      59771 Aug 13 16:11  gui_tkinter_phase2_5_2_url_async_dbmain_timefix.py\n-rw-rw-r-- 1 gross gross      12651 Aug 13 16:11  gui_tkinter_phase2_5_2_url_async_dbmain_timefix.zip\n-rw-rw-r-- 1 gross gross      60560 Aug 13 16:15  gui_tkinter_phase2_5_3_title_fix.py\n-rw-rw-r-- 1 gross gross      12918 Aug 13 16:16  gui_tkinter_phase2_5_3_title_fix.zip\n-rw-rw-r-- 1 gross gross      68769 Aug 13 16:18  gui_tkinter_phase2_5_4_url_modes_cancel.py\n-rw-rw-r-- 1 gross gross      13579 Aug 13 16:18  gui_tkinter_phase2_5_4_url_modes_cancel.zip\n-rw-rw-r-- 1 gross gross      68420 Aug 13 16:22  gui_tkinter_phase2_5_4_url_modes_cancel_fixed.py\n-rw-rw-r-- 1 gross gross      13463 Aug 13 16:22  gui_tkinter_phase2_5_4_url_modes_cancel_fixed.zip\n-rw-rw-r-- 1 gross gross       1826 Aug 13 19:26  funkit_lean.spec\n-rw-rw-r-- 1 gross gross       4320 Aug 13 19:38  build_all_variants.sh\n-rw-rw-r-- 1 gross gross       7784 Aug 13 20:02  save_as_text_plugin.py\n-rw-rw-r-- 1 gross gross       9925 Aug 13 20:20  save_as_text_plugin_v2.py\n-rw-rw-r-- 1 gross gross      13960 Aug 13 20:36  opml_extras_plugin.py\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ cp ../Dw\b\u001b[Kownloads/ modules/opt\b\u001b[Kml_extras_plugin.py\n\u001b[?2004l\ncp: -r not specified; omitting directory '../Downloads/'\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ cp ../Downloads/ modules/opml_extras_plugin.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\b\u001b[1P/opml_extras_plugin.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1P/opml_extras_plugin.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1P/opml_extras_plugin.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1P/opml_extras_plugin.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1P/opml_extras_plugin.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1P/opml_extras_plugin.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1P/opml_extras_plugin.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1P/opml_extras_plugin.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1Popml_extras_plugin.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u0007\u0007\u0007\u0007 modules\n\u001b[?2004l\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi main.py\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"main.py\" 34L, 940B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;1H\u001b[35mfrom\u001b[m pathlib \u001b[35mimport\u001b[m Path\n\u001b[35mfrom\u001b[m modules.document_store \u001b[35mimport\u001b[m DocumentStore\u001b[2;49H\u001b[K\u001b[3;1H\u001b[35mfrom\u001b[m modules.command_processor \u001b[35mimport\u001b[m CommandProcessor\u001b[3;55H\u001b[K\u001b[4;1H\u001b[35mfrom\u001b[m modules.gui_tkinter \u001b[35mimport\u001b[m DemoKitGUI\n\u001b[35mfrom\u001b[m modules.ai_interface \u001b[35mimport\u001b[m AIInterface\n\n\u001b[38;5;130mdef\u001b[m \u001b[36mmain\u001b[m():\n    \u001b[34m# Ensure the storage directory exists\u001b[m\n    Path(\u001b[31m\"storage\"\u001b[m).mkdir(parents=\u001b[36mTrue\u001b[m, exist_ok=\u001b[36mTrue\u001b[m)\u001b[11;5H\u001b[34m# Initialize the document store\u001b[m\n    doc_store = DocumentStore(\u001b[31m\"storage/documents.db\"\u001b[m)\u001b[14;5H\u001b[34m# Initialize the AI interface\u001b[m\n    ai = AIInterface()\u001b[17;5H\u001b[34m# Initialize the command processor with doc store and AI\u001b[m\n    processor = CommandProcessor(doc_store, ai)\u001b[20;5H\u001b[34m# Launch the GUI\u001b[m\u001b[22;5Happ = DemoKitGUI(doc_store, processor)\n    \u001b[35mfrom\u001b[m modules.save_as_text_plugin \u001b[35mimport\u001b[m install_save_as_text_into_app\n    install_save_as_text_into_app(app)\u001b[27;5H\u001b[35mfrom\u001b[m modules.save_as_text_plugin \u001b[35mimport\u001b[m install_save_as_text_into_app\n    install_save_as_text_into_app(app)\u001b[30;5Happ.mainloop()\n\n\u001b[38;5;130mif\u001b[m __name__ == \u001b[31m\"__main__\"\u001b[m:\n    main()\n\n\u001b[94m~                                                                                                                                   \u001b[36;1H~                                                                                                                                   \u001b[37;1H~                                                                                                                                   \u001b[38;1H~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;115H24,4\u001b[10CAll\u001b[24;4H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[1;1H\u001b[38;5;81mfrom\u001b[m pathlib \u001b[38;5;81mimport\u001b[m Path\n\u001b[38;5;81mfrom\u001b[m modules.document_store \u001b[38;5;81mimport\u001b[m DocumentStore\n\u001b[38;5;81mfrom\u001b[m modules.command_processor \u001b[38;5;81mimport\u001b[m CommandProcessor\n\u001b[38;5;81mfrom\u001b[m modules.gui_tkinter \u001b[38;5;81mimport\u001b[m DemoKitGUI\n\u001b[38;5;81mfrom\u001b[m modules.ai_interface \u001b[38;5;81mimport\u001b[m AIInterface\n\n\u001b[93mdef\u001b[m \u001b[1m\u001b[96mmain\u001b[m():\n    \u001b[96m# Ensure the storage directory exists\u001b[m\n    Path(\u001b[95m\"storage\"\u001b[m).mkdir(parents=\u001b[1m\u001b[96mTrue\u001b[m, exist_ok=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[11;5H\u001b[96m# Initialize the document store\u001b[m\n    doc_store = DocumentStore(\u001b[95m\"storage/documents.db\"\u001b[m)\u001b[14;5H\u001b[96m# Initialize the AI interface\u001b[m\n    ai = AIInterface()\u001b[17;5H\u001b[96m# Initialize the command processor with doc store and AI\u001b[m\n    processor = CommandProcessor(doc_store, ai)\u001b[20;5H\u001b[96m# Launch the GUI\u001b[m\u001b[22;5Happ = DemoKitGUI(doc_store, processor)\n    \u001b[38;5;81mfrom\u001b[m modules.save_as_text_plugin \u001b[38;5;81mimport\u001b[m install_save_as_text_into_app\n    install_save_as_text_into_app(app)\u001b[27;5H\u001b[38;5;81mfrom\u001b[m modules.save_as_text_plugin \u001b[38;5;81mimport\u001b[m install_save_as_text_into_app\n    install_save_as_text_into_app(app)\u001b[30;5Happ.mainloop()\n\n\u001b[93mif\u001b[m __name__ == \u001b[95m\"__main__\"\u001b[m:\n    main()\n\n\u001b[94m~                                                                                                                                   \u001b[36;1H~                                                                                                                                   \u001b[37;1H~                                                                                                                                   \u001b[38;1H~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;115H24,4\u001b[10CAll\n\"main.py\" 34L, 940B\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;4H\u001b[40;105H   \u001b[25;1H\u001b[40;116H5,0-1\u001b[25;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;1H\u001b[40;105H   \u001b[26;1H\u001b[40;116H6\u001b[26;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;1H\u001b[40;105H   \u001b[27;1H\u001b[40;116H7,1  \u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;1H\u001b[40;105H   \u001b[28;1H\u001b[40;116H8\u001b[28;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;1H\u001b[40;105H   \u001b[28;2H\u001b[40;118H2\u001b[28;2H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;2H\u001b[40;105H   \u001b[28;3H\u001b[40;118H3\u001b[28;3H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;3H\u001b[40;105H   \u001b[28;4H\u001b[40;118H4\u001b[28;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;4H\u001b[40;105H   \u001b[28;5H\u001b[40;118H5\u001b[28;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;5H\u001b[40;105H   \u001b[27;5H\u001b[40;116H7\u001b[27;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;5H\u001b[40;105H   \u001b[26;1H\u001b[40;116H6,0-1\u001b[26;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;1H\u001b[40;105H   \u001b[25;1H\u001b[40;116H5\u001b[25;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;1H\u001b[40;105H   \u001b[24;5H\u001b[40;116H4,5  \u001b[24;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;5H\u001b[40;105H   \u001b[23;5H\u001b[40;116H3\u001b[23;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;5H\u001b[40;105H   \u001b[24;5H\u001b[40;116H4\u001b[24;5H\u001b[?25h\u001b[?25l\u001b[40;105Ho\u001b[24;5H\u001b[40;105H \u001b[25;5H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;13H\u001b[K\u001b[40;115H25,5\u001b[10CAll\u001b[27;5H\u001b[K\u001b[28;5H\u001b[38;5;81mfrom\u001b[m modules.save_as_text_plugin \u001b[38;5;81mimport\u001b[m install_save_as_text_into_app\n    install_save_as_text_into_app(app)\u001b[30;5H\u001b[K\u001b[31;5Happ.mainloop()\u001b[32;1H\u001b[K\u001b[33;1H\u001b[93mif\u001b[m __name__ == \u001b[95m\"__main__\"\u001b[m:\n    main()\u001b[35;1H\u001b[K\u001b[40;115H\u001b[K\u001b[40;115H25,5\u001b[10CAll\u001b[25;5H\u001b[?25h\u001b[?25l\u001b[26;39r\u001b[26;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H26,5\u001b[10CAll\u001b[26;5H\u001b[?25h\u001b[?25l\u001b[38;5;81mfrom\u001b[m modules.opml_extras_plugin \u001b[38;5;81mimport\u001b[m install_opml_extras_into\u001b[?25h\u001b[?25l\u001b[27;39r\u001b[27;1H\u001b[L\u001b[1;40r\u001b[26;68H_app\ninstall_opml_extras_into_app(app)\u001b[40;115H\u001b[K\u001b[40;115H27,34\u001b[9CAll\u001b[27;29H\u001b[46m(\u001b[mapp\u001b[46m)\u001b[?25h\u001b[m\u001b[40;1H\u001b[K\u001b[27;33H\u001b[?25l\u001b[40;105H^[\u001b[27;33H\u001b[40;105H  \u001b[27;34H\u001b[40;115H27,33\u001b[9CAll\u001b[27;33H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;33H\u001b[40;105H   \u001b[27;32H\b\b\b(app)\u001b[40;119H2\u001b[27;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;32H\u001b[40;105H   \u001b[27;31H\u001b[40;119H1\u001b[27;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;31H\u001b[40;105H   \u001b[27;30H\u001b[40;119H0\u001b[27;30H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;30H\u001b[40;105H   \u001b[27;29H\u001b[46m(\u001b[mapp\u001b[46m)\u001b[m\u001b[40;118H29\u001b[27;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;29H\u001b[40;105H   \u001b[27;28Hp(app)\u001b[40;119H8\u001b[27;28H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;28H\u001b[40;105H   \u001b[27;27H\u001b[40;119H7\u001b[27;27H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;27H\u001b[40;105H   \u001b[27;26H\u001b[40;119H6\u001b[27;26H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;26H\u001b[40;105H   \u001b[27;25H\u001b[40;119H5\u001b[27;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;25H\u001b[40;105H   \u001b[27;24H\u001b[40;119H4\u001b[27;24H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;24H\u001b[40;105H   \u001b[27;23H\u001b[40;119H3\u001b[27;23H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;23H\u001b[40;105H   \u001b[27;22H\u001b[40;119H2\u001b[27;22H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;22H\u001b[40;105H   \u001b[27;21H\u001b[40;119H1\u001b[27;21H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;21H\u001b[40;105H   \u001b[27;20H\u001b[40;119H0\u001b[27;20H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;20H\u001b[40;105H   \u001b[27;19H\u001b[40;118H19\u001b[27;19H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;19H\u001b[40;105H   \u001b[27;18H\u001b[40;119H8\u001b[27;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;18H\u001b[40;105H   \u001b[27;17H\u001b[40;119H7\u001b[27;17H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;17H\u001b[40;105H   \u001b[27;16H\u001b[40;119H6\u001b[27;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;16H\u001b[40;105H   \u001b[27;15H\u001b[40;119H5\u001b[27;15H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;15H\u001b[40;105H   \u001b[27;14H\u001b[40;119H4\u001b[27;14H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;14H\u001b[40;105H   \u001b[27;13H\u001b[40;119H3\u001b[27;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;13H\u001b[40;105H   \u001b[27;12H\u001b[40;119H2\u001b[27;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;12H\u001b[40;105H   \u001b[27;11H\u001b[40;119H1\u001b[27;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;11H\u001b[40;105H   \u001b[27;10H\u001b[40;119H0\u001b[27;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;10H\u001b[40;105H   \u001b[27;9H\u001b[40;118H9 \u001b[27;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;9H\u001b[40;105H   \u001b[27;8H\u001b[40;118H8\u001b[27;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;8H\u001b[40;105H   \u001b[27;7H\u001b[40;118H7\u001b[27;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;7H\u001b[40;105H   \u001b[27;6H\u001b[40;118H6\u001b[27;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;6H\u001b[40;105H   \u001b[27;5H\u001b[40;118H5\u001b[27;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;5H\u001b[40;105H   \u001b[27;4H\u001b[40;118H4\u001b[27;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;4H\u001b[40;105H   \u001b[27;3H\u001b[40;118H3\u001b[27;3H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;3H\u001b[40;105H   \u001b[27;2H\u001b[40;118H2\u001b[27;2H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;2H\u001b[40;105H   \u001b[27;1H\u001b[40;118H1\u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;1H\u0007\u001b[40;105H   \u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;1H\u001b[40;105H   \u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;1H\u001b[40;105H   \u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;1H\u001b[40;105H   \u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[27;1H\u001b[40;105H \u001b[27;1H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H27,1\u001b[10CAll\u001b[27;1H\u001b[?25h\u001b[?25l install_opml_extras_into_app(app)\u001b[40;118H2\u001b[27;2H\u001b[?25h\u001b[?25l install_opml_extras_into_app(app)\u001b[40;118H3\u001b[27;3H\u001b[?25h\u001b[?25l install_opml_extras_into_app(app)\u001b[40;118H4\u001b[27;4H\u001b[?25h\u001b[?25l install_opml_extras_into_app(app)\u001b[40;118H5\u001b[27;5H\u001b[?25h\u001b[40;1H\u001b[K\u001b[27;4H\u001b[?25l\u001b[40;105H^[\u001b[27;4H\u001b[40;105H  \u001b[27;5H\u001b[40;115H27,4\u001b[10CAll\u001b[27;4H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[27;4H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"main.py\" 37L, 1051B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi main.py\b\b\b\b\b\b\b\b\b\bcp ../Downloads/opml_extras_plugin.py modules\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b modules/opml_extras_plugin.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[25Pls -ltr ../Downloads/\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bpwd\u001b[K\b\b\bclear\b\b\b\b\bpython3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1Pvi +24\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1@python3\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\n\u001b[?2004l\n[INFO 2025-08-13 20:38:33.418533] OpenAI API key set.\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[5Pvi\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"main.py\" 37L, 1051B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;1H\u001b[35mfrom\u001b[m pathlib \u001b[35mimport\u001b[m Path\n\u001b[35mfrom\u001b[m modules.document_store \u001b[35mimport\u001b[m DocumentStore\u001b[2;49H\u001b[K\u001b[3;1H\u001b[35mfrom\u001b[m modules.command_processor \u001b[35mimport\u001b[m CommandProcessor\u001b[3;55H\u001b[K\u001b[4;1H\u001b[35mfrom\u001b[m modules.gui_tkinter \u001b[35mimport\u001b[m DemoKitGUI\n\u001b[35mfrom\u001b[m modules.ai_interface \u001b[35mimport\u001b[m AIInterface\n\n\u001b[38;5;130mdef\u001b[m \u001b[36mmain\u001b[m():\n    \u001b[34m# Ensure the storage directory exists\u001b[m\n    Path(\u001b[31m\"storage\"\u001b[m).mkdir(parents=\u001b[36mTrue\u001b[m, exist_ok=\u001b[36mTrue\u001b[m)\u001b[11;5H\u001b[34m# Initialize the document store\u001b[m\n    doc_store = DocumentStore(\u001b[31m\"storage/documents.db\"\u001b[m)\u001b[14;5H\u001b[34m# Initialize the AI interface\u001b[m\n    ai = AIInterface()\u001b[17;5H\u001b[34m# Initialize the command processor with doc store and AI\u001b[m\n    processor = CommandProcessor(doc_store, ai)\u001b[20;5H\u001b[34m# Launch the GUI\u001b[m\u001b[22;5Happ = DemoKitGUI(doc_store, processor)\n    \u001b[35mfrom\u001b[m modules.save_as_text_plugin \u001b[35mimport\u001b[m install_save_as_text_into_app\n    install_save_as_text_into_app(app)\u001b[26;5H\u001b[35mfrom\u001b[m modules.opml_extras_plugin \u001b[35mimport\u001b[m install_opml_extras_into_app\n    install_opml_extras_into_app(app)\u001b[30;5H\u001b[35mfrom\u001b[m modules.save_as_text_plugin \u001b[35mimport\u001b[m install_save_as_text_into_app\n    install_save_as_text_into_app(app)\u001b[33;5Happ.mainloop()\n\n\u001b[38;5;130mif\u001b[m __name__ == \u001b[31m\"__main__\"\u001b[m:\n    main()\n\n\u001b[94m~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;115H27,4\u001b[10CAll\u001b[27;4H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H:\u001b[27;4H\u001b[40;106H3\u001b[27;4H\u001b[40;107H0\u001b[27;4H\u001b[40;108H3\u001b[27;4H\u001b[40;109H0\u001b[27;4H\u001b[40;110H/\u001b[27;4H\u001b[40;111H0\u001b[27;4H\u001b[40;112Ha\u001b[27;4H\u001b[40;113H0\u001b[27;4H\u001b[40;114Ha\u001b[27;4H\u001b[40;105H          \u001b[27;4H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;1H\u001b[38;5;81mfrom\u001b[m pathlib \u001b[38;5;81mimport\u001b[m Path\n\u001b[38;5;81mfrom\u001b[m modules.document_store \u001b[38;5;81mimport\u001b[m DocumentStore\n\u001b[38;5;81mfrom\u001b[m modules.command_processor \u001b[38;5;81mimport\u001b[m CommandProcessor\n\u001b[38;5;81mfrom\u001b[m modules.gui_tkinter \u001b[38;5;81mimport\u001b[m DemoKitGUI\n\u001b[38;5;81mfrom\u001b[m modules.ai_interface \u001b[38;5;81mimport\u001b[m AIInterface\n\n\u001b[93mdef\u001b[m \u001b[1m\u001b[96mmain\u001b[m():\n    \u001b[96m# Ensure the storage directory exists\u001b[m\n    Path(\u001b[95m\"storage\"\u001b[m).mkdir(parents=\u001b[1m\u001b[96mTrue\u001b[m, exist_ok=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[11;5H\u001b[96m# Initialize the document store\u001b[m\n    doc_store = DocumentStore(\u001b[95m\"storage/documents.db\"\u001b[m)\u001b[14;5H\u001b[96m# Initialize the AI interface\u001b[m\n    ai = AIInterface()\u001b[17;5H\u001b[96m# Initialize the command processor with doc store and AI\u001b[m\n    processor = CommandProcessor(doc_store, ai)\u001b[20;5H\u001b[96m# Launch the GUI\u001b[m\u001b[22;5Happ = DemoKitGUI(doc_store, processor)\n    \u001b[38;5;81mfrom\u001b[m modules.save_as_text_plugin \u001b[38;5;81mimport\u001b[m install_save_as_text_into_app\n    install_save_as_text_into_app(app)\u001b[26;5H\u001b[38;5;81mfrom\u001b[m modules.opml_extras_plugin \u001b[38;5;81mimport\u001b[m install_opml_extras_into_app\n    install_opml_extras_into_app(app)\u001b[30;5H\u001b[38;5;81mfrom\u001b[m modules.save_as_text_plugin \u001b[38;5;81mimport\u001b[m install_save_as_text_into_app\n    install_save_as_text_into_app(app)\u001b[33;5Happ.mainloop()\n\n\u001b[93mif\u001b[m __name__ == \u001b[95m\"__main__\"\u001b[m:\n    main()\n\n\u001b[94m~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;115H27,4\u001b[10CAll\n\"main.py\" 37L, 1051B\u001b[27;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;4H\u001b[40;105H   \u001b[28;1H\u001b[40;116H8,0-1\u001b[28;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;1H\u001b[40;105H   \u001b[29;1H\u001b[40;116H9\u001b[29;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;1H\u001b[40;105H   \u001b[30;1H\u001b[40;115H30,1  \u001b[30;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;1H\u001b[40;105H   \u001b[31;1H\u001b[40;116H1\u001b[31;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;1H\u001b[40;105H   \u001b[32;1H\u001b[40;116H2,0-1\u001b[32;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;1H\u001b[40;105H   \u001b[31;1H\u001b[40;116H1,1  \u001b[31;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;1H\u001b[40;105H   \u001b[30;1H\u001b[40;116H0\u001b[30;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;1H\u001b[40;105H   \u001b[31;1H\u001b[40;116H1\u001b[31;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;1H\u001b[40;105H   \u001b[32;1H\u001b[40;116H2,0-1\u001b[32;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;1H\u001b[40;105H   \u001b[31;1H\u001b[40;116H1,1  \u001b[31;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;1H\u001b[40;105H   \u001b[30;1H\u001b[40;116H0\u001b[30;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;1H\u001b[40;105H   \u001b[30;2H\u001b[40;118H2\u001b[30;2H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;2H\u001b[40;105H   \u001b[30;3H\u001b[40;118H3\u001b[30;3H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;3H\u001b[40;105H   \u001b[30;4H\u001b[40;118H4\u001b[30;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;4H\u001b[40;105H   \u001b[30;5H\u001b[40;118H5\u001b[30;5H\u001b[?25h\u001b[?25l\u001b[40;105Hd\u001b[30;5H\u001b[?25h\u001b[?25l\u001b[40;106H2\u001b[30;5H\u001b[?25h\u001b[?25l\u001b[40;107Hd\u001b[30;5H\u001b[40;105H   \u001b[30;1H\u001b[30;39r\u001b[30;1H\u001b[2M\u001b[1;40r\u001b[38;1H\u001b[94m~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;1H\u001b[K\u001b[40;115H30,0-1\u001b[8CAll\u001b[30;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;1H\u001b[40;105H   \u001b[29;1H\u001b[40;115H29\u001b[29;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;1H\u001b[40;105H   \u001b[28;1H\u001b[40;116H8\u001b[28;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;1H\u001b[40;105H   \u001b[27;1H\u001b[40;116H7,1  \u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;1H\u001b[40;105H   \u001b[26;1H\u001b[40;116H6\u001b[26;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;1H\u001b[40;105H   \u001b[25;1H\u001b[40;116H5,0-1\u001b[25;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;1H\u001b[40;105H   \u001b[24;1H\u001b[40;116H4,1  \u001b[24;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;1H\u001b[40;105H   \u001b[24;2H\u001b[40;118H2\u001b[24;2H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;2H\u001b[40;105H   \u001b[24;3H\u001b[40;118H3\u001b[24;3H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;3H\u001b[40;105H   \u001b[24;4H\u001b[40;118H4\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;4H\u001b[40;105H   \u001b[24;5H\u001b[40;118H5\u001b[24;5H\u001b[?25h\u001b[?25l\u001b[40;105Ho\u001b[24;5H\u001b[40;105H \u001b[25;5H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H25,5\u001b[10CAll\u001b[26;5H\u001b[K\u001b[27;5H\u001b[38;5;81mfrom\u001b[m modules.opml_extras_plugin \u001b[38;5;81mimport\u001b[m install_opml_extras_into_app\n    install_opml_extras_into_app(app)\u001b[31;5H\u001b[K\u001b[32;5Happ.mainloop()\u001b[33;1H\u001b[K\u001b[34;1H\u001b[93mif\u001b[m __name__ == \u001b[95m\"__main__\"\u001b[m:\n    main()\u001b[36;1H\u001b[K\u001b[40;115H\u001b[K\u001b[40;115H25,5\u001b[10CAll\u001b[25;5H\u001b[?25h\u001b[?25l\u001b[38;5;81mfrom\u001b[m modules.opml_extras_plugin \u001b[38;5;81mimport\u001b[m install_opml\u001b[?25h\u001b[?25l\u001b[26;39r\u001b[26;1H\u001b[L\u001b[1;40r\u001b[25;56H_extras_into_app\ninstall_opml_extras_into_app(app)\u001b[40;115H\u001b[K\u001b[40;115H26,34\u001b[9CAll\u001b[26;29H\u001b[46m(\u001b[mapp\u001b[46m)\u001b[?25h\u001b[m\u001b[40;1H\u001b[K\u001b[26;33H\u001b[?25l\u001b[40;105H^[\u001b[26;33H\u001b[40;105H  \u001b[26;34H\u001b[40;115H26,33\u001b[9CAll\u001b[26;33H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;33H\u001b[40;105H   \u001b[27;1H\u001b[26;29H(app)\u001b[40;116H7,0-1\u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;1H\u001b[40;105H   \u001b[26;33H\b\b\b\b\u001b[46m(\u001b[mapp\u001b[46m)\u001b[m\u001b[40;116H6,33 \u001b[26;33H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;33H\u001b[40;105H   \u001b[26;32H\b\b\b(app)\u001b[40;119H2\u001b[26;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;32H\u001b[40;105H   \u001b[26;31H\u001b[40;119H1\u001b[26;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;31H\u001b[40;105H   \u001b[26;30H\u001b[40;119H0\u001b[26;30H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;30H\u001b[40;105H   \u001b[26;29H\u001b[46m(\u001b[mapp\u001b[46m)\u001b[m\u001b[40;118H29\u001b[26;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;29H\u001b[40;105H   \u001b[26;28Hp(app)\u001b[40;119H8\u001b[26;28H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;28H\u001b[40;105H   \u001b[26;27H\u001b[40;119H7\u001b[26;27H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;27H\u001b[40;105H   \u001b[26;26H\u001b[40;119H6\u001b[26;26H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;26H\u001b[40;105H   \u001b[26;25H\u001b[40;119H5\u001b[26;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;25H\u001b[40;105H   \u001b[26;24H\u001b[40;119H4\u001b[26;24H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;24H\u001b[40;105H   \u001b[26;23H\u001b[40;119H3\u001b[26;23H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;23H\u001b[40;105H   \u001b[26;22H\u001b[40;119H2\u001b[26;22H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;22H\u001b[40;105H   \u001b[26;21H\u001b[40;119H1\u001b[26;21H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;21H\u001b[40;105H   \u001b[26;20H\u001b[40;119H0\u001b[26;20H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;20H\u001b[40;105H   \u001b[26;19H\u001b[40;118H19\u001b[26;19H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;19H\u001b[40;105H   \u001b[26;18H\u001b[40;119H8\u001b[26;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;18H\u001b[40;105H   \u001b[26;17H\u001b[40;119H7\u001b[26;17H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;17H\u001b[40;105H   \u001b[26;16H\u001b[40;119H6\u001b[26;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;16H\u001b[40;105H   \u001b[26;15H\u001b[40;119H5\u001b[26;15H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;15H\u001b[40;105H   \u001b[26;14H\u001b[40;119H4\u001b[26;14H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;14H\u001b[40;105H   \u001b[26;13H\u001b[40;119H3\u001b[26;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;13H\u001b[40;105H   \u001b[26;12H\u001b[40;119H2\u001b[26;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;12H\u001b[40;105H   \u001b[26;11H\u001b[40;119H1\u001b[26;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;11H\u001b[40;105H   \u001b[26;10H\u001b[40;119H0\u001b[26;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;10H\u001b[40;105H   \u001b[26;9H\u001b[40;118H9 \u001b[26;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;9H\u001b[40;105H   \u001b[26;8H\u001b[40;118H8\u001b[26;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;8H\u001b[40;105H   \u001b[26;7H\u001b[40;118H7\u001b[26;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;7H\u001b[40;105H   \u001b[26;6H\u001b[40;118H6\u001b[26;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;6H\u001b[40;105H   \u001b[26;5H\u001b[40;118H5\u001b[26;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;5H\u001b[40;105H   \u001b[26;4H\u001b[40;118H4\u001b[26;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;4H\u001b[40;105H   \u001b[26;3H\u001b[40;118H3\u001b[26;3H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;3H\u001b[40;105H   \u001b[26;2H\u001b[40;118H2\u001b[26;2H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;2H\u001b[40;105H   \u001b[26;1H\u001b[40;118H1\u001b[26;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;1H\u0007\u001b[40;105H   \u001b[26;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;1H\u001b[40;105H   \u001b[26;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;1H\u001b[40;105H   \u001b[26;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;1H\u001b[40;105H   \u001b[26;1H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[26;1H\u001b[40;105H  \u001b[26;1H\u001b[40;105H^[\u001b[26;1H\u0007\u001b[40;105H  \u001b[26;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;1H\u001b[40;105H   \u001b[25;1H\u001b[40;116H5\u001b[25;1H\u001b[?25h\u001b[?25l\u001b[40;105Hd\u001b[25;1H\u001b[?25h\u001b[?25l\u001b[40;106Hd\u001b[25;1H\u001b[40;105H  \u001b[25;1H\u001b[25;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;1H\u001b[94m~                                                                                                                                   \u001b[m\u001b[40;115H\u001b[K\u001b[40;115H25,1\u001b[10CAll\u001b[25;1H\u001b[?25h\u001b[?25l\u001b[40;105Hd\u001b[25;1H\u001b[?25h\u001b[?25l\u001b[40;106Hd\u001b[25;1H\u001b[40;105H  \u001b[25;1H\u001b[25;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;1H\u001b[94m~                                                                                                                                   \u001b[m\u001b[40;115H\u001b[K\u001b[40;115H25,0-1\u001b[8CAll\u001b[25;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;1H\u001b[40;105H   \u001b[24;1H\u001b[40;116H4,1  \u001b[24;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;1H\u001b[40;105H   \u001b[23;1H\u001b[40;116H3\u001b[23;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;1H\u001b[40;105H   \u001b[22;1H\u001b[40;116H2\u001b[22;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;1H\u001b[40;105H   \u001b[22;2H\u001b[40;118H2\u001b[22;2H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;2H\u001b[40;105H   \u001b[22;3H\u001b[40;118H3\u001b[22;3H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;3H\u001b[40;105H   \u001b[22;4H\u001b[40;118H4\u001b[22;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;4H\u001b[40;105H   \u001b[22;5H\u001b[40;118H5\u001b[22;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;5H\u001b[40;105H   \u001b[23;5H\u001b[40;116H3\u001b[23;5H\u001b[?25h\u001b[?25l\u001b[40;105Hd\u001b[23;5H\u001b[?25h\u001b[?25l\u001b[40;106H2\u001b[23;5H\u001b[?25h\u001b[?25l\u001b[40;107Hd\u001b[23;5H\u001b[40;105H   \u001b[23;1H\u001b[23;39r\u001b[23;1H\u001b[2M\u001b[1;40r\u001b[38;1H\u001b[94m~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;115H\u001b[K\u001b[40;115H23,0-1\u001b[8CAll\u001b[23;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;1H\u001b[40;105H   \u001b[24;1H\u001b[40;116H4,1  \u001b[24;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;1H\u001b[40;105H   \u001b[25;1H\u001b[40;116H5\u001b[25;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;1H\u001b[40;105H   \u001b[26;1H\u001b[40;116H6,0-1\u001b[26;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;1H\u001b[40;105H   \u001b[27;1H\u001b[40;116H7\u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;1H\u001b[40;105H   \u001b[28;1H\u001b[40;116H8\u001b[28;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;1H\u001b[40;105H   \u001b[29;1H\u001b[40;116H9,1  \u001b[29;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;1H\u001b[40;105H   \u001b[28;1H\u001b[40;116H8,0-1\u001b[28;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;1H\u001b[40;105H   \u001b[27;1H\u001b[40;116H7\u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[27;1H\u001b[40;105H \u001b[27;1H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H27,1\u001b[10CAll\u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;118H2\u001b[27;2H\u001b[?25h\u001b[?25l\u001b[40;118H3\u001b[27;3H\u001b[?25h\u001b[?25l\u001b[40;118H4\u001b[27;4H\u001b[?25h\u001b[?25l\u001b[40;118H5\u001b[27;5H\u001b[?25h\u001b[?25lp\u001b[40;118H6\u001b[27;6H\u001b[?25h\u001b[40;1H\u001b[K\u001b[27;5H\u001b[?25l\u001b[40;105H^[\u001b[27;5H\u001b[40;105H  \u001b[27;6H\u001b[40;115H27,5\u001b[10CAll\u001b[27;5H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[27;5H\u001b[40;105H \u001b[27;5H\u001b[40;105Hdl\u001b[27;5H\u001b[40;105H  \u001b[27;4H\u001b[27;5H\u001b[K\u001b[40;118H4\u001b[27;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;4H\u0007\u001b[40;105H   \u001b[27;4H\u001b[?25h\u001b[?25l\u001b[40;105Ha\u001b[27;4H\u001b[40;105H \u001b[27;5H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H27,5\u001b[10CAll\u001b[27;5H\u001b[?25h\u001b[?25l\u001b[38;5;81mfrom\u001b[m modules.opml_extras_plugin \u001b[38;5;81mimport\u001b[m install_opml_ext\u001b[?25h\u001b[?25l\u001b[28;39r\u001b[28;1H\u001b[L\u001b[1;40r\u001b[27;60Hras_into_app\ninstall_opml_extras_into_app(app)\u001b[40;115H\u001b[K\u001b[40;115H28,34\u001b[9CAll\u001b[28;29H\u001b[46m(\u001b[mapp\u001b[46m)\u001b[?25h\u001b[m\u001b[40;1H\u001b[K\u001b[28;33H\u001b[?25l\u001b[40;105H^[\u001b[28;33H\u001b[40;105H  \u001b[28;34H\u001b[40;115H28,33\u001b[9CAll\u001b[28;33H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;33H\u001b[40;105H   \u001b[28;32H\b\b\b(app)\u001b[40;119H2\u001b[28;32H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;32H\u001b[40;105H   \u001b[28;31H\u001b[40;119H1\u001b[28;31H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;31H\u001b[40;105H   \u001b[28;30H\u001b[40;119H0\u001b[28;30H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;30H\u001b[40;105H   \u001b[28;29H\u001b[46m(\u001b[mapp\u001b[46m)\u001b[m\u001b[40;118H29\u001b[28;29H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;29H\u001b[40;105H   \u001b[28;28Hp(app)\u001b[40;119H8\u001b[28;28H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;28H\u001b[40;105H   \u001b[28;27H\u001b[40;119H7\u001b[28;27H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;27H\u001b[40;105H   \u001b[28;26H\u001b[40;119H6\u001b[28;26H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;26H\u001b[40;105H   \u001b[28;25H\u001b[40;119H5\u001b[28;25H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;25H\u001b[40;105H   \u001b[28;24H\u001b[40;119H4\u001b[28;24H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;24H\u001b[40;105H   \u001b[28;23H\u001b[40;119H3\u001b[28;23H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;23H\u001b[40;105H   \u001b[28;22H\u001b[40;119H2\u001b[28;22H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;22H\u001b[40;105H   \u001b[28;21H\u001b[40;119H1\u001b[28;21H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;21H\u001b[40;105H   \u001b[28;20H\u001b[40;119H0\u001b[28;20H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;20H\u001b[40;105H   \u001b[28;19H\u001b[40;118H19\u001b[28;19H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;19H\u001b[40;105H   \u001b[28;18H\u001b[40;119H8\u001b[28;18H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;18H\u001b[40;105H   \u001b[28;17H\u001b[40;119H7\u001b[28;17H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;17H\u001b[40;105H   \u001b[28;16H\u001b[40;119H6\u001b[28;16H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;16H\u001b[40;105H   \u001b[28;15H\u001b[40;119H5\u001b[28;15H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;15H\u001b[40;105H   \u001b[28;14H\u001b[40;119H4\u001b[28;14H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;14H\u001b[40;105H   \u001b[28;13H\u001b[40;119H3\u001b[28;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;13H\u001b[40;105H   \u001b[28;12H\u001b[40;119H2\u001b[28;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;12H\u001b[40;105H   \u001b[28;11H\u001b[40;119H1\u001b[28;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;11H\u001b[40;105H   \u001b[28;10H\u001b[40;119H0\u001b[28;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;10H\u001b[40;105H   \u001b[28;9H\u001b[40;118H9 \u001b[28;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;9H\u001b[40;105H   \u001b[28;8H\u001b[40;118H8\u001b[28;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;8H\u001b[40;105H   \u001b[28;7H\u001b[40;118H7\u001b[28;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;7H\u001b[40;105H   \u001b[28;6H\u001b[40;118H6\u001b[28;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;6H\u001b[40;105H   \u001b[28;5H\u001b[40;118H5\u001b[28;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;5H\u001b[40;105H   \u001b[28;4H\u001b[40;118H4\u001b[28;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;4H\u001b[40;105H   \u001b[28;3H\u001b[40;118H3\u001b[28;3H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;3H\u001b[40;105H   \u001b[28;2H\u001b[40;118H2\u001b[28;2H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;2H\u001b[40;105H   \u001b[28;1H\u001b[40;118H1\u001b[28;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;1H\u0007\u001b[40;105H   \u001b[28;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;1H\u001b[40;105H   \u001b[28;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;1H\u001b[40;105H   \u001b[28;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;1H\u001b[40;105H   \u001b[28;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;1H\u001b[40;105H   \u001b[28;1H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[28;1H\u001b[40;105H \u001b[28;1H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H28,1\u001b[10CAll\u001b[28;1H\u001b[?25h\u001b[?25l install_opml_extras_into_app(app)\u001b[40;118H2\u001b[28;2H\u001b[?25h\u001b[?25l install_opml_extras_into_app(app)\u001b[40;118H3\u001b[28;3H\u001b[?25h\u001b[?25l install_opml_extras_into_app(app)\u001b[40;118H4\u001b[28;4H\u001b[?25h\u001b[?25l install_opml_extras_into_app(app)\u001b[40;118H5\u001b[28;5H\u001b[?25h\u001b[40;1H\u001b[K\u001b[28;4H\u001b[?25l\u001b[40;105H^[\u001b[28;4H\u001b[40;105H  \u001b[28;5H\u001b[40;115H28,4\u001b[10CAll\u001b[28;4H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[28;4H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"main.py\" 34L, 934B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi main.py\b\b\b\b\b\b\b\b\b\b\u001b[5@python3\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\n\u001b[?2004l\n[INFO 2025-08-13 20:41:38.449601] OpenAI API key set.\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 main.py\n\u001b[?2004l\n[INFO 2025-08-13 20:42:20.024752] OpenAI API key set.\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[5Pvi\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\b\b\b\b\b\b\b\b\b\b\u001b[5@python3\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[5Pvi\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"main.py\" 34L, 934B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;1H\u001b[35mfrom\u001b[m pathlib \u001b[35mimport\u001b[m Path\n\u001b[35mfrom\u001b[m modules.document_store \u001b[35mimport\u001b[m DocumentStore\u001b[2;49H\u001b[K\u001b[3;1H\u001b[35mfrom\u001b[m modules.command_processor \u001b[35mimport\u001b[m CommandProcessor\u001b[3;55H\u001b[K\u001b[4;1H\u001b[35mfrom\u001b[m modules.gui_tkinter \u001b[35mimport\u001b[m DemoKitGUI\n\u001b[35mfrom\u001b[m modules.ai_interface \u001b[35mimport\u001b[m AIInterface\n\n\u001b[38;5;130mdef\u001b[m \u001b[36mmain\u001b[m():\n    \u001b[34m# Ensure the storage directory exists\u001b[m\n    Path(\u001b[31m\"storage\"\u001b[m).mkdir(parents=\u001b[36mTrue\u001b[m, exist_ok=\u001b[36mTrue\u001b[m)\u001b[11;5H\u001b[34m# Initialize the document store\u001b[m\n    doc_store = DocumentStore(\u001b[31m\"storage/documents.db\"\u001b[m)\u001b[14;5H\u001b[34m# Initialize the AI interface\u001b[m\n    ai = AIInterface()\u001b[17;5H\u001b[34m# Initialize the command processor with doc store and AI\u001b[m\n    processor = CommandProcessor(doc_store, ai)\u001b[20;5H\u001b[34m# Launch the GUI\u001b[m\u001b[22;5Happ = DemoKitGUI(doc_store, processor)\u001b[24;5H\u001b[35mfrom\u001b[m modules.opml_extras_plugin \u001b[35mimport\u001b[m install_opml_extras_into_app\n    install_opml_extras_into_app(app)\u001b[27;5H\u001b[35mfrom\u001b[m modules.opml_extras_plugin \u001b[35mimport\u001b[m install_opml_extras_into_app\n    install_opml_extras_into_app(app)\u001b[30;5Happ.mainloop()\n\n\u001b[38;5;130mif\u001b[m __name__ == \u001b[31m\"__main__\"\u001b[m:\n    main()\n\n\u001b[94m~                                                                                                                                   \u001b[36;1H~                                                                                                                                   \u001b[37;1H~                                                                                                                                   \u001b[38;1H~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;115H28,4\u001b[10CAll\u001b[28;4H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H0\u001b[28;4H\u001b[40;106H3\u001b[28;4H\u001b[40;107H0\u001b[28;4H\u001b[40;108H/\u001b[28;4H\u001b[40;109H0\u001b[28;4H\u001b[40;110Ha\u001b[28;4H\u001b[40;111H0\u001b[28;4H\u001b[40;112Ha\u001b[28;4H\u001b[40;113H/\u001b[28;4H\u001b[40;114H2\u001b[28;4H\u001b[40;105H          \u001b[28;4H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;1H\u001b[38;5;81mfrom\u001b[m pathlib \u001b[38;5;81mimport\u001b[m Path\n\u001b[38;5;81mfrom\u001b[m modules.document_store \u001b[38;5;81mimport\u001b[m DocumentStore\n\u001b[38;5;81mfrom\u001b[m modules.command_processor \u001b[38;5;81mimport\u001b[m CommandProcessor\n\u001b[38;5;81mfrom\u001b[m modules.gui_tkinter \u001b[38;5;81mimport\u001b[m DemoKitGUI\n\u001b[38;5;81mfrom\u001b[m modules.ai_interface \u001b[38;5;81mimport\u001b[m AIInterface\n\n\u001b[93mdef\u001b[m \u001b[1m\u001b[96mmain\u001b[m():\n    \u001b[96m# Ensure the storage directory exists\u001b[m\n    Path(\u001b[95m\"storage\"\u001b[m).mkdir(parents=\u001b[1m\u001b[96mTrue\u001b[m, exist_ok=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[11;5H\u001b[96m# Initialize the document store\u001b[m\n    doc_store = DocumentStore(\u001b[95m\"storage/documents.db\"\u001b[m)\u001b[14;5H\u001b[96m# Initialize the AI interface\u001b[m\n    ai = AIInterface()\u001b[17;5H\u001b[96m# Initialize the command processor with doc store and AI\u001b[m\n    processor = CommandProcessor(doc_store, ai)\u001b[20;5H\u001b[96m# Launch the GUI\u001b[m\u001b[22;5Happ = DemoKitGUI(doc_store, processor)\u001b[24;5H\u001b[38;5;81mfrom\u001b[m modules.opml_extras_plugin \u001b[38;5;81mimport\u001b[m install_opml_extras_into_app\n    install_opml_extras_into_app(app)\u001b[27;5H\u001b[38;5;81mfrom\u001b[m modules.opml_extras_plugin \u001b[38;5;81mimport\u001b[m install_opml_extras_into_app\n    install_opml_extras_into_app(app)\u001b[30;5Happ.mainloop()\n\n\u001b[93mif\u001b[m __name__ == \u001b[95m\"__main__\"\u001b[m:\n    main()\n\n\u001b[94m~                                                                                                                                   \u001b[36;1H~                                                                                                                                   \u001b[37;1H~                                                                                                                                   \u001b[38;1H~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;115H28,4\u001b[10CAll\n\"main.py\" 34L, 934B\u001b[28;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;4H\u001b[40;105H   \u001b[29;1H\u001b[40;116H9,0-1\u001b[29;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;1H\u001b[40;105H   \u001b[28;1H\u001b[40;116H8,1  \u001b[28;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;1H\u001b[40;105H   \u001b[27;1H\u001b[40;116H7\u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;1H\u001b[40;105H   \u001b[27;2H\u001b[40;118H2\u001b[27;2H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;2H\u001b[40;105H   \u001b[27;3H\u001b[40;118H3\u001b[27;3H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;3H\u001b[40;105H   \u001b[27;4H\u001b[40;118H4\u001b[27;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;4H\u001b[40;105H   \u001b[27;5H\u001b[40;118H5\u001b[27;5H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[27;5H\u001b[40;105H  \u001b[27;5H\u001b[40;105H^[\u001b[27;5H\u0007\u001b[40;105H  \u001b[27;5H\u001b[?25h\u001b[?25l\u001b[40;105Hd\u001b[27;5H\u001b[?25h\u001b[?25l\u001b[40;106Hd\u001b[27;5H\u001b[40;105H  \u001b[27;5H\u001b[27;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;1H\u001b[94m~                                                                                                                                   \u001b[m\u001b[40;1H\u001b[K\u001b[40;115H27,5\u001b[10CAll\u001b[27;5H\u001b[?25h\u001b[?25l\u001b[40;105Hd\u001b[27;5H\u001b[?25h\u001b[?25l\u001b[40;106Hd\u001b[27;5H\u001b[40;105H  \u001b[27;1H\u001b[27;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;1H\u001b[94m~                                                                                                                                   \u001b[m\u001b[40;115H\u001b[K\u001b[40;115H27,0-1\u001b[8CAll\u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;105Hd\u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;106Hd\u001b[27;1H\u001b[40;105H  \u001b[27;5H\u001b[27;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;1H\u001b[94m~                                                                                                                                   \u001b[m\u001b[40;115H\u001b[K\u001b[40;115H27,5\u001b[10CAll\u001b[27;5H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[27;5H\u001b[40;105H  \u001b[27;5H\u001b[40;105H^[\u001b[27;5H\u0007\u001b[40;105H  \u001b[27;5H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[27;5H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"main.py\" 31L, 823B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi main.py\b\b\b\b\b\b\b\b\b\b\u001b[5@python3\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\n\u001b[?2004l\n[INFO 2025-08-13 20:44:38.339106] OpenAI API key set.\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 main.py\n\u001b[?2004l\n[INFO 2025-08-13 20:47:56.683764] OpenAI API key set.\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ sl -\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[Kls -ltr ../Downloads/\n\u001b[?2004l\ntotal 5637680\n-rw-rw-r-- 1 gross gross      28959 Jan 31  1993  pkunzip.exe\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0m\u001b[0;36mbiosr11\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mbackee28\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mpsps30\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mprintgf\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mpcm140\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mmemscan\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mmaxspeed\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mjcbench\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mirqinfo\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mguard\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mdata_rec\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msyschk40\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msrxtest\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msnoop330\u001b[0m\ndrwxrwxr-x 4 gross gross       4096 Sep  9  1997  \u001b[0;36mupgradep\u001b[0m\n-rw-rw-r-- 1 gross gross     197143 Mar  8 03:39  friendships-image.png\n-rw-rw-r-- 1 gross gross     133244 Mar 10 06:49  Cyria_and_Elevator.jpg\n-rw-rw-r-- 1 gross gross     771670 Mar 11 05:23  Unitary_Executive.webp\n-rw-rw-r-- 1 gross gross       2688 Apr 14 20:27  create_neural_trailer.py\n-rw-rw-r-- 1 gross gross    2133015 Apr 14 20:34 'ChatGPT Image Apr 14, 2025, 08_34_02 PM.png'\n-rw-rw-r-- 1 gross gross    1431755 Apr 14 20:38  oscilloscope-trace.png\n-rw-rw-r-- 1 gross gross       2673 Apr 14 21:04  create_neural_trailer_fixed.py\n-rw-rw-r-- 1 gross gross       2652 Apr 14 21:19  create_neural_trailer_fixed_final.py\n-rw-rw-r-- 1 gross gross       2693 Apr 14 21:24  create_neural_trailer_final_fixed.py\n-rw-rw-r-- 1 gross gross       2701 Apr 14 21:34  upload_video_to_youtube.py\n-rw-rw-r-- 1 gross gross        409 Apr 14 21:48  client_secret_397308046611-boq5nfbs5l65kki9cdtkfh0jgqkvoods.apps.googleusercontent.com.json\n-rw-rw-r-- 1 gross gross   10782310 Apr 14 23:04  youtubeuploader_1.24.4_Linux_amd64.tar.gz\ndrwxrwxr-x 2 gross gross       4096 Apr 14 23:04  \u001b[0;36myoutubeuploader_1.24.4_Linux_amd64\u001b[0m\n-rw-rw-r-- 1 gross gross       3485 Apr 15 04:05  create_neural_trailer_debug_filter.py\n-rw-rw-r-- 1 gross gross    1049433 Apr 15 05:11  Hallelujah.pdf\n-rw-rw-r-- 1 gross gross    1987405 Apr 15 05:11 'Thine is the glory.pdf'\n-rw-rw-r-- 1 gross gross     440106 Apr 15 05:11 'Trumpet I & Trumpet II.pdf'\n-rw-rw-r-- 1 gross gross     836616 Apr 15 05:11 'Coronation March.pdf'\n-rw-rw-r-- 1 gross gross    1472064 Apr 15 05:11 'marche triomphale.pdf'\n-rw-rw-r-- 1 gross gross     270011 Apr 15 05:11 'Nichols Resurrection anthem brass001.pdf'\n-rw-rw-r-- 1 gross gross       3078 Apr 15 05:29  analyze_video_metadata.py\n-rw-rw-r-- 1 gross gross   41117934 Apr 15 06:03  IMG_1664.MP4\n-rw-rw-r-- 1 gross gross     754923 Apr 15 06:09 'iCloud Photos.zip'\n-rw-rw-r-- 1 gross gross     615579 Apr 15 06:13 'La Vida Es Un Carnaval - Cruz (Trombone, Bb Trumpet, Tenor Sax) (Concert Cut).pdf'\n-rw-rw-r-- 1 gross gross   12617725 Apr 15 06:25  video-629_singular_display.MP4\n-rw-rw-r-- 1 gross gross   45170194 Apr 15 15:22 'iCloud Photos (1).zip'\ndrwxrwxr-x 3 gross gross       4096 Apr 15 15:23 \u001b[0;36m'iCloud Photos (1)'\u001b[0m\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:26  img-XVIXupiEqlFj796tsHf7F61H.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:40  Women_Understanding.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:49  female_ginsberg.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:57  Frost_Woman.png\n-rw-rw-r-- 1 gross gross     369939 Apr 15 23:19 'GPT-4.1 Prompting Guide _ OpenAI Cookbook.pdf'\n-rw-rw-r-- 1 gross gross  109845104 Apr 15 23:34  midori-11.5.2.linux-x86_64.tar.bz2\n-rw-rw-r-- 1 gross gross   91977104 Apr 15 23:34  midori_11.5.2-1_amd64.deb\n-rw-rw-r-- 1 gross gross     197143 Apr 16 00:09  Woman_to_Date.png\n-rw-rw-r-- 1 gross gross    2132052 Apr 16 09:02 'ChatGPT Image Apr 16, 2025, 09_02_05 AM.png'\n-rw-rw-r-- 1 gross gross    2132052 Apr 16 09:03  Coal_Minors_Tea_Party.png\n-rw-rw-r-- 1 gross gross    3312936 Apr 16 09:13 'ChatGPT Image Apr 16, 2025, 09_13_18 AM.png'\n-rw-rw-r-- 1 gross gross    3312936 Apr 16 09:13  Chinese_Cell_Phone_Tea_Party.png\n-rw-rw-r-- 1 gross gross     117910 Apr 16 10:33 'Gmail - Greetings.pdf'\n-rw-rw-r-- 1 gross gross    1039888 Apr 16 10:38 'English - Cordoba Contract.pdf'\n-rw-rw-r-- 1 gross gross  254366302 Apr 16 22:24  Blues_Bookends.mp4\n-rw-rw-r-- 1 gross gross       1194 Apr 17 07:00  clean_video_metadata.py\n-rw-rw-r-- 1 gross gross       1051 Apr 17 10:18  chyron_phrases.txt\n-rw-rw-r-- 1 gross gross    8091581 Apr 17 10:47  chyron_layer_preview.mp4\n-rw-rw-r-- 1 gross gross    1378660 Apr 17 12:49  KolAmi_CC_2nd_Rehearsal_DSC_0126.jpg\n-rw-rw-r-- 1 gross gross       1025 Apr 17 14:10  PAVE_README.txt\n-rw-rw-r-- 1 gross gross       2415 Apr 17 15:01  pave_generate_base_video.py\n-rw-rw-r-- 1 gross gross     943643 Apr 17 15:15  countdown.mp4\n-rw-rw-r-- 1 gross gross       2500 Apr 17 22:00 'analyze_video_metadata (1).py'\n-rw-rw-r-- 1 gross gross       3485 Apr 18 02:57  create_neural_trailer_debug_filter_patched.py\n-rw-rw-r-- 1 gross gross       3020 Apr 18 03:35  analyze_video_metadata_enhanced.py\n-rw-rw-r-- 1 gross gross       3160 Apr 18 03:38  analyze_video_metadata_enhanced_fixed.py\n-rw-rw-r-- 1 gross gross       3168 Apr 18 03:42  analyze_video_metadata_fixed_path.py\n-rw-rw-r-- 1 gross gross        895 Apr 18 10:42  discover_videos.zip\n-rw-rw-r-- 1 gross gross       2400 Apr 18 15:44  generate_chyron_overlay_scroll.py\n-rw-rw-r-- 1 gross gross    1049433 Apr 18 21:11 'Hallelujah (1).pdf'\n-rw-rw-r-- 1 gross gross  451305311 Apr 19 05:14  buffered.mp4\n-rw-rw-r-- 1 gross gross         91 Apr 19 05:26  env.example\n-rw-rw-r-- 1 gross gross       2084 Apr 19 05:26  activate\n-rw-rw-r-- 1 gross gross    8019136 Apr 19 06:15  python3.12\n-rw-rw-r-- 1 gross gross      32748 Apr 19 06:18  bash_history\n-rw-rw-r-- 1 gross gross     664153 Apr 19 12:21  original-7E5F34EF-C836-4B26-B84E-5E309FD21808.jpeg\n-rw-rw-r-- 1 gross gross       3713 Apr 19 19:27  video_search_update.zip\ndrwxrwxr-x 4 gross gross       4096 Apr 19 19:31  \u001b[0;36mvideo_search_update\u001b[0m\ndrwxrwxr-x 3 gross gross       4096 Apr 19 19:32  \u001b[0;36mdata\u001b[0m\n-rw-rw-r-- 1 gross gross       1705 Apr 19 19:56  updated_templates.zip\n-rw-rw-r-- 1 gross gross      27642 Apr 21 08:56  invoice-990659.pdf\n-rw-rw-r-- 1 gross gross       2531 Apr 21 10:41  mp3_auto_renamer_flat_output.py\n-rw-rw-r-- 1 gross gross      31431 Apr 21 12:52  Captions.html\ndrwx------ 2 gross gross       4096 Apr 21 12:52  \u001b[0;36mCaptions_files\u001b[0m\n-rw-rw-r-- 1 gross gross      10075 Apr 21 20:04  profile-6.ovpn\n-rw-rw-r-- 1 gross gross    3421182 Apr 21 22:33  Harvard-Funding-Freeze-Order-Complaint.pdf\n-rw-rw-r-- 1 gross gross      32516 Apr 22 06:17  Things_that_Make_you_a_Better_Musician.jpg\n-rw-rw-r-- 1 gross gross       2653 Apr 22 11:52  backup_to_dvds.sh\n-rw-rw-r-- 1 gross gross       2653 Apr 22 11:57  backup_to_dvds_canvas.sh\n-rw-rw-r-- 1 gross gross       2653 Apr 22 12:10  backup_to_dvds_readloop.sh\n-rw-rw-r-- 1 gross gross       5914 Apr 22 13:02  Medley-QR.png\n-rw-rw-r-- 1 gross gross    3157195 Apr 22 19:37 \"20250422_1932_Liberty's Modern Contrast_simple_compose_01jsg7s4jffq6bx4fsqgy5appj.png\"\n-rw-rw-r-- 1 gross gross      25248 Apr 22 19:53  Glen_w-Trumpet_Dark.jpg\n-rw-rw-r-- 1 gross gross      33944 Apr 23 02:50  frame_0287.jpg\n-rw-rw-r-- 1 gross gross       3925 Apr 23 03:45  ocr_preview_web_fixed.py\n-rw-rw-r-- 1 gross gross       4037 Apr 23 03:52  ocr_preview_web_range_enabled.py\n-rw-rw-r-- 1 gross gross       3547 Apr 23 04:13  ocr_preview_web_final.py\n-rw-rw-r-- 1 gross gross       4130 Apr 23 06:19  ocr_preview_web_js_seek.py\n-rw-rw-r-- 1 gross gross       2172 Apr 23 06:27  results.html\n-rw-rw-r-- 1 gross gross       2716 Apr 23 07:29  perform_ocr_google_to_main_db.py\ndrwxrwxr-x 2 gross gross       4096 Apr 24 07:15 \u001b[0;36m'iCloud Photos'\u001b[0m\n-rw-rw-r-- 1 gross gross    2160938 Apr 25 04:17 'ChatGPT Image Apr 25, 2025, 04_17_33 AM.png'\n-rw-rw-r-- 1 gross gross    2160938 Apr 25 04:17 'ChatGPT Image Apr 25, 2025, 04_17_42 AM.png'\n-rw-rw-r-- 1 gross gross    2043170 Apr 25 06:46  Fix_Stereo_Video_AR.png\n-rw-rw-r-- 1 gross gross    1878751 Apr 25 06:56  OpenAI-Crystal_Ball.png\n-rw-rw-r-- 1 gross gross    1878751 Apr 25 06:56 'ChatGPT Image Apr 25, 2025, 06_56_36 AM.png'\n-rw-rw-r-- 1 gross gross    2489875 Apr 25 07:03 'ChatGPT Image Apr 25, 2025, 07_03_02 AM.png'\n-rw-rw-r-- 1 gross gross    2489875 Apr 25 07:03  Burning_City_Crystal_Ball.png\n-rw-rw-r-- 1 gross gross       4785 Apr 25 12:10  profile-6-beautified.ovpn\n-rw-rw-r-- 1 gross gross       1112 Apr 26 02:09  profile-6-tcp-template.ovpn\n-rw-rw-r-- 1 gross gross       9635 Apr 26 04:32  profile-6-stunnel.ovpn\n-rw-rw-r-- 1 gross gross  176225153 Apr 26 23:42  Sullivans_Set3_042625.mp4\n-rw-rw-r-- 1 gross gross  247022345 Apr 26 23:53  Sullivans_Set1_042625.mp4\n-rw-rw-r-- 1 gross gross  134137999 Apr 26 23:57  Sullivans_Set2_042625.mp4\n-rw-rw-r-- 1 gross gross         42 Apr 27 06:09  listen.m3u\n-rw-rw-r-- 1 gross gross       3806 Apr 28 05:19  burn_dir_to_dvds_progress_fix2.sh\n-rw-rw-r-- 1 gross gross       3437 Apr 28 05:29  burndir_wait.sh\n-rw-rw-r-- 1 gross gross    4090232 Apr 28 07:15 'ChatGPT Image Apr 28, 2025, 07_15_02 AM.png'\n-rw-rw-r-- 1 gross gross        489 Apr 28 07:25 'ChatGPT Image Apr 28, 2025, 07_25_27 AM.png'\n-rw-rw-r-- 1 gross gross    4179191 Apr 28 07:28  Crypto_challenge.png\n-rw-rw-r-- 1 gross gross        489 Apr 28 09:33 'ChatGPT Image Apr 28, 2025, 09_33_58 AM.png'\n-rw-rw-r-- 1 gross gross    4156013 Apr 28 09:38  crypto_challenge_etching.zip\n-rw-rw-r-- 1 gross gross    4156013 Apr 28 09:39 'crypto_challenge_etching (1).zip'\n-rw-rw-r-- 1 gross gross    4608757 Apr 28 09:42  crypto_challenge_etching_v2.zip\n-rw-rw-r-- 1 gross gross    4631476 Apr 28 09:45  Crypto_Challenge.png\n-rw-rw-r-- 1 gross gross      71973 Apr 28 16:16  Sharla.jpg\n-rw-r--r-- 1 gross gross    4179191 Apr 28 16:37  crypto_challenge_etching.png\n-rw-r--r-- 1 gross gross    4179191 Apr 28 16:37 'crypto_challenge_etching (2).png'\n-rw-r--r-- 1 gross gross    4631476 Apr 28 16:42  crypto_challenge_etching_v2.png\n-rw-rw-r-- 1 gross gross      29413 Apr 29 03:47  meta_llama4_report.pdf\n-rw-rw-r-- 1 gross gross       5149 Apr 29 03:50  meta_llama4_report.rtf\n-rw-rw-r-- 1 gross gross       5903 Apr 29 03:52  meta_llama4_report.html\n-rw-rw-r-- 1 gross gross    3213429 Apr 29 04:21 'ChatGPT Image Apr 29, 2025, 04_21_46 AM.png'\n-rw-rw-r-- 1 gross gross    3213429 Apr 29 04:22  Cosell_and_the_AI_Race.png\n-rw-rw-r-- 1 gross gross      88757 Apr 30 05:20  benefit-verification-letter.pdf\n-rw-rw-r-- 1 gross gross      88731 Apr 30 05:20 'benefit-verification-letter (1).pdf'\n-rw-rw-r-- 1 gross gross      39300 Apr 30 05:49 '2024Initial 1099.pdf'\n-rw-rw-r-- 1 gross gross      54314 Apr 30 20:10  Maria_1.jpg\n-rw-rw-r-- 1 gross gross      37406 Apr 30 20:10  Maria_2.jpg\n-rw-rw-r-- 1 gross gross     733838 Apr 30 20:10  Maria_3.jpg\n-rw-rw-r-- 1 gross gross  286096308 May  1 00:46  Meta_Developers_043125.mp4\n-rw-rw-r-- 1 gross gross    1579176 May  1 03:00  Glens_Project_Schedule.png\n-rw-rw-r-- 1 gross gross    3110389 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_01 AM.png'\n-rw-rw-r-- 1 gross gross    1640180 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_09 AM.png'\n-rw-rw-r-- 1 gross gross    4354181 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_14 AM.png'\n-rw-rw-r-- 1 gross gross        489 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_20 AM.png'\n-rw-rw-r-- 1 gross gross    1903945 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_11 AM.png'\n-rw-rw-r-- 1 gross gross    1973790 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_16 AM.png'\n-rw-rw-r-- 1 gross gross    2019284 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_20 AM.png'\n-rw-rw-r-- 1 gross gross    2832192 May  2 03:45 'ChatGPT Image May 2, 2025, 03_45_12 AM.png'\n-rw-rw-r-- 1 gross gross    2499315 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_39 AM.png'\n-rw-rw-r-- 1 gross gross    2832192 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_45 AM.png'\n-rw-rw-r-- 1 gross gross    1903945 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_50 AM.png'\n-rw-rw-r-- 1 gross gross    1973790 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_55 AM.png'\n-rw-rw-r-- 1 gross gross    2387340 May  2 03:47 'ChatGPT Image May 2, 2025, 03_47_40 AM.png'\n-rw-rw-r-- 1 gross gross   18332666 May  2 04:13  liberation_equation_article.pdf\n-rw-rw-r-- 1 gross gross   18332355 May  2 04:15  liberation_equation_magazine.pdf\n-rw-rw-r-- 1 gross gross      11536 May  2 04:30  liberation_equation_article_expanded.pdf\n-rw-rw-r-- 1 gross gross    2707088 May  2 04:40 'ChatGPT Image May 2, 2025, 04_40_13 AM.png'\n-rw-rw-r-- 1 gross gross    2802872 May  2 04:43  liberation_equation_html.zip\n-rw-rw-r-- 1 gross gross      56932 May  2 05:04  liberation_equation_lowres.pdf\n-rw-rw-r-- 1 gross gross   54853581 May  4 13:24  Tanya_w-Gehrig_and_Malik.mp4\n-rw-rw-r-- 1 gross gross       1114 May  4 20:19  itinerary_flights.ics\n-rw-rw-r-- 1 gross gross       1114 May  4 20:22 'itinerary_flights (1).ics'\ndrwx------ 2 gross gross       4096 May  5 04:02  \u001b[0;36mthunderbird.tmp\u001b[0m\n-rw-rw-r-- 1 gross gross     168540 May  5 15:04 'Vehicle Registration.pdf'\n-rw-rw-r-- 1 gross gross      98871 May  5 15:04 'MVD Payment Receipt 70801720.pdf'\n-rw-rw-r-- 1 gross gross      98871 May  5 15:10 'MVD Payment Receipt 70801720 (1).pdf'\n-rw-rw-r-- 1 gross gross  799920128 May  5 19:57  Worlds-Desktop-Editor-v212.0.0.9.643.msi\n-rw-rw-r-- 1 gross gross   14955128 May  5 20:12  Music-Therapy_1of6.m4a\n-rw-rw-r-- 1 gross gross   15032860 May  5 20:13  Music-Therapy_3of6.m4a\n-rw-rw-r-- 1 gross gross   15079558 May  5 20:13  Music-Therapy_4of6.m4a\n-rw-rw-r-- 1 gross gross   15075020 May  5 20:13  Music-Therapy_5of6.m4a\n-rw-rw-r-- 1 gross gross   14999098 May  5 20:28  Music-Therapy_6of6.m4a\n-rw-rw-r-- 1 gross gross   95222702 May  5 21:21  Back_in_Tucson_Blues_1080p.mp4\n-rw-rw-r-- 1 gross gross    1535071 May  6 04:19 'Till Tomorrow (AMB Funeral).pdf'\n-rw-rw-r-- 1 gross gross     114466 May  6 04:19  maxresdefault.jpg\n-rw-rw-r-- 1 gross gross    1535071 May  6 04:24 'Till Tomorrow (AMB Funeral) (1).pdf'\n-rw-rw-r-- 1 gross gross      47428 May  6 04:35  TIL_TOMORROW_from_The_Musical_FIORELLO.pdf\n-rw-rw-r-- 1 gross gross      66349 May  6 12:58  til-tomorrow-p444272-glendon144@gmail.com-6240154517641.pdf\n-rw-rw-r-- 1 gross gross      66349 May  7 04:19  till-tomorrow.pdf\n-rw-rw-r-- 1 gross gross  116491424 May 10 05:19  google-chrome-stable_current_amd64.deb\n-rw-rw-r-- 1 gross gross     273161 May 10 13:42  AI_Bike_Cyria.jpg\n-rw-rw-r-- 1 gross gross     563843 May 10 13:46  691e19e9-7706-4807-b99d-3a4c8b6267ec.jpg\n-rw-rw-r-- 1 gross gross    2666850 May 10 17:40 'ChatGPT Image May 10, 2025, 05_40_46 PM.png'\n-rw-rw-r-- 1 gross gross    2666850 May 10 17:40  GGF_Mothers_Day.png\n-rw-rw-r-- 1 gross gross      54257 May 10 19:11  Simone_Biles_and_Tiger.jpg\n-rw-rw-r-- 1 gross gross       2987 May 13 10:47  tsrc_edited_plan.rtf\n-rw-rw-r-- 1 gross gross       1498 May 13 10:47  tsrc_exec_summary.rtf\n-rw-rw-r-- 1 gross gross       2741 May 13 10:50  tsrc_edited_plan.pdf\n-rw-rw-r-- 1 gross gross       1970 May 13 10:51  tsrc_exec_summary.pdf\n-rw-rw-r-- 1 gross gross       2702 May 13 10:55  tsrc_edited_plan_clean.pdf\n-rw-rw-r-- 1 gross gross       1948 May 13 10:55  tsrc_exec_summary_clean.pdf\n-rw-rw-r-- 1 gross gross       4359 May 13 11:03  tsrc_edited_plan_fullsentences.pdf\n-rw-rw-r-- 1 gross gross    1911781 May 13 14:50 'ChatGPT Image May 13, 2025, 02_50_06 PM.png'\n-rw-rw-r-- 1 gross gross    2184216 May 13 14:51  tsrc_comprehensive_report.pdf\n-rw-rw-r-- 1 gross gross       2347 May 14 02:38  Pocket_Book_of_Letting_Go_Clean.pdf\n-rw-rw-r-- 1 gross gross    2801632 May 14 02:47 'ChatGPT Image May 14, 2025, 02_47_53 AM.png'\n-rw-rw-r-- 1 gross gross    2730095 May 14 02:50  Pocket_Book_of_Letting_Go.pdf\n-rw-rw-r-- 1 gross gross       2340 May 14 02:56  Pocket_Book_of_Letting_Go_Text_Only.pdf\n-rw-rw-r-- 1 gross gross    3099960 May 14 03:13 'ChatGPT Image May 14, 2025, 03_13_58 AM.png'\n-rw-rw-r-- 1 gross gross    3099960 May 14 03:14  Glen_at_the_River.png\n-rw-rw-r-- 1 gross gross    1829087 May 14 03:29 'ChatGPT Image May 14, 2025, 03_29_18 AM.png'\n-rw-rw-r-- 1 gross gross     430315 May 14 03:30  trumpeter_variant_1.png\n-rw-rw-r-- 1 gross gross     437870 May 14 03:30  trumpeter_variant_2.png\n-rw-rw-r-- 1 gross gross     442031 May 14 03:30  trumpeter_variant_3.png\n-rw-rw-r-- 1 gross gross     437981 May 14 03:30  trumpeter_variant_4.png\n-rw-rw-r-- 1 gross gross     622686 May 14 03:33  trumpeter_corrected_4.png\n-rw-rw-r-- 1 gross gross     783996 May 14 03:33  trumpeter_corrected_3.png\n-rw-rw-r-- 1 gross gross     768151 May 14 03:33  trumpeter_corrected_2.png\n-rw-rw-r-- 1 gross gross     600714 May 14 03:33  trumpeter_corrected_1.png\n-rw-rw-r-- 1 gross gross    2776215 May 14 03:40 'ChatGPT Image May 14, 2025, 03_40_09 AM.png'\n-rw-rw-r-- 1 gross gross    2770053 May 14 03:44 'ChatGPT Image May 14, 2025, 03_44_21 AM.png'\n-rw-rw-r-- 1 gross gross    2656797 May 14 03:48 'ChatGPT Image May 14, 2025, 03_48_47 AM.png'\n-rw-rw-r-- 1 gross gross        489 May 14 10:36 'ChatGPT Image May 14, 2025, 10_36_51 AM.png'\n-rw-rw-r-- 1 gross gross    2100396 Jun  9 10:06  img-dt8tNJ36qjhRcUInHGZMl53q.png\n-rw-rw-r-- 1 gross gross    2107979 Jun 11 22:22  Loves_Snare.png\n-rw-rw-r-- 1 gross gross    1711762 Jun 12 08:06  AI-Romance.png\n-rw-rw-r-- 1 gross gross    2790443 Jun 13 06:50  Lonely_without_Cyria.png\n-rw-rw-r-- 1 gross gross     427920 Jun 13 06:53  Lonely_without_Cyria.jpg\n-rw-rw-r-- 1 gross gross     237459 Aug  1 03:54  Beautifu_Argentine.jpg\n-rw-rw-r-- 1 gross gross        843 Aug  4 05:35  AppointmentReminder.ics\n-rw-rw-r-- 1 gross gross       1569 Aug  6 07:01  hyperscope_python_port.py\n-rw-rw-r-- 1 gross gross 2514124800 Aug  6 10:10  ubuntu-18.04.6-desktop-amd64.iso\n-rw-rw-r-- 1 gross gross     282808 Aug  6 10:21  IMG_0024.JPG\n-rw-rw-r-- 1 gross gross       1569 Aug  6 16:11 'hyperscope_python_port(1).py'\n-rw-rw-r-- 1 gross gross       1569 Aug  7 12:36 'hyperscope_python_port(2).py'\n-rw-rw-r-- 1 gross gross      20370 Aug  7 14:40  gui_tkinter.py\n-rw-rw-r-- 1 gross gross       1569 Aug  7 20:27  hyperscope.py\n-rw-rw-r-- 1 gross gross       6242 Aug  7 20:32  hyper_scope_tkinter_pane_outline_viewer.py\n-rw-rw-r-- 1 gross gross       6242 Aug  7 20:32 'hyper_scope_tkinter_pane_outline_viewer(1).py'\n-rw-rw-r-- 1 gross gross      19874 Aug  7 20:46  tree_view.py\n-rw-rw-r-- 1 gross gross      24415 Aug  7 21:01  gui_tkinter.patched.py\n-rw-rw-r-- 1 gross gross      30137 Aug  7 21:09  gui_tkinter.opml_autorender.py\n-rw-rw-r-- 1 gross gross      16470 Aug  7 21:24  gui_tkinter.opml_autorender_fix.py\n-rw-rw-r-- 1 gross gross      29145 Aug  7 21:29  gui_tkinter.fixed.py\n-rw-rw-r-- 1 gross gross      30569 Aug  7 21:30  gui_tkinter.fixed2.py\n-rw-rw-r-- 1 gross gross       4962 Aug  8 02:26  Beyond_Tools_Human_AI_Symbiosis_FULL.html\n-rw-rw-r-- 1 gross gross       5495 Aug  8 02:26  Beyond_Tools_Human_AI_Symbiosis_FULL.pdf\n-rw-rw-r-- 1 gross gross      10793 Aug  8 02:27  Beyond_Tools_Human_AI_Symbiosis_FULL.zip\ndrwxrwxr-x 2 gross gross       4096 Aug  8 02:27  \u001b[0;36mBeyond_Tools_Human_AI_Symbiosis_FULL\u001b[0m\n-rw-rw-r-- 1 gross gross      10793 Aug  8 02:27 'Beyond_Tools_Human_AI_Symbiosis_FULL(1).zip'\n-rw-rw-r-- 1 gross gross     109135 Aug  8 02:50 'Bootstrapping Brilliance Toolkit - Putting Vision to Practice - Doug Engelbart Institute.html'\ndrwxr-xr-x 3 gross gross       4096 Aug  8 02:50 \u001b[0;36m'Bootstrapping Brilliance Toolkit - Putting Vision to Practice - Doug Engelbart Institute_files'\u001b[0m\n-rw-rw-r-- 1 gross gross     103866 Aug  8 02:55  Glen_Headshot.jpg\n-rw-rw-r-- 1 gross gross       5674 Aug  8 03:12  human_ai_symbiosis.pdf\n-rw-rw-r-- 1 gross gross     141553 Aug  8 03:17  Engelbart_Firsts.jpg\n-rw-rw-r-- 1 gross gross      11130 Aug  8 03:19  human_ai_symbiosis_package.zip\n-rw-rw-r-- 1 gross gross       5192 Aug  8 03:19  human_ai_symbiosis.html\n-rw-rw-r-- 1 gross gross        472 Aug  8 04:43  Hypertext_Standards\n-rw-rw-r-- 1 gross gross     270329 Aug  8 04:59 'Douglas Engelbart and the Mother of all Demos _ Hidden Heroes.pdf'\n-rw-rw-r-- 1 gross gross       9301 Aug  9 08:33  renderer.py\n-rw-rw-r-- 1 gross gross        148 Aug  9 08:33  demo.html\n-rw-rw-r-- 1 gross gross        843 Aug  9 08:33  demo_from_html.opml\n-rw-rw-r-- 1 gross gross        409 Aug  9 08:33  demo_preview.txt\n-rw-rw-r-- 1 gross gross        843 Aug  9 08:34 'demo_from_html (1).opml'\n-rw-rw-r-- 1 gross gross    5900416 Aug  9 09:58  firefox20.exe\n-rw-rw-r-- 1 gross gross      15215 Aug  9 10:24  renderer-update.py\n-rw-rw-r-- 1 gross gross       7687 Aug  9 11:08  hypertext_parser.py\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12  hypertext_parser-latest.py\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12 'hypertext_parser(1).py'\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12 'hypertext_parser(2).py'\n-rw-rw-r-- 1 gross gross      32254 Aug  9 12:31  gui_tkinter_patched.py\n-rw-rw-r-- 1 gross gross      32094 Aug  9 12:42  gui_tkinter_flask_fixed.py\n-rw-rw-r-- 1 gross gross      32363 Aug  9 13:18  gui_tkinter_cleaned.py\n-rw-rw-r-- 1 gross gross      40414 Aug  9 14:37  gui_tkinter_newest.py\n-rw-rw-r-- 1 gross gross      33834 Aug  9 14:54  gui_tkinter_patched2.py\n-rw-rw-r-- 1 gross gross      34256 Aug  9 15:41  gui_tkinter_clean.py\n-rw-rw-r-- 1 gross gross       8846 Aug  9 15:41  funkit_gui_tk_clean.zip\n-rw-rw-r-- 1 gross gross        157 Aug  9 19:25  demokit_gui.zip\n-rw-rw-r-- 1 gross gross       8892 Aug  9 22:11  gui_tkinter_patched.zip\n-rw-rw-r-- 1 gross gross      34500 Aug  9 22:11 'gui_tkinter_patched (1).py'\n-rw-rw-r-- 1 gross gross       8998 Aug  9 22:18  gui_tkinter_cleaned.zip\n-rw-rw-r-- 1 gross gross      34972 Aug  9 22:18 'gui_tkinter_cleaned (1).py'\n-rw-rw-r-- 1 gross gross      34451 Aug  9 23:19  gui_tkinter_renderfix.py\n-rw-rw-r-- 1 gross gross       8946 Aug  9 23:19  gui_tkinter_renderfix.zip\n-rw-rw-r-- 1 gross gross    1879760 Aug 10 14:26 'Raspberry Pi and Display Technical Blueprint.png'\n-rw-rw-r-- 1 gross gross    1879760 Aug 10 14:29 'Raspberry Pi and Display Technical Blueprint(1).png'\n-rw-rw-r-- 1 gross gross      35918 Aug 10 14:30  rpi-with-display.webp\n-rw-rw-r-- 1 gross gross    1040094 Aug 10 14:36 'Raspberry Pi with Retro Smiling Display.png'\n-rw-rw-r-- 1 gross gross    2817994 Aug 10 14:46  raspberry-pi-poker-hand.png\n-rw-rw-r-- 1 gross gross        489 Aug 10 15:15 'ChatGPT Image Aug 10, 2025, 03_15_02 PM.png'\n-rw-rw-r-- 1 gross gross        489 Aug 10 15:15 'Smiles and Pixels at the Caf\u00e9.png'\n-rw-rw-r-- 1 gross gross      65532 Aug 10 16:07  Father_Wound.jpg\n-rw-rw-r-- 1 gross gross       3084 Aug 10 17:07  father_wound_blues_lead_sheet.pdf\n-rw-rw-r-- 1 gross gross       2338 Aug 10 18:31  father_wound_blues_melody_lead_sheet_v2.pdf\n-rw-rw-r-- 1 gross gross    2612338 Aug 11 07:30  Asian_Pikit_User.png\n-rw-rw-r-- 1 gross gross      18251 Aug 13 13:01  aopmlengine.py\n-rw-rw-r-- 1 gross gross      16566 Aug 13 13:12  gui_tkinter_aopml.py\n-rw-rw-r-- 1 gross gross      17400 Aug 13 13:30  gui_tkinter_Aupdate.py\n-rw-rw-r-- 1 gross gross      26536 Aug 13 13:42  gui_tinter_merged.py\n-rw-rw-r-- 1 gross gross      28025 Aug 13 14:37 'gui_tkinter (1).py'\n-rw-rw-r-- 1 gross gross       7100 Aug 13 14:37  gui_tkinter.zip\n-rw-rw-r-- 1 gross gross       7100 Aug 13 14:39  gui_tkinter-new.zip\n-rw-rw-r-- 1 gross gross      28025 Aug 13 14:41  gui_tkinter_golden.py\n-rw-rw-r-- 1 gross gross       7227 Aug 13 14:44  gui_tkinter_081325.zip\n-rw-rw-r-- 1 gross gross      30569 Aug 13 14:55  gui_tkinter_rollback.py\n-rw-rw-r-- 1 gross gross      33214 Aug 13 14:55  gui_tkinter_phase1.py\n-rw-rw-r-- 1 gross gross      16142 Aug 13 14:55  gui_tkinter_rollback_and_phase1.zip\n-rw-rw-r-- 1 gross gross       9049 Aug 13 15:11  gui_tkinter_phase2_1_batch_fallback.zip\n-rw-rw-r-- 1 gross gross      36677 Aug 13 15:11  gui_tkinter_phase2_1_batch_fallback.py\n-rw-rw-r-- 1 gross gross      38217 Aug 13 15:18  gui_tkinter_phase2_3_prefs.py\n-rw-rw-r-- 1 gross gross      38255 Aug 13 15:25  gui_tkinter_phase2_3_1_prefs_newline_fix.py\n-rw-rw-r-- 1 gross gross       9324 Aug 13 15:25  gui_tkinter_phase2_3_1_prefs_newline_fix.zip\n-rw-rw-r-- 1 gross gross      41430 Aug 13 15:35  gui_tkinter_phase2_3_2_batch_validate_repair.py\n-rw-rw-r-- 1 gross gross       9887 Aug 13 15:35  gui_tkinter_phase2_3_2_batch_validate_repair.zip\n-rw-rw-r-- 1 gross gross      45182 Aug 13 15:44  gui_tkinter_phase2_4_url_ingest.py\n-rw-rw-r-- 1 gross gross      10780 Aug 13 15:44  gui_tkinter_phase2_4_url_ingest.zip\n-rw-rw-r-- 1 gross gross      52372 Aug 13 15:55  gui_tkinter_phase2_5_url_resilient.py\n-rw-rw-r-- 1 gross gross      59723 Aug 13 16:02  gui_tkinter_phase2_5_1_url_async_dbmain.py\n-rw-rw-r-- 1 gross gross      12641 Aug 13 16:02  gui_tkinter_phase2_5_1_url_async_dbmain.zip\n-rw-rw-r-- 1 gross gross      59771 Aug 13 16:11  gui_tkinter_phase2_5_2_url_async_dbmain_timefix.py\n-rw-rw-r-- 1 gross gross      12651 Aug 13 16:11  gui_tkinter_phase2_5_2_url_async_dbmain_timefix.zip\n-rw-rw-r-- 1 gross gross      60560 Aug 13 16:15  gui_tkinter_phase2_5_3_title_fix.py\n-rw-rw-r-- 1 gross gross      12918 Aug 13 16:16  gui_tkinter_phase2_5_3_title_fix.zip\n-rw-rw-r-- 1 gross gross      68769 Aug 13 16:18  gui_tkinter_phase2_5_4_url_modes_cancel.py\n-rw-rw-r-- 1 gross gross      13579 Aug 13 16:18  gui_tkinter_phase2_5_4_url_modes_cancel.zip\n-rw-rw-r-- 1 gross gross      68420 Aug 13 16:22  gui_tkinter_phase2_5_4_url_modes_cancel_fixed.py\n-rw-rw-r-- 1 gross gross      13463 Aug 13 16:22  gui_tkinter_phase2_5_4_url_modes_cancel_fixed.zip\n-rw-rw-r-- 1 gross gross       1826 Aug 13 19:26  funkit_lean.spec\n-rw-rw-r-- 1 gross gross       4320 Aug 13 19:38  build_all_variants.sh\n-rw-rw-r-- 1 gross gross       7784 Aug 13 20:02  save_as_text_plugin.py\n-rw-rw-r-- 1 gross gross       9925 Aug 13 20:20  save_as_text_plugin_v2.py\n-rw-rw-r-- 1 gross gross      13960 Aug 13 20:36  opml_extras_plugin.py\n-rw-rw-r-- 1 gross gross      16854 Aug 13 20:55  opml_extras_plugin_v2.py\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ cp ../Downloads/opml_extras_plugin_v2.py modules/opml_extras.py\b\u001b[K\b\u001b[K\b\u001b[K)\b\u001b[K)\b\u001b[K(\b\u001b[K_plugin.py \n\u001b[?2004l\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ cp ../Downloads/opml_extras_plugin_v2.py modules/opml_extras_plugin.py \n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[Cls -ltr ../Downloads/\u001b[K\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[6Ppython3 main.py\n\u001b[?2004l\n[INFO 2025-08-13 20:56:17.952006] OpenAI API key set.\nBinary detected, converting to text using render_binary_as_text.\nBinary detected, converting to text using render_binary_as_text.\n[WARN] OPML parse failed: not well-formed (invalid token): line 9, column 23\nBinary detected, converting to text using render_binary_as_text.\nBinary detected, converting to text using render_binary_as_text.\n[WARN] OPML parse failed: not well-formed (invalid token): line 11, column 85\n[INFO 2025-08-13 21:03:45.804887] Sending prompt: Please generate a heavily commented version of this file with a document summary that includes use cases. #!/bin/bash\nset -e\n\necho \"\ud83d\udce6 Starting FunKit Snapshot Build...\"\n\n# Step 1: Create a snapshot output directory\nSNAPSHOT_NAME=\"funkit_snapshot_$(date +%Y-%m-%d_%H-%M-%S)\"\nSNAPSHOT_DIR=\"$HOME/funkit-snapshots\"\nBUILD_DIR=\"funkit_snapshot_build\"\n\nmkdir -p \"$SNAPSHOT_DIR\"\nrm -rf \"$BUILD_DIR\"\nmkdir \"$BUILD_DIR\"\n\necho \"\ud83d\udd01 Copying project source into $BUILD_DIR...\"\nrsync -av --exclude='__pycache__' --exclude='.git' . \"$BUILD_DIR/\"\n\necho \"\ud83d\uddc2\ufe0f Copying current storage folder into snapshot build...\"\ncp -r storage \"$BUILD_DIR/\"\n\n# Step 2: Enter the build directory\ncd \"$BUILD_DIR\"\n\necho \"\ud83d\udc0d Creating virtualenv for isolated build...\"\npython3 -m venv snapshot-env\nsource snapshot-env/bin/activate\n\necho \"\ud83d\udcda Installing dependencies...\"\npip install --upgrade pip\npip install -r requirements.txt\npip install pyinstaller\n\necho \"\ud83d\udcc4 Building standalone FunKit binary with full storage included...\"\npyinstaller main.py --onefile --clean --name \"$SNAPSHOT_NAME\"\n\necho \"\ud83d\udcc1 Moving final binary to $SNAPSHOT_DIR/\"\nmv \"dist/$SNAPSHOT_NAME\" \"$SNAPSHOT_DIR/$SNAPSHOT_NAME.bin\"\n\necho \"\u2705 Snapshot complete: $SNAPSHOT_DIR/$SNAPSHOT_NAME.bin\"\n\n\n\n[INFO 2025-08-13 21:04:38.162216] AI reply received (7304 chars)\n[INFO 2025-08-13 21:04:38.162249] AI query successful\n[INFO 2025-08-13 21:04:38.168333] Created new document 250\n[INFO 2025-08-13 21:04:38.168778] Selected text not found; no link embedded\n[INFO 2025-08-13 21:07:32.675886] Imported 251\n^CException in Tkinter callback\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/tkinter/__init__.py\", line 1967, in __call__\n    return self.func(*args)\n           ^^^^^^^^^^^^^^^^\n  File \"/home/gross/FunKit/modules/gui_tkinter.py\", line 756, in _on_delete_clicked\n    messagebox.showinfo(\"Deleted\", f\"Document {nid} has been deleted.\")\n  File \"/usr/lib/python3.12/tkinter/messagebox.py\", line 88, in showinfo\n    return _show(title, message, INFO, OK, **options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/tkinter/messagebox.py\", line 76, in _show\n    res = Message(**options).show()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/tkinter/commondialog.py\", line 45, in show\n    s = master.tk.call(self.command, *master._options(self.options))\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nKeyboardInterrupt\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ ls -ltr ../Downloads/\n\u001b[?2004l\ntotal 5637688\n-rw-rw-r-- 1 gross gross      28959 Jan 31  1993  pkunzip.exe\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0m\u001b[0;36mbiosr11\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mbackee28\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mpsps30\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mprintgf\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mpcm140\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mmemscan\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mmaxspeed\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mjcbench\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mirqinfo\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mguard\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mdata_rec\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msyschk40\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msrxtest\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msnoop330\u001b[0m\ndrwxrwxr-x 4 gross gross       4096 Sep  9  1997  \u001b[0;36mupgradep\u001b[0m\n-rw-rw-r-- 1 gross gross     197143 Mar  8 03:39  friendships-image.png\n-rw-rw-r-- 1 gross gross     133244 Mar 10 06:49  Cyria_and_Elevator.jpg\n-rw-rw-r-- 1 gross gross     771670 Mar 11 05:23  Unitary_Executive.webp\n-rw-rw-r-- 1 gross gross       2688 Apr 14 20:27  create_neural_trailer.py\n-rw-rw-r-- 1 gross gross    2133015 Apr 14 20:34 'ChatGPT Image Apr 14, 2025, 08_34_02 PM.png'\n-rw-rw-r-- 1 gross gross    1431755 Apr 14 20:38  oscilloscope-trace.png\n-rw-rw-r-- 1 gross gross       2673 Apr 14 21:04  create_neural_trailer_fixed.py\n-rw-rw-r-- 1 gross gross       2652 Apr 14 21:19  create_neural_trailer_fixed_final.py\n-rw-rw-r-- 1 gross gross       2693 Apr 14 21:24  create_neural_trailer_final_fixed.py\n-rw-rw-r-- 1 gross gross       2701 Apr 14 21:34  upload_video_to_youtube.py\n-rw-rw-r-- 1 gross gross        409 Apr 14 21:48  client_secret_397308046611-boq5nfbs5l65kki9cdtkfh0jgqkvoods.apps.googleusercontent.com.json\n-rw-rw-r-- 1 gross gross   10782310 Apr 14 23:04  youtubeuploader_1.24.4_Linux_amd64.tar.gz\ndrwxrwxr-x 2 gross gross       4096 Apr 14 23:04  \u001b[0;36myoutubeuploader_1.24.4_Linux_amd64\u001b[0m\n-rw-rw-r-- 1 gross gross       3485 Apr 15 04:05  create_neural_trailer_debug_filter.py\n-rw-rw-r-- 1 gross gross    1049433 Apr 15 05:11  Hallelujah.pdf\n-rw-rw-r-- 1 gross gross    1987405 Apr 15 05:11 'Thine is the glory.pdf'\n-rw-rw-r-- 1 gross gross     440106 Apr 15 05:11 'Trumpet I & Trumpet II.pdf'\n-rw-rw-r-- 1 gross gross     836616 Apr 15 05:11 'Coronation March.pdf'\n-rw-rw-r-- 1 gross gross    1472064 Apr 15 05:11 'marche triomphale.pdf'\n-rw-rw-r-- 1 gross gross     270011 Apr 15 05:11 'Nichols Resurrection anthem brass001.pdf'\n-rw-rw-r-- 1 gross gross       3078 Apr 15 05:29  analyze_video_metadata.py\n-rw-rw-r-- 1 gross gross   41117934 Apr 15 06:03  IMG_1664.MP4\n-rw-rw-r-- 1 gross gross     754923 Apr 15 06:09 'iCloud Photos.zip'\n-rw-rw-r-- 1 gross gross     615579 Apr 15 06:13 'La Vida Es Un Carnaval - Cruz (Trombone, Bb Trumpet, Tenor Sax) (Concert Cut).pdf'\n-rw-rw-r-- 1 gross gross   12617725 Apr 15 06:25  video-629_singular_display.MP4\n-rw-rw-r-- 1 gross gross   45170194 Apr 15 15:22 'iCloud Photos (1).zip'\ndrwxrwxr-x 3 gross gross       4096 Apr 15 15:23 \u001b[0;36m'iCloud Photos (1)'\u001b[0m\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:26  img-XVIXupiEqlFj796tsHf7F61H.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:40  Women_Understanding.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:49  female_ginsberg.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:57  Frost_Woman.png\n-rw-rw-r-- 1 gross gross     369939 Apr 15 23:19 'GPT-4.1 Prompting Guide _ OpenAI Cookbook.pdf'\n-rw-rw-r-- 1 gross gross  109845104 Apr 15 23:34  midori-11.5.2.linux-x86_64.tar.bz2\n-rw-rw-r-- 1 gross gross   91977104 Apr 15 23:34  midori_11.5.2-1_amd64.deb\n-rw-rw-r-- 1 gross gross     197143 Apr 16 00:09  Woman_to_Date.png\n-rw-rw-r-- 1 gross gross    2132052 Apr 16 09:02 'ChatGPT Image Apr 16, 2025, 09_02_05 AM.png'\n-rw-rw-r-- 1 gross gross    2132052 Apr 16 09:03  Coal_Minors_Tea_Party.png\n-rw-rw-r-- 1 gross gross    3312936 Apr 16 09:13 'ChatGPT Image Apr 16, 2025, 09_13_18 AM.png'\n-rw-rw-r-- 1 gross gross    3312936 Apr 16 09:13  Chinese_Cell_Phone_Tea_Party.png\n-rw-rw-r-- 1 gross gross     117910 Apr 16 10:33 'Gmail - Greetings.pdf'\n-rw-rw-r-- 1 gross gross    1039888 Apr 16 10:38 'English - Cordoba Contract.pdf'\n-rw-rw-r-- 1 gross gross  254366302 Apr 16 22:24  Blues_Bookends.mp4\n-rw-rw-r-- 1 gross gross       1194 Apr 17 07:00  clean_video_metadata.py\n-rw-rw-r-- 1 gross gross       1051 Apr 17 10:18  chyron_phrases.txt\n-rw-rw-r-- 1 gross gross    8091581 Apr 17 10:47  chyron_layer_preview.mp4\n-rw-rw-r-- 1 gross gross    1378660 Apr 17 12:49  KolAmi_CC_2nd_Rehearsal_DSC_0126.jpg\n-rw-rw-r-- 1 gross gross       1025 Apr 17 14:10  PAVE_README.txt\n-rw-rw-r-- 1 gross gross       2415 Apr 17 15:01  pave_generate_base_video.py\n-rw-rw-r-- 1 gross gross     943643 Apr 17 15:15  countdown.mp4\n-rw-rw-r-- 1 gross gross       2500 Apr 17 22:00 'analyze_video_metadata (1).py'\n-rw-rw-r-- 1 gross gross       3485 Apr 18 02:57  create_neural_trailer_debug_filter_patched.py\n-rw-rw-r-- 1 gross gross       3020 Apr 18 03:35  analyze_video_metadata_enhanced.py\n-rw-rw-r-- 1 gross gross       3160 Apr 18 03:38  analyze_video_metadata_enhanced_fixed.py\n-rw-rw-r-- 1 gross gross       3168 Apr 18 03:42  analyze_video_metadata_fixed_path.py\n-rw-rw-r-- 1 gross gross        895 Apr 18 10:42  discover_videos.zip\n-rw-rw-r-- 1 gross gross       2400 Apr 18 15:44  generate_chyron_overlay_scroll.py\n-rw-rw-r-- 1 gross gross    1049433 Apr 18 21:11 'Hallelujah (1).pdf'\n-rw-rw-r-- 1 gross gross  451305311 Apr 19 05:14  buffered.mp4\n-rw-rw-r-- 1 gross gross         91 Apr 19 05:26  env.example\n-rw-rw-r-- 1 gross gross       2084 Apr 19 05:26  activate\n-rw-rw-r-- 1 gross gross    8019136 Apr 19 06:15  python3.12\n-rw-rw-r-- 1 gross gross      32748 Apr 19 06:18  bash_history\n-rw-rw-r-- 1 gross gross     664153 Apr 19 12:21  original-7E5F34EF-C836-4B26-B84E-5E309FD21808.jpeg\n-rw-rw-r-- 1 gross gross       3713 Apr 19 19:27  video_search_update.zip\ndrwxrwxr-x 4 gross gross       4096 Apr 19 19:31  \u001b[0;36mvideo_search_update\u001b[0m\ndrwxrwxr-x 3 gross gross       4096 Apr 19 19:32  \u001b[0;36mdata\u001b[0m\n-rw-rw-r-- 1 gross gross       1705 Apr 19 19:56  updated_templates.zip\n-rw-rw-r-- 1 gross gross      27642 Apr 21 08:56  invoice-990659.pdf\n-rw-rw-r-- 1 gross gross       2531 Apr 21 10:41  mp3_auto_renamer_flat_output.py\n-rw-rw-r-- 1 gross gross      31431 Apr 21 12:52  Captions.html\ndrwx------ 2 gross gross       4096 Apr 21 12:52  \u001b[0;36mCaptions_files\u001b[0m\n-rw-rw-r-- 1 gross gross      10075 Apr 21 20:04  profile-6.ovpn\n-rw-rw-r-- 1 gross gross    3421182 Apr 21 22:33  Harvard-Funding-Freeze-Order-Complaint.pdf\n-rw-rw-r-- 1 gross gross      32516 Apr 22 06:17  Things_that_Make_you_a_Better_Musician.jpg\n-rw-rw-r-- 1 gross gross       2653 Apr 22 11:52  backup_to_dvds.sh\n-rw-rw-r-- 1 gross gross       2653 Apr 22 11:57  backup_to_dvds_canvas.sh\n-rw-rw-r-- 1 gross gross       2653 Apr 22 12:10  backup_to_dvds_readloop.sh\n-rw-rw-r-- 1 gross gross       5914 Apr 22 13:02  Medley-QR.png\n-rw-rw-r-- 1 gross gross    3157195 Apr 22 19:37 \"20250422_1932_Liberty's Modern Contrast_simple_compose_01jsg7s4jffq6bx4fsqgy5appj.png\"\n-rw-rw-r-- 1 gross gross      25248 Apr 22 19:53  Glen_w-Trumpet_Dark.jpg\n-rw-rw-r-- 1 gross gross      33944 Apr 23 02:50  frame_0287.jpg\n-rw-rw-r-- 1 gross gross       3925 Apr 23 03:45  ocr_preview_web_fixed.py\n-rw-rw-r-- 1 gross gross       4037 Apr 23 03:52  ocr_preview_web_range_enabled.py\n-rw-rw-r-- 1 gross gross       3547 Apr 23 04:13  ocr_preview_web_final.py\n-rw-rw-r-- 1 gross gross       4130 Apr 23 06:19  ocr_preview_web_js_seek.py\n-rw-rw-r-- 1 gross gross       2172 Apr 23 06:27  results.html\n-rw-rw-r-- 1 gross gross       2716 Apr 23 07:29  perform_ocr_google_to_main_db.py\ndrwxrwxr-x 2 gross gross       4096 Apr 24 07:15 \u001b[0;36m'iCloud Photos'\u001b[0m\n-rw-rw-r-- 1 gross gross    2160938 Apr 25 04:17 'ChatGPT Image Apr 25, 2025, 04_17_33 AM.png'\n-rw-rw-r-- 1 gross gross    2160938 Apr 25 04:17 'ChatGPT Image Apr 25, 2025, 04_17_42 AM.png'\n-rw-rw-r-- 1 gross gross    2043170 Apr 25 06:46  Fix_Stereo_Video_AR.png\n-rw-rw-r-- 1 gross gross    1878751 Apr 25 06:56  OpenAI-Crystal_Ball.png\n-rw-rw-r-- 1 gross gross    1878751 Apr 25 06:56 'ChatGPT Image Apr 25, 2025, 06_56_36 AM.png'\n-rw-rw-r-- 1 gross gross    2489875 Apr 25 07:03 'ChatGPT Image Apr 25, 2025, 07_03_02 AM.png'\n-rw-rw-r-- 1 gross gross    2489875 Apr 25 07:03  Burning_City_Crystal_Ball.png\n-rw-rw-r-- 1 gross gross       4785 Apr 25 12:10  profile-6-beautified.ovpn\n-rw-rw-r-- 1 gross gross       1112 Apr 26 02:09  profile-6-tcp-template.ovpn\n-rw-rw-r-- 1 gross gross       9635 Apr 26 04:32  profile-6-stunnel.ovpn\n-rw-rw-r-- 1 gross gross  176225153 Apr 26 23:42  Sullivans_Set3_042625.mp4\n-rw-rw-r-- 1 gross gross  247022345 Apr 26 23:53  Sullivans_Set1_042625.mp4\n-rw-rw-r-- 1 gross gross  134137999 Apr 26 23:57  Sullivans_Set2_042625.mp4\n-rw-rw-r-- 1 gross gross         42 Apr 27 06:09  listen.m3u\n-rw-rw-r-- 1 gross gross       3806 Apr 28 05:19  burn_dir_to_dvds_progress_fix2.sh\n-rw-rw-r-- 1 gross gross       3437 Apr 28 05:29  burndir_wait.sh\n-rw-rw-r-- 1 gross gross    4090232 Apr 28 07:15 'ChatGPT Image Apr 28, 2025, 07_15_02 AM.png'\n-rw-rw-r-- 1 gross gross        489 Apr 28 07:25 'ChatGPT Image Apr 28, 2025, 07_25_27 AM.png'\n-rw-rw-r-- 1 gross gross    4179191 Apr 28 07:28  Crypto_challenge.png\n-rw-rw-r-- 1 gross gross        489 Apr 28 09:33 'ChatGPT Image Apr 28, 2025, 09_33_58 AM.png'\n-rw-rw-r-- 1 gross gross    4156013 Apr 28 09:38  crypto_challenge_etching.zip\n-rw-rw-r-- 1 gross gross    4156013 Apr 28 09:39 'crypto_challenge_etching (1).zip'\n-rw-rw-r-- 1 gross gross    4608757 Apr 28 09:42  crypto_challenge_etching_v2.zip\n-rw-rw-r-- 1 gross gross    4631476 Apr 28 09:45  Crypto_Challenge.png\n-rw-rw-r-- 1 gross gross      71973 Apr 28 16:16  Sharla.jpg\n-rw-r--r-- 1 gross gross    4179191 Apr 28 16:37  crypto_challenge_etching.png\n-rw-r--r-- 1 gross gross    4179191 Apr 28 16:37 'crypto_challenge_etching (2).png'\n-rw-r--r-- 1 gross gross    4631476 Apr 28 16:42  crypto_challenge_etching_v2.png\n-rw-rw-r-- 1 gross gross      29413 Apr 29 03:47  meta_llama4_report.pdf\n-rw-rw-r-- 1 gross gross       5149 Apr 29 03:50  meta_llama4_report.rtf\n-rw-rw-r-- 1 gross gross       5903 Apr 29 03:52  meta_llama4_report.html\n-rw-rw-r-- 1 gross gross    3213429 Apr 29 04:21 'ChatGPT Image Apr 29, 2025, 04_21_46 AM.png'\n-rw-rw-r-- 1 gross gross    3213429 Apr 29 04:22  Cosell_and_the_AI_Race.png\n-rw-rw-r-- 1 gross gross      88757 Apr 30 05:20  benefit-verification-letter.pdf\n-rw-rw-r-- 1 gross gross      88731 Apr 30 05:20 'benefit-verification-letter (1).pdf'\n-rw-rw-r-- 1 gross gross      39300 Apr 30 05:49 '2024Initial 1099.pdf'\n-rw-rw-r-- 1 gross gross      54314 Apr 30 20:10  Maria_1.jpg\n-rw-rw-r-- 1 gross gross      37406 Apr 30 20:10  Maria_2.jpg\n-rw-rw-r-- 1 gross gross     733838 Apr 30 20:10  Maria_3.jpg\n-rw-rw-r-- 1 gross gross  286096308 May  1 00:46  Meta_Developers_043125.mp4\n-rw-rw-r-- 1 gross gross    1579176 May  1 03:00  Glens_Project_Schedule.png\n-rw-rw-r-- 1 gross gross    3110389 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_01 AM.png'\n-rw-rw-r-- 1 gross gross    1640180 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_09 AM.png'\n-rw-rw-r-- 1 gross gross    4354181 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_14 AM.png'\n-rw-rw-r-- 1 gross gross        489 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_20 AM.png'\n-rw-rw-r-- 1 gross gross    1903945 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_11 AM.png'\n-rw-rw-r-- 1 gross gross    1973790 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_16 AM.png'\n-rw-rw-r-- 1 gross gross    2019284 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_20 AM.png'\n-rw-rw-r-- 1 gross gross    2832192 May  2 03:45 'ChatGPT Image May 2, 2025, 03_45_12 AM.png'\n-rw-rw-r-- 1 gross gross    2499315 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_39 AM.png'\n-rw-rw-r-- 1 gross gross    2832192 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_45 AM.png'\n-rw-rw-r-- 1 gross gross    1903945 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_50 AM.png'\n-rw-rw-r-- 1 gross gross    1973790 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_55 AM.png'\n-rw-rw-r-- 1 gross gross    2387340 May  2 03:47 'ChatGPT Image May 2, 2025, 03_47_40 AM.png'\n-rw-rw-r-- 1 gross gross   18332666 May  2 04:13  liberation_equation_article.pdf\n-rw-rw-r-- 1 gross gross   18332355 May  2 04:15  liberation_equation_magazine.pdf\n-rw-rw-r-- 1 gross gross      11536 May  2 04:30  liberation_equation_article_expanded.pdf\n-rw-rw-r-- 1 gross gross    2707088 May  2 04:40 'ChatGPT Image May 2, 2025, 04_40_13 AM.png'\n-rw-rw-r-- 1 gross gross    2802872 May  2 04:43  liberation_equation_html.zip\n-rw-rw-r-- 1 gross gross      56932 May  2 05:04  liberation_equation_lowres.pdf\n-rw-rw-r-- 1 gross gross   54853581 May  4 13:24  Tanya_w-Gehrig_and_Malik.mp4\n-rw-rw-r-- 1 gross gross       1114 May  4 20:19  itinerary_flights.ics\n-rw-rw-r-- 1 gross gross       1114 May  4 20:22 'itinerary_flights (1).ics'\ndrwx------ 2 gross gross       4096 May  5 04:02  \u001b[0;36mthunderbird.tmp\u001b[0m\n-rw-rw-r-- 1 gross gross     168540 May  5 15:04 'Vehicle Registration.pdf'\n-rw-rw-r-- 1 gross gross      98871 May  5 15:04 'MVD Payment Receipt 70801720.pdf'\n-rw-rw-r-- 1 gross gross      98871 May  5 15:10 'MVD Payment Receipt 70801720 (1).pdf'\n-rw-rw-r-- 1 gross gross  799920128 May  5 19:57  Worlds-Desktop-Editor-v212.0.0.9.643.msi\n-rw-rw-r-- 1 gross gross   14955128 May  5 20:12  Music-Therapy_1of6.m4a\n-rw-rw-r-- 1 gross gross   15032860 May  5 20:13  Music-Therapy_3of6.m4a\n-rw-rw-r-- 1 gross gross   15079558 May  5 20:13  Music-Therapy_4of6.m4a\n-rw-rw-r-- 1 gross gross   15075020 May  5 20:13  Music-Therapy_5of6.m4a\n-rw-rw-r-- 1 gross gross   14999098 May  5 20:28  Music-Therapy_6of6.m4a\n-rw-rw-r-- 1 gross gross   95222702 May  5 21:21  Back_in_Tucson_Blues_1080p.mp4\n-rw-rw-r-- 1 gross gross    1535071 May  6 04:19 'Till Tomorrow (AMB Funeral).pdf'\n-rw-rw-r-- 1 gross gross     114466 May  6 04:19  maxresdefault.jpg\n-rw-rw-r-- 1 gross gross    1535071 May  6 04:24 'Till Tomorrow (AMB Funeral) (1).pdf'\n-rw-rw-r-- 1 gross gross      47428 May  6 04:35  TIL_TOMORROW_from_The_Musical_FIORELLO.pdf\n-rw-rw-r-- 1 gross gross      66349 May  6 12:58  til-tomorrow-p444272-glendon144@gmail.com-6240154517641.pdf\n-rw-rw-r-- 1 gross gross      66349 May  7 04:19  till-tomorrow.pdf\n-rw-rw-r-- 1 gross gross  116491424 May 10 05:19  google-chrome-stable_current_amd64.deb\n-rw-rw-r-- 1 gross gross     273161 May 10 13:42  AI_Bike_Cyria.jpg\n-rw-rw-r-- 1 gross gross     563843 May 10 13:46  691e19e9-7706-4807-b99d-3a4c8b6267ec.jpg\n-rw-rw-r-- 1 gross gross    2666850 May 10 17:40 'ChatGPT Image May 10, 2025, 05_40_46 PM.png'\n-rw-rw-r-- 1 gross gross    2666850 May 10 17:40  GGF_Mothers_Day.png\n-rw-rw-r-- 1 gross gross      54257 May 10 19:11  Simone_Biles_and_Tiger.jpg\n-rw-rw-r-- 1 gross gross       2987 May 13 10:47  tsrc_edited_plan.rtf\n-rw-rw-r-- 1 gross gross       1498 May 13 10:47  tsrc_exec_summary.rtf\n-rw-rw-r-- 1 gross gross       2741 May 13 10:50  tsrc_edited_plan.pdf\n-rw-rw-r-- 1 gross gross       1970 May 13 10:51  tsrc_exec_summary.pdf\n-rw-rw-r-- 1 gross gross       2702 May 13 10:55  tsrc_edited_plan_clean.pdf\n-rw-rw-r-- 1 gross gross       1948 May 13 10:55  tsrc_exec_summary_clean.pdf\n-rw-rw-r-- 1 gross gross       4359 May 13 11:03  tsrc_edited_plan_fullsentences.pdf\n-rw-rw-r-- 1 gross gross    1911781 May 13 14:50 'ChatGPT Image May 13, 2025, 02_50_06 PM.png'\n-rw-rw-r-- 1 gross gross    2184216 May 13 14:51  tsrc_comprehensive_report.pdf\n-rw-rw-r-- 1 gross gross       2347 May 14 02:38  Pocket_Book_of_Letting_Go_Clean.pdf\n-rw-rw-r-- 1 gross gross    2801632 May 14 02:47 'ChatGPT Image May 14, 2025, 02_47_53 AM.png'\n-rw-rw-r-- 1 gross gross    2730095 May 14 02:50  Pocket_Book_of_Letting_Go.pdf\n-rw-rw-r-- 1 gross gross       2340 May 14 02:56  Pocket_Book_of_Letting_Go_Text_Only.pdf\n-rw-rw-r-- 1 gross gross    3099960 May 14 03:13 'ChatGPT Image May 14, 2025, 03_13_58 AM.png'\n-rw-rw-r-- 1 gross gross    3099960 May 14 03:14  Glen_at_the_River.png\n-rw-rw-r-- 1 gross gross    1829087 May 14 03:29 'ChatGPT Image May 14, 2025, 03_29_18 AM.png'\n-rw-rw-r-- 1 gross gross     430315 May 14 03:30  trumpeter_variant_1.png\n-rw-rw-r-- 1 gross gross     437870 May 14 03:30  trumpeter_variant_2.png\n-rw-rw-r-- 1 gross gross     442031 May 14 03:30  trumpeter_variant_3.png\n-rw-rw-r-- 1 gross gross     437981 May 14 03:30  trumpeter_variant_4.png\n-rw-rw-r-- 1 gross gross     622686 May 14 03:33  trumpeter_corrected_4.png\n-rw-rw-r-- 1 gross gross     783996 May 14 03:33  trumpeter_corrected_3.png\n-rw-rw-r-- 1 gross gross     768151 May 14 03:33  trumpeter_corrected_2.png\n-rw-rw-r-- 1 gross gross     600714 May 14 03:33  trumpeter_corrected_1.png\n-rw-rw-r-- 1 gross gross    2776215 May 14 03:40 'ChatGPT Image May 14, 2025, 03_40_09 AM.png'\n-rw-rw-r-- 1 gross gross    2770053 May 14 03:44 'ChatGPT Image May 14, 2025, 03_44_21 AM.png'\n-rw-rw-r-- 1 gross gross    2656797 May 14 03:48 'ChatGPT Image May 14, 2025, 03_48_47 AM.png'\n-rw-rw-r-- 1 gross gross        489 May 14 10:36 'ChatGPT Image May 14, 2025, 10_36_51 AM.png'\n-rw-rw-r-- 1 gross gross    2100396 Jun  9 10:06  img-dt8tNJ36qjhRcUInHGZMl53q.png\n-rw-rw-r-- 1 gross gross    2107979 Jun 11 22:22  Loves_Snare.png\n-rw-rw-r-- 1 gross gross    1711762 Jun 12 08:06  AI-Romance.png\n-rw-rw-r-- 1 gross gross    2790443 Jun 13 06:50  Lonely_without_Cyria.png\n-rw-rw-r-- 1 gross gross     427920 Jun 13 06:53  Lonely_without_Cyria.jpg\n-rw-rw-r-- 1 gross gross     237459 Aug  1 03:54  Beautifu_Argentine.jpg\n-rw-rw-r-- 1 gross gross        843 Aug  4 05:35  AppointmentReminder.ics\n-rw-rw-r-- 1 gross gross       1569 Aug  6 07:01  hyperscope_python_port.py\n-rw-rw-r-- 1 gross gross 2514124800 Aug  6 10:10  ubuntu-18.04.6-desktop-amd64.iso\n-rw-rw-r-- 1 gross gross     282808 Aug  6 10:21  IMG_0024.JPG\n-rw-rw-r-- 1 gross gross       1569 Aug  6 16:11 'hyperscope_python_port(1).py'\n-rw-rw-r-- 1 gross gross       1569 Aug  7 12:36 'hyperscope_python_port(2).py'\n-rw-rw-r-- 1 gross gross      20370 Aug  7 14:40  gui_tkinter.py\n-rw-rw-r-- 1 gross gross       1569 Aug  7 20:27  hyperscope.py\n-rw-rw-r-- 1 gross gross       6242 Aug  7 20:32  hyper_scope_tkinter_pane_outline_viewer.py\n-rw-rw-r-- 1 gross gross       6242 Aug  7 20:32 'hyper_scope_tkinter_pane_outline_viewer(1).py'\n-rw-rw-r-- 1 gross gross      19874 Aug  7 20:46  tree_view.py\n-rw-rw-r-- 1 gross gross      24415 Aug  7 21:01  gui_tkinter.patched.py\n-rw-rw-r-- 1 gross gross      30137 Aug  7 21:09  gui_tkinter.opml_autorender.py\n-rw-rw-r-- 1 gross gross      16470 Aug  7 21:24  gui_tkinter.opml_autorender_fix.py\n-rw-rw-r-- 1 gross gross      29145 Aug  7 21:29  gui_tkinter.fixed.py\n-rw-rw-r-- 1 gross gross      30569 Aug  7 21:30  gui_tkinter.fixed2.py\n-rw-rw-r-- 1 gross gross       4962 Aug  8 02:26  Beyond_Tools_Human_AI_Symbiosis_FULL.html\n-rw-rw-r-- 1 gross gross       5495 Aug  8 02:26  Beyond_Tools_Human_AI_Symbiosis_FULL.pdf\n-rw-rw-r-- 1 gross gross      10793 Aug  8 02:27  Beyond_Tools_Human_AI_Symbiosis_FULL.zip\ndrwxrwxr-x 2 gross gross       4096 Aug  8 02:27  \u001b[0;36mBeyond_Tools_Human_AI_Symbiosis_FULL\u001b[0m\n-rw-rw-r-- 1 gross gross      10793 Aug  8 02:27 'Beyond_Tools_Human_AI_Symbiosis_FULL(1).zip'\n-rw-rw-r-- 1 gross gross     109135 Aug  8 02:50 'Bootstrapping Brilliance Toolkit - Putting Vision to Practice - Doug Engelbart Institute.html'\ndrwxr-xr-x 3 gross gross       4096 Aug  8 02:50 \u001b[0;36m'Bootstrapping Brilliance Toolkit - Putting Vision to Practice - Doug Engelbart Institute_files'\u001b[0m\n-rw-rw-r-- 1 gross gross     103866 Aug  8 02:55  Glen_Headshot.jpg\n-rw-rw-r-- 1 gross gross       5674 Aug  8 03:12  human_ai_symbiosis.pdf\n-rw-rw-r-- 1 gross gross     141553 Aug  8 03:17  Engelbart_Firsts.jpg\n-rw-rw-r-- 1 gross gross      11130 Aug  8 03:19  human_ai_symbiosis_package.zip\n-rw-rw-r-- 1 gross gross       5192 Aug  8 03:19  human_ai_symbiosis.html\n-rw-rw-r-- 1 gross gross        472 Aug  8 04:43  Hypertext_Standards\n-rw-rw-r-- 1 gross gross     270329 Aug  8 04:59 'Douglas Engelbart and the Mother of all Demos _ Hidden Heroes.pdf'\n-rw-rw-r-- 1 gross gross       9301 Aug  9 08:33  renderer.py\n-rw-rw-r-- 1 gross gross        148 Aug  9 08:33  demo.html\n-rw-rw-r-- 1 gross gross        843 Aug  9 08:33  demo_from_html.opml\n-rw-rw-r-- 1 gross gross        409 Aug  9 08:33  demo_preview.txt\n-rw-rw-r-- 1 gross gross        843 Aug  9 08:34 'demo_from_html (1).opml'\n-rw-rw-r-- 1 gross gross    5900416 Aug  9 09:58  firefox20.exe\n-rw-rw-r-- 1 gross gross      15215 Aug  9 10:24  renderer-update.py\n-rw-rw-r-- 1 gross gross       7687 Aug  9 11:08  hypertext_parser.py\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12  hypertext_parser-latest.py\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12 'hypertext_parser(1).py'\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12 'hypertext_parser(2).py'\n-rw-rw-r-- 1 gross gross      32254 Aug  9 12:31  gui_tkinter_patched.py\n-rw-rw-r-- 1 gross gross      32094 Aug  9 12:42  gui_tkinter_flask_fixed.py\n-rw-rw-r-- 1 gross gross      32363 Aug  9 13:18  gui_tkinter_cleaned.py\n-rw-rw-r-- 1 gross gross      40414 Aug  9 14:37  gui_tkinter_newest.py\n-rw-rw-r-- 1 gross gross      33834 Aug  9 14:54  gui_tkinter_patched2.py\n-rw-rw-r-- 1 gross gross      34256 Aug  9 15:41  gui_tkinter_clean.py\n-rw-rw-r-- 1 gross gross       8846 Aug  9 15:41  funkit_gui_tk_clean.zip\n-rw-rw-r-- 1 gross gross        157 Aug  9 19:25  demokit_gui.zip\n-rw-rw-r-- 1 gross gross       8892 Aug  9 22:11  gui_tkinter_patched.zip\n-rw-rw-r-- 1 gross gross      34500 Aug  9 22:11 'gui_tkinter_patched (1).py'\n-rw-rw-r-- 1 gross gross       8998 Aug  9 22:18  gui_tkinter_cleaned.zip\n-rw-rw-r-- 1 gross gross      34972 Aug  9 22:18 'gui_tkinter_cleaned (1).py'\n-rw-rw-r-- 1 gross gross      34451 Aug  9 23:19  gui_tkinter_renderfix.py\n-rw-rw-r-- 1 gross gross       8946 Aug  9 23:19  gui_tkinter_renderfix.zip\n-rw-rw-r-- 1 gross gross    1879760 Aug 10 14:26 'Raspberry Pi and Display Technical Blueprint.png'\n-rw-rw-r-- 1 gross gross    1879760 Aug 10 14:29 'Raspberry Pi and Display Technical Blueprint(1).png'\n-rw-rw-r-- 1 gross gross      35918 Aug 10 14:30  rpi-with-display.webp\n-rw-rw-r-- 1 gross gross    1040094 Aug 10 14:36 'Raspberry Pi with Retro Smiling Display.png'\n-rw-rw-r-- 1 gross gross    2817994 Aug 10 14:46  raspberry-pi-poker-hand.png\n-rw-rw-r-- 1 gross gross        489 Aug 10 15:15 'ChatGPT Image Aug 10, 2025, 03_15_02 PM.png'\n-rw-rw-r-- 1 gross gross        489 Aug 10 15:15 'Smiles and Pixels at the Caf\u00e9.png'\n-rw-rw-r-- 1 gross gross      65532 Aug 10 16:07  Father_Wound.jpg\n-rw-rw-r-- 1 gross gross       3084 Aug 10 17:07  father_wound_blues_lead_sheet.pdf\n-rw-rw-r-- 1 gross gross       2338 Aug 10 18:31  father_wound_blues_melody_lead_sheet_v2.pdf\n-rw-rw-r-- 1 gross gross    2612338 Aug 11 07:30  Asian_Pikit_User.png\n-rw-rw-r-- 1 gross gross      18251 Aug 13 13:01  aopmlengine.py\n-rw-rw-r-- 1 gross gross      16566 Aug 13 13:12  gui_tkinter_aopml.py\n-rw-rw-r-- 1 gross gross      17400 Aug 13 13:30  gui_tkinter_Aupdate.py\n-rw-rw-r-- 1 gross gross      26536 Aug 13 13:42  gui_tinter_merged.py\n-rw-rw-r-- 1 gross gross      28025 Aug 13 14:37 'gui_tkinter (1).py'\n-rw-rw-r-- 1 gross gross       7100 Aug 13 14:37  gui_tkinter.zip\n-rw-rw-r-- 1 gross gross       7100 Aug 13 14:39  gui_tkinter-new.zip\n-rw-rw-r-- 1 gross gross      28025 Aug 13 14:41  gui_tkinter_golden.py\n-rw-rw-r-- 1 gross gross       7227 Aug 13 14:44  gui_tkinter_081325.zip\n-rw-rw-r-- 1 gross gross      30569 Aug 13 14:55  gui_tkinter_rollback.py\n-rw-rw-r-- 1 gross gross      33214 Aug 13 14:55  gui_tkinter_phase1.py\n-rw-rw-r-- 1 gross gross      16142 Aug 13 14:55  gui_tkinter_rollback_and_phase1.zip\n-rw-rw-r-- 1 gross gross       9049 Aug 13 15:11  gui_tkinter_phase2_1_batch_fallback.zip\n-rw-rw-r-- 1 gross gross      36677 Aug 13 15:11  gui_tkinter_phase2_1_batch_fallback.py\n-rw-rw-r-- 1 gross gross      38217 Aug 13 15:18  gui_tkinter_phase2_3_prefs.py\n-rw-rw-r-- 1 gross gross      38255 Aug 13 15:25  gui_tkinter_phase2_3_1_prefs_newline_fix.py\n-rw-rw-r-- 1 gross gross       9324 Aug 13 15:25  gui_tkinter_phase2_3_1_prefs_newline_fix.zip\n-rw-rw-r-- 1 gross gross      41430 Aug 13 15:35  gui_tkinter_phase2_3_2_batch_validate_repair.py\n-rw-rw-r-- 1 gross gross       9887 Aug 13 15:35  gui_tkinter_phase2_3_2_batch_validate_repair.zip\n-rw-rw-r-- 1 gross gross      45182 Aug 13 15:44  gui_tkinter_phase2_4_url_ingest.py\n-rw-rw-r-- 1 gross gross      10780 Aug 13 15:44  gui_tkinter_phase2_4_url_ingest.zip\n-rw-rw-r-- 1 gross gross      52372 Aug 13 15:55  gui_tkinter_phase2_5_url_resilient.py\n-rw-rw-r-- 1 gross gross      59723 Aug 13 16:02  gui_tkinter_phase2_5_1_url_async_dbmain.py\n-rw-rw-r-- 1 gross gross      12641 Aug 13 16:02  gui_tkinter_phase2_5_1_url_async_dbmain.zip\n-rw-rw-r-- 1 gross gross      59771 Aug 13 16:11  gui_tkinter_phase2_5_2_url_async_dbmain_timefix.py\n-rw-rw-r-- 1 gross gross      12651 Aug 13 16:11  gui_tkinter_phase2_5_2_url_async_dbmain_timefix.zip\n-rw-rw-r-- 1 gross gross      60560 Aug 13 16:15  gui_tkinter_phase2_5_3_title_fix.py\n-rw-rw-r-- 1 gross gross      12918 Aug 13 16:16  gui_tkinter_phase2_5_3_title_fix.zip\n-rw-rw-r-- 1 gross gross      68769 Aug 13 16:18  gui_tkinter_phase2_5_4_url_modes_cancel.py\n-rw-rw-r-- 1 gross gross      13579 Aug 13 16:18  gui_tkinter_phase2_5_4_url_modes_cancel.zip\n-rw-rw-r-- 1 gross gross      68420 Aug 13 16:22  gui_tkinter_phase2_5_4_url_modes_cancel_fixed.py\n-rw-rw-r-- 1 gross gross      13463 Aug 13 16:22  gui_tkinter_phase2_5_4_url_modes_cancel_fixed.zip\n-rw-rw-r-- 1 gross gross       1826 Aug 13 19:26  funkit_lean.spec\n-rw-rw-r-- 1 gross gross       4320 Aug 13 19:38  build_all_variants.sh\n-rw-rw-r-- 1 gross gross       7784 Aug 13 20:02  save_as_text_plugin.py\n-rw-rw-r-- 1 gross gross       9925 Aug 13 20:20  save_as_text_plugin_v2.py\n-rw-rw-r-- 1 gross gross      13960 Aug 13 20:36  opml_extras_plugin.py\n-rw-rw-r-- 1 gross gross      16854 Aug 13 20:55  opml_extras_plugin_v2.py\n-rw-rw-r-- 1 gross gross       7582 Aug 13 21:15  save_as_text_plugin_v3.py\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ cp ../Downloads/ \b\u001b[Ksave\u0007_as_text_plugin_v\u00073.py modules/save_as_text_ply\b\u001b[Kugin.py\b\u001b[K\b\u001b[K\b\u001b[K_v3.py\n\u001b[?2004l\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi modules_\b\u001b[K/command_processor.py \n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/command_processor.py\" 87L, 3452B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;13H\u001b[38;5;130mif\u001b[m sel_start \u001b[38;5;130mis\u001b[m \u001b[38;5;130mnot\u001b[m \u001b[36mNone\u001b[m \u001b[38;5;130mand\u001b[m sel_end \u001b[38;5;130mis\u001b[m \u001b[38;5;130mnot\u001b[m \u001b[36mNone\u001b[m \u001b[38;5;130mand\u001b[m sel_start < sel_end <= \u001b[36mlen\u001b[m(body):\n                updated = body[:sel_start] + link_md + body[sel_end:]\u001b[2;70H\u001b[K\u001b[3;1H                self.logger.info(f\u001b[31m\"Embedded link at offsets {sel_start}-{sel_end}\"\u001b[m)\u001b[3;84H\u001b[K\u001b[4;13H\u001b[38;5;130melse\u001b[m:\u001b[5;17H\u001b[38;5;130mif\u001b[m selected_text \u001b[38;5;130min\u001b[m body:\u001b[6;21Hupdated = body.replace(selected_text, link_md, \u001b[31m1\u001b[m)\u001b[7;21Hself.logger.info(\u001b[31m\"Embedded link by substring replace\"\u001b[m)\u001b[8;17H\u001b[38;5;130melse\u001b[m:\u001b[9;21Hupdated = body\u001b[10;21Hself.logger.info(\u001b[31m\"Selected text not found; no link embedded\"\u001b[m)\u001b[11;13Hself.doc_store.update_document(current_doc_id, updated)\u001b[12;9H\u001b[38;5;130melse\u001b[m:\u001b[13;13Hself.logger.error(f\u001b[31m\"Original document {current_doc_id} not found\"\u001b[m)\u001b[15;9Hon_link_created(selected_text)\u001b[16;9Hon_success(new_doc_id)\n    \u001b[38;5;130mdef\u001b[m \u001b[36mget_strings_content\u001b[m(self, doc_id):\u001b[18;9Hdoc = self.doc_store.get_document(doc_id)\u001b[19;9H\u001b[38;5;130mif\u001b[m \u001b[38;5;130mnot\u001b[m doc:\u001b[20;13H\u001b[38;5;130mreturn\u001b[m \u001b[31m\"[ERROR] Document not found.\"\u001b[m\u001b[22;9Hfile_path = doc[\u001b[31m1\u001b[m]\u001b[23;9H\u001b[38;5;130mif\u001b[m \u001b[38;5;130mnot\u001b[m file_path \u001b[38;5;130mor\u001b[m \u001b[38;5;130mnot\u001b[m os.path.exists(file_path):\u001b[24;13H\u001b[38;5;130mreturn\u001b[m \u001b[31m\"[ERROR] File not found.\"\u001b[m\u001b[26;9H\u001b[38;5;130mreturn\u001b[m render_binary_as_text(file_path)\u001b[28;5H\u001b[38;5;130mdef\u001b[m \u001b[36mset_api_key\u001b[m(self, api_key: \u001b[36mstr\u001b[m):\u001b[29;9H\u001b[38;5;130mtry\u001b[m:\u001b[30;13Hself.ai.set_api_key(api_key)\u001b[31;13Hself.logger.info(\u001b[31m\"API key successfully set in AI interface\"\u001b[m)\u001b[32;9H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[33;13Hself.logger.error(f\u001b[31m\"Failed to set API key: {e}\"\u001b[m)\u001b[35;5H\u001b[38;5;130mdef\u001b[m \u001b[36mget_context_menu_actions\u001b[m(self) -> \u001b[36mdict\u001b[m:\u001b[36;9H\u001b[38;5;130mreturn\u001b[m {\u001b[37;13H\u001b[31m\"Import CSV\"\u001b[m: self.doc_store.import_csv,\u001b[38;13H\u001b[31m\"Export CSV\"\u001b[m: self.doc_store.export_csv\u001b[39;9H}\u001b[40;115H85,1\u001b[10CBot\u001b[37;1H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H0\u001b[37;1H\u001b[40;106H3\u001b[37;1H\u001b[40;107H0\u001b[37;1H\u001b[40;108H/\u001b[37;1H\u001b[40;109H0\u001b[37;1H\u001b[40;110Ha\u001b[37;1H\u001b[40;111H0\u001b[37;1H\u001b[40;112Ha\u001b[37;1H\u001b[40;113H/\u001b[37;1H\u001b[40;114H2\u001b[37;1H\u001b[40;105H          \u001b[37;1H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;13H\u001b[93mif\u001b[m sel_start \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m \u001b[93mand\u001b[m sel_end \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m \u001b[93mand\u001b[m sel_start < sel_end <= \u001b[1m\u001b[96mlen\u001b[m(body):\u001b[2;17Hupdated = body[:sel_start] + link_md + body[sel_end:]\u001b[3;17Hself.logger.info(f\u001b[95m\"Embedded link at offsets {sel_start}-{sel_end}\"\u001b[m)\u001b[4;13H\u001b[93melse\u001b[m:\u001b[5;17H\u001b[93mif\u001b[m selected_text \u001b[93min\u001b[m body:\u001b[6;21Hupdated = body.replace(selected_text, link_md, \u001b[95m1\u001b[m)\u001b[7;21Hself.logger.info(\u001b[95m\"Embedded link by substring replace\"\u001b[m)\u001b[8;17H\u001b[93melse\u001b[m:\u001b[9;21Hupdated = body\u001b[10;21Hself.logger.info(\u001b[95m\"Selected text not found; no link embedded\"\u001b[m)\u001b[11;13Hself.doc_store.update_document(current_doc_id, updated)\u001b[12;9H\u001b[93melse\u001b[m:\u001b[13;13Hself.logger.error(f\u001b[95m\"Original document {current_doc_id} not found\"\u001b[m)\u001b[15;9Hon_link_created(selected_text)\u001b[16;9Hon_success(new_doc_id)\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mget_strings_content\u001b[m(self, doc_id):\u001b[18;9Hdoc = self.doc_store.get_document(doc_id)\u001b[19;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m doc:\u001b[20;13H\u001b[93mreturn\u001b[m \u001b[95m\"[ERROR] Document not found.\"\u001b[m\u001b[22;9Hfile_path = doc[\u001b[95m1\u001b[m]\u001b[23;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m file_path \u001b[93mor\u001b[m \u001b[93mnot\u001b[m os.path.exists(file_path):\u001b[24;13H\u001b[93mreturn\u001b[m \u001b[95m\"[ERROR] File not found.\"\u001b[m\u001b[26;9H\u001b[93mreturn\u001b[m render_binary_as_text(file_path)\u001b[28;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mset_api_key\u001b[m(self, api_key: \u001b[1m\u001b[96mstr\u001b[m):\u001b[29;9H\u001b[93mtry\u001b[m:\u001b[30;13Hself.ai.set_api_key(api_key)\u001b[31;13Hself.logger.info(\u001b[95m\"API key successfully set in AI interface\"\u001b[m)\u001b[32;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[33;13Hself.logger.error(f\u001b[95m\"Failed to set API key: {e}\"\u001b[m)\u001b[35;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mget_context_menu_actions\u001b[m(self) -> \u001b[1m\u001b[96mdict\u001b[m:\u001b[36;9H\u001b[93mreturn\u001b[m {\u001b[37;13H\u001b[95m\"Import CSV\"\u001b[m: self.doc_store.import_csv,\u001b[38;13H\u001b[95m\"Export CSV\"\u001b[m: self.doc_store.export_csv\u001b[39;9H}\u001b[40;115H85,1\u001b[10CBot\n\"modules/command_processor.py\" 87L, 3452B\u001b[37;1H\u001b[?25h\u001b[?25l\u001b[40;105H/\u001b[37;1H\u001b[40;1H\u001b[K\u001b[40;1H/\u001b[?25hq\u001b[?25l\u001b[1;1H\u001b[38;5;81mimport\u001b[m openai\u001b[1;14H\u001b[K\u001b[2;1H\u001b[38;5;81mimport\u001b[m os\u001b[2;17H\u001b[K\u001b[3;1H\u001b[38;5;81mfrom\u001b[m modules.logger \u001b[38;5;81mimport\u001b[m Logger\u001b[3;34H\u001b[K\u001b[4;1H\u001b[38;5;81mfrom\u001b[m modules.document_store \u001b[38;5;81mimport\u001b[m DocumentStore\n\u001b[38;5;81mfrom\u001b[m modules.renderer \u001b[38;5;81mimport\u001b[m render_binary_as_text\u001b[6;21H\u001b[K\u001b[7;1H\u001b[93mclass\u001b[m \u001b[1m\u001b[96mCommandProcessor\u001b[m:\u001b[7;24H\u001b[K\u001b[8;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[1m\u001b[96mNone\u001b[m):\u001b[9;9Hself.doc_store = store\u001b[9;31H\u001b[K\u001b[10;9Hself.ai = ai_interfac\u001b[10;31H\u001b[K\u001b[11;9Hself.logger = logger \u001b[93mif\u001b[m logger \u001b[93melse\u001b[m Logger()\u001b[11;53H\u001b[K\u001b[12;9H\u001b[K\u001b[13;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mask_\u001b[m\u001b[1m\u001b[7m\u001b[96mq\u001b[m\u001b[1m\u001b[96muestion\u001b[m(self, prompt: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[13;48H\u001b[K\u001b[14;9H\u001b[93mtry\u001b[m:\u001b[15;9H    self.logger.info(f\u001b[95m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[16;9H    response = self.ai.query(prompt)\n            self.logger.info(\u001b[95m\"AI response received successfully\"\u001b[m)\u001b[18;9H    \u001b[93mreturn\u001b[m response\u001b[18;28H\u001b[K\u001b[19;9H\u001b[93mexcep\u001b[m\u001b[2C\u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[20;13Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[21;13H\u001b[93mreturn\u001b[m \u001b[1m\u001b[96mNone\u001b[m\u001b[22;9H\u001b[K\u001b[23;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\u001b[24;13H     on_success, on_link_created,\u001b[25;18Hprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[26;9H         sel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[26;40H\u001b[K\u001b[27;18Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\n        \u001b[93mif\u001b[m prefix:\u001b[28;19H\u001b[K\u001b[29;9H    prompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[m\u001b[30;9H\u001b[93melse\u001b[m:\u001b[30;14H\u001b[K\u001b[31;13Hprompt = f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[m\u001b[31;63H\u001b[K\u001b[32;9Hself.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[33;13H\u001b[K\u001b[34;9H\u001b[93mtry\u001b[m:\n            reply = self.ai.query(prompt)\u001b[35;43H\u001b[K\u001b[36;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[37;13Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[38;13H\u001b[93mreturn\u001b[m\u001b[38;19H\u001b[K\u001b[39;9Hself.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[40;115H13,13\u001b[9CTop\u001b[40;115H\u001b[K\u001b[40;3H\u001b[?25hu\u001b[?25l\u001b[13;14H\u001b[1m\u001b[7m\u001b[96mu\u001b[m\u001b[1m\u001b[96mestion\u001b[m(\u001b[40;115H13,13\u001b[9CTop\u001b[40;115H\u001b[K\u001b[40;4H\u001b[?25he\u001b[?25l\u001b[13;15H\u001b[1m\u001b[7m\u001b[96me\u001b[m\u001b[1m\u001b[96mstion\u001b[m(\u001b[40;115H13,13\u001b[9CTop\u001b[40;115H\u001b[K\u001b[40;5H\u001b[?25hr\u001b[?25l\u001b[13;13H\u001b[1m\u001b[96mquestion\u001b[m(\u001b[16;32H\u001b[7mquer\u001b[m\u001b[40;115H16,32\u001b[9CTop\u001b[40;115H\u001b[K\u001b[40;6H\u001b[?25hy\u001b[?25l\u001b[16;36H\u001b[7my\u001b[m\u001b[40;115H16,32\u001b[9CTop\u001b[40;115H\u001b[K\u001b[40;7H\u001b[?25h\u001b[?25l\u001b[40;1H\u001b[K\u001b[37;1H\u001b[1;1H            \u001b[93mif\u001b[m sel_start \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m \u001b[93mand\u001b[m sel_end \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m \u001b[93mand\u001b[m sel_start < sel_end <= \u001b[1m\u001b[96mlen\u001b[m(body):\n         \u001b[7Cupdated = body[:sel_start] + link_md + body[sel_end:]\n                self.logger.info(f\u001b[95m\"Embedded link at offsets {sel_start}-{sel_end}\"\u001b[m)\n            \u001b[93melse\u001b[m:\u001b[4;18H\u001b[K\u001b[5;1H                \u001b[93mif\u001b[m selected_text \u001b[93min\u001b[m body:\u001b[5;42H\u001b[K\u001b[6;21Hupdated = body.replace(selected_text, link_md, \u001b[95m1\u001b[m)\n                    self.logger.info(\u001b[95m\"Embedded link by substring replace\"\u001b[m)\n                \u001b[93melse\u001b[m:\u001b[8;22H\u001b[K\u001b[9;9H            updated = body\u001b[10;9H            self.logger.info(\u001b[95m\"Selected text not found; no link embedded\"\u001b[m)\u001b[11;9H    self.doc_store.update_document(current_doc_id, updated)\u001b[12;9H\u001b[93melse\u001b[m:\n            self.logger.error(f\u001b[95m\"Original document {current_doc_id} not found\"\u001b[m)\u001b[14;9H\u001b[K\u001b[15;9Hon_link_created(selected_text)\u001b[15;39H\u001b[K\u001b[16;9Hon_success(new_doc_id)\u001b[16;31H\u001b[K\u001b[17;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mget_strings_content\u001b[m(self, doc_id):\u001b[17;43H\u001b[K\u001b[18;9Hdoc = self.doc_store.get_document(doc_id)\u001b[19;9H\u001b[93mif\u001b[m \u001b[93mno\u001b[m\u001b[2Cdoc:\u001b[19;20H\u001b[K\u001b[20;13H\u001b[93mreturn\u001b[m \u001b[95m\"[ERROR] Document not found.\"\u001b[m\u001b[20;49H\u001b[K\u001b[21;13H\u001b[K\u001b[22;9Hfile_path = doc[\u001b[95m1\u001b[m]\n        \u001b[93mif\u001b[m \u001b[93mnot\u001b[m file_path \u001b[93mor\u001b[m \u001b[93mnot\u001b[m os.path.exists(file_path)\u001b[23;60H\u001b[K\u001b[24;13H\u001b[93mreturn\u001b[m \u001b[95m\"[ERROR] File not found.\"\u001b[m\u001b[24;45H\u001b[K\u001b[25;18H\u001b[K\u001b[26;9H\u001b[93mreturn\u001b[m render_binary_as_text(file_path)\u001b[27;18H\u001b[K\u001b[28;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mset_api_key\u001b[m(self, api_key: \u001b[1m\u001b[96mstr\u001b[m):\u001b[29;9H\u001b[93mtry\u001b[m:\u001b[29;13H\u001b[K\u001b[30;9H    self.ai.set_api_key(api_key)\u001b[31;13Hself.logger.info(\u001b[95m\"API key successfully set in AI interface\"\u001b[m)\u001b[32;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[32;31H\u001b[K\u001b[33;13Hself.logger.error(f\u001b[95m\"Failed to set API key: {e}\"\u001b[m)\u001b[34;9H\u001b[K\u001b[35;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mget_context_menu_actions\u001b[m(self) -> \u001b[1m\u001b[96mdict\u001b[m:\u001b[36;9H\u001b[93mreturn\u001b[m {\u001b[36;17H\u001b[K\u001b[37;13H\u001b[95m\"Import CSV\"\u001b[m: self.doc_store.import_csv,\u001b[37;53H\u001b[K\u001b[38;13H\u001b[95m\"Export CSV\"\u001b[m: self.doc_store.export_csv\u001b[39;9H}\u001b[39;10H\u001b[K\u001b[40;115H85,1\u001b[10CBot\u001b[37;1H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[37;1H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hq!\n\u001b[?25l\u001b[?2004l\u001b[>4;m\u001b[23;2t\u001b[23;1t\u001b[40;1H\u001b[K\u001b[40;1H\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi modules/command_processor.py \n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/command_processor.py\" 87L, 3452B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;13H\u001b[38;5;130mif\u001b[m sel_start \u001b[38;5;130mis\u001b[m \u001b[38;5;130mnot\u001b[m \u001b[36mNone\u001b[m \u001b[38;5;130mand\u001b[m sel_end \u001b[38;5;130mis\u001b[m \u001b[38;5;130mnot\u001b[m \u001b[36mNone\u001b[m \u001b[38;5;130mand\u001b[m sel_start < sel_end <= \u001b[36mlen\u001b[m(body):\n                updated = body[:sel_start] + link_md + body[sel_end:]\u001b[2;70H\u001b[K\u001b[3;1H                self.logger.info(f\u001b[31m\"Embedded link at offsets {sel_start}-{sel_end}\"\u001b[m)\u001b[3;84H\u001b[K\u001b[4;13H\u001b[38;5;130melse\u001b[m:\u001b[5;17H\u001b[38;5;130mif\u001b[m selected_text \u001b[38;5;130min\u001b[m body:\u001b[6;21Hupdated = body.replace(selected_text, link_md, \u001b[31m1\u001b[m)\u001b[7;21Hself.logger.info(\u001b[31m\"Embedded link by substring replace\"\u001b[m)\u001b[8;17H\u001b[38;5;130melse\u001b[m:\u001b[9;21Hupdated = body\u001b[10;21Hself.logger.info(\u001b[31m\"Selected text not found; no link embedded\"\u001b[m)\u001b[11;13Hself.doc_store.update_document(current_doc_id, updated)\u001b[12;9H\u001b[38;5;130melse\u001b[m:\u001b[13;13Hself.logger.error(f\u001b[31m\"Original document {current_doc_id} not found\"\u001b[m)\u001b[15;9Hon_link_created(selected_text)\u001b[16;9Hon_success(new_doc_id)\n    \u001b[38;5;130mdef\u001b[m \u001b[36mget_strings_content\u001b[m(self, doc_id):\u001b[18;9Hdoc = self.doc_store.get_document(doc_id)\u001b[19;9H\u001b[38;5;130mif\u001b[m \u001b[38;5;130mnot\u001b[m doc:\u001b[20;13H\u001b[38;5;130mreturn\u001b[m \u001b[31m\"[ERROR] Document not found.\"\u001b[m\u001b[22;9Hfile_path = doc[\u001b[31m1\u001b[m]\u001b[23;9H\u001b[38;5;130mif\u001b[m \u001b[38;5;130mnot\u001b[m file_path \u001b[38;5;130mor\u001b[m \u001b[38;5;130mnot\u001b[m os.path.exists(file_path):\u001b[24;13H\u001b[38;5;130mreturn\u001b[m \u001b[31m\"[ERROR] File not found.\"\u001b[m\u001b[26;9H\u001b[38;5;130mreturn\u001b[m render_binary_as_text(file_path)\u001b[28;5H\u001b[38;5;130mdef\u001b[m \u001b[36mset_api_key\u001b[m(self, api_key: \u001b[36mstr\u001b[m):\u001b[29;9H\u001b[38;5;130mtry\u001b[m:\u001b[30;13Hself.ai.set_api_key(api_key)\u001b[31;13Hself.logger.info(\u001b[31m\"API key successfully set in AI interface\"\u001b[m)\u001b[32;9H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[33;13Hself.logger.error(f\u001b[31m\"Failed to set API key: {e}\"\u001b[m)\u001b[35;5H\u001b[38;5;130mdef\u001b[m \u001b[36mget_context_menu_actions\u001b[m(self) -> \u001b[36mdict\u001b[m:\u001b[36;9H\u001b[38;5;130mreturn\u001b[m {\u001b[37;13H\u001b[31m\"Import CSV\"\u001b[m: self.doc_store.import_csv,\u001b[38;13H\u001b[31m\"Export CSV\"\u001b[m: self.doc_store.export_csv\u001b[39;9H}\u001b[40;115H85,1\u001b[10CBot\u001b[37;1H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[1;13H\u001b[93mif\u001b[m sel_start \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m \u001b[93mand\u001b[m sel_end \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m \u001b[93mand\u001b[m sel_start < sel_end <= \u001b[1m\u001b[96mlen\u001b[m(body):\u001b[2;17Hupdated = body[:sel_start] + link_md + body[sel_end:]\u001b[3;17Hself.logger.info(f\u001b[95m\"Embedded link at offsets {sel_start}-{sel_end}\"\u001b[m)\u001b[4;13H\u001b[93melse\u001b[m:\u001b[5;17H\u001b[93mif\u001b[m selected_text \u001b[93min\u001b[m body:\u001b[6;21Hupdated = body.replace(selected_text, link_md, \u001b[95m1\u001b[m)\u001b[7;21Hself.logger.info(\u001b[95m\"Embedded link by substring replace\"\u001b[m)\u001b[8;17H\u001b[93melse\u001b[m:\u001b[9;21Hupdated = body\u001b[10;21Hself.logger.info(\u001b[95m\"Selected text not found; no link embedded\"\u001b[m)\u001b[11;13Hself.doc_store.update_document(current_doc_id, updated)\u001b[12;9H\u001b[93melse\u001b[m:\u001b[13;13Hself.logger.error(f\u001b[95m\"Original document {current_doc_id} not found\"\u001b[m)\u001b[15;9Hon_link_created(selected_text)\u001b[16;9Hon_success(new_doc_id)\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mget_strings_content\u001b[m(self, doc_id):\u001b[18;9Hdoc = self.doc_store.get_document(doc_id)\u001b[19;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m doc:\u001b[20;13H\u001b[93mreturn\u001b[m \u001b[95m\"[ERROR] Document not found.\"\u001b[m\u001b[22;9Hfile_path = doc[\u001b[95m1\u001b[m]\u001b[23;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m file_path \u001b[93mor\u001b[m \u001b[93mnot\u001b[m os.path.exists(file_path):\u001b[24;13H\u001b[93mreturn\u001b[m \u001b[95m\"[ERROR] File not found.\"\u001b[m\u001b[26;9H\u001b[93mreturn\u001b[m render_binary_as_text(file_path)\u001b[28;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mset_api_key\u001b[m(self, api_key: \u001b[1m\u001b[96mstr\u001b[m):\u001b[29;9H\u001b[93mtry\u001b[m:\u001b[30;13Hself.ai.set_api_key(api_key)\u001b[31;13Hself.logger.info(\u001b[95m\"API key successfully set in AI interface\"\u001b[m)\u001b[32;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[33;13Hself.logger.error(f\u001b[95m\"Failed to set API key: {e}\"\u001b[m)\u001b[35;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mget_context_menu_actions\u001b[m(self) -> \u001b[1m\u001b[96mdict\u001b[m:\u001b[36;9H\u001b[93mreturn\u001b[m {\u001b[37;13H\u001b[95m\"Import CSV\"\u001b[m: self.doc_store.import_csv,\u001b[38;13H\u001b[95m\"Export CSV\"\u001b[m: self.doc_store.export_csv\u001b[39;9H}\u001b[40;115H85,1\u001b[10CBot\n\"modules/command_processor.py\" 87L, 3452B\u001b[37;1H\u001b[?25h\u001b[?25l\u001b[40;105H/\u001b[37;1H\u001b[40;1H\u001b[K\u001b[40;1H/\u001b[?25hq\u001b[?25l\u001b[1;1H\u001b[38;5;81mimport\u001b[m openai\u001b[1;14H\u001b[K\u001b[2;1H\u001b[38;5;81mimport\u001b[m os\u001b[2;17H\u001b[K\u001b[3;1H\u001b[38;5;81mfrom\u001b[m modules.logger \u001b[38;5;81mimport\u001b[m Logger\u001b[3;34H\u001b[K\u001b[4;1H\u001b[38;5;81mfrom\u001b[m modules.document_store \u001b[38;5;81mimport\u001b[m DocumentStore\n\u001b[38;5;81mfrom\u001b[m modules.renderer \u001b[38;5;81mimport\u001b[m render_binary_as_text\u001b[6;21H\u001b[K\u001b[7;1H\u001b[93mclass\u001b[m \u001b[1m\u001b[96mCommandProcessor\u001b[m:\u001b[7;24H\u001b[K\u001b[8;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[1m\u001b[96mNone\u001b[m):\u001b[9;9Hself.doc_store = store\u001b[9;31H\u001b[K\u001b[10;9Hself.ai = ai_interfac\u001b[10;31H\u001b[K\u001b[11;9Hself.logger = logger \u001b[93mif\u001b[m logger \u001b[93melse\u001b[m Logger()\u001b[11;53H\u001b[K\u001b[12;9H\u001b[K\u001b[13;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mask_\u001b[m\u001b[1m\u001b[7m\u001b[96mq\u001b[m\u001b[1m\u001b[96muestion\u001b[m(self, prompt: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[13;48H\u001b[K\u001b[14;9H\u001b[93mtry\u001b[m:\u001b[15;9H    self.logger.info(f\u001b[95m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[16;9H    response = self.ai.query(prompt)\n            self.logger.info(\u001b[95m\"AI response received successfully\"\u001b[m)\u001b[18;9H    \u001b[93mreturn\u001b[m response\u001b[18;28H\u001b[K\u001b[19;9H\u001b[93mexcep\u001b[m\u001b[2C\u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[20;13Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[21;13H\u001b[93mreturn\u001b[m \u001b[1m\u001b[96mNone\u001b[m\u001b[22;9H\u001b[K\u001b[23;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\u001b[24;13H     on_success, on_link_created,\u001b[25;18Hprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[26;9H         sel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[26;40H\u001b[K\u001b[27;18Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\n        \u001b[93mif\u001b[m prefix:\u001b[28;19H\u001b[K\u001b[29;9H    prompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[m\u001b[30;9H\u001b[93melse\u001b[m:\u001b[30;14H\u001b[K\u001b[31;13Hprompt = f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[m\u001b[31;63H\u001b[K\u001b[32;9Hself.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[33;13H\u001b[K\u001b[34;9H\u001b[93mtry\u001b[m:\n            reply = self.ai.query(prompt)\u001b[35;43H\u001b[K\u001b[36;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[37;13Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[38;13H\u001b[93mreturn\u001b[m\u001b[38;19H\u001b[K\u001b[39;9Hself.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[40;115H13,13\u001b[9CTop\u001b[40;115H\u001b[K\u001b[40;3H\u001b[?25hu\u001b[?25l\u001b[13;14H\u001b[1m\u001b[7m\u001b[96mu\u001b[m\u001b[1m\u001b[96mestion\u001b[m(\u001b[40;115H13,13\u001b[9CTop\u001b[40;115H\u001b[K\u001b[40;4H\u001b[?25he\u001b[?25l\u001b[13;15H\u001b[1m\u001b[7m\u001b[96me\u001b[m\u001b[1m\u001b[96mstion\u001b[m(\u001b[40;115H13,13\u001b[9CTop\u001b[40;115H\u001b[K\u001b[40;5H\u001b[?25hr\u001b[?25l\u001b[13;13H\u001b[1m\u001b[96mquestion\u001b[m(\u001b[16;32H\u001b[7mquer\u001b[m\u001b[40;115H16,32\u001b[9CTop\u001b[40;115H\u001b[K\u001b[40;6H\u001b[?25hy\u001b[?25l\u001b[16;36H\u001b[7my\u001b[m\u001b[40;115H16,32\u001b[9CTop\u001b[40;115H\u001b[K\u001b[40;7H\u001b[?25h_\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[13;32Hquery\u001b[20;9H\u001b[1m\u001b[7m\u001b[96mquery_\u001b[m\u001b[1m\u001b[96mai\u001b[m(\u001b[38;9Hnew_doc_id = self.doc_store.add_document(\u001b[95m\"AI Response\"\u001b[m, reply)\u001b[39;9Hself.logger.info(f\u001b[95m\"Created new document {new_doc_id}\"\u001b[m)\u001b[40;1H\u001b[K\u001b[40;115H23,9\u001b[11C6%\n/query_\u001b[40;115H\u001b[K\u001b[40;8H\u001b[?25ha\u001b[?25l\u001b[20;15H\u001b[1m\u001b[7m\u001b[96ma\u001b[m\u001b[1m\u001b[96mi\u001b[m(\u001b[40;115H23,9\u001b[11C6%\u001b[40;115H\u001b[K\u001b[40;9H\u001b[?25hi\u001b[?25l\u001b[20;16H\u001b[1m\u001b[7m\u001b[96mi\u001b[m(\u001b[40;115H23,9\u001b[11C6%\u001b[40;115H\u001b[K\u001b[40;10H\u001b[?25h\n\u001b[?25l\u001b[38;5;224msearch hit BOTTOM, continuing at TOP\u001b[20;9H\u001b[m\u001b[1m\u001b[96mquery_ai\u001b[m(\u001b[40;115H23,9\u001b[11C6%\u001b[40;115H\u001b[K\u001b[40;115H23,9\u001b[11C6%\u001b[20;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[20;9H\u001b[40;105H   \u001b[19;1H\u001b[40;116H2,0-1\u001b[19;1H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[19;1H\u001b[40;105H    \u001b[20;1H\u001b[40;116H3,1  \u001b[20;1H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[20;1H\u001b[40;105H    \u001b[20;2H\u001b[40;118H2\u001b[20;2H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[20;2H\u001b[40;105H   \u001b[19;1H\u001b[40;116H2,0-1\u001b[19;1H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[19;1H\u001b[40;105H \u001b[19;1H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;13H\u001b[K\u001b[40;115H22,1\u001b[11C6%\u001b[19;1H\u001b[?25h\u001b[?25l\u001b[40;118H2\u001b[19;2H\u001b[?25h\u001b[?25l\u001b[40;118H3\u001b[19;3H\u001b[?25h\u001b[?25l\u001b[40;118H4\u001b[19;4H\u001b[?25h\u001b[?25l\u001b[40;118H5\u001b[19;5H\u001b[?25h\u001b[40;1H\u001b[K\u001b[19;4H\u001b[?25l\u001b[40;105H^[\u001b[19;4H\u001b[40;105H  \u001b[19;5H\u001b[40;115H22,4\u001b[11C6%\u001b[19;4H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[19;4H\u001b[40;105H \u001b[19;4H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H22,4\u001b[11C6%\u001b[19;4H\u001b[?25h\u001b[40;1H\u001b[K\u001b[19;3H\u001b[?25l\u001b[40;105H^[\u001b[19;3H\u001b[40;105H  \u001b[19;4H\u001b[40;115H22,3\u001b[11C6%\u001b[19;3H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[19;3H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hpaste on\n\u001b[?25l\u001b[97m\u001b[41mE492: Not an editor command: paste on\u001b[19;3H\u001b[m\u001b[40;115H22,3\u001b[11C6%\u001b[19;3H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[19;3H\u001b[40;1H\u001b[K\u001b[40;1H:\u001b[?25hset paste\n\u001b[?25l\u001b[19;3H\u001b[?25h\u001b[?25l\u001b[40;122Hi\u001b[19;3H\u001b[40;122H \u001b[19;3H\u001b[40;1H\u001b[1m-- INSERT (paste) --\u001b[19;3H\u001b[?25h\u001b[?25l\u001b[m \u001b[?25h\u001b[?25l \u001b[?25h\u001b[?25l\u001b[20;39r\u001b[20;1H\u001b[L\u001b[1;40r\u001b[19;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\n \u001b[?25h\u001b[?25l\u001b[21;39r\u001b[21;1H\u001b[L\u001b[1;40r\u001b[20;14Hon_success, on_link_created,\u001b[21;14Hprefix: \u001b[1m\u001b[96mstr\u001b[m \u001b[?25h\u001b[?25l\u001b[22;39r\u001b[22;1H\u001b[2L\u001b[1;40r\u001b[21;26H= \u001b[1m\u001b[96mNone\u001b[m,\u001b[22;14Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[23;14Hsel_end:\u001b[?25h\u001b[?25l\u001b[24;39r\u001b[24;1H\u001b[2L\u001b[1;40r\u001b[23;23H\u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\n    \u001b[96m# Build prompt\u001b[m\n    prompt = f\u001b[95m\"{prefix} {select  \n    def query_ai(self, selected_text: str, current_doc_id: int,\n                 on_success, on_link_created,\n                 prefix: str = None,\n                 sel_start: int = None,\n                 sel_end: int = None):\n        if prefix:\n            prompt = f\u001b[m\u001b[1C{prefix} {selected_text}\n\u001b[95m        else:\n            prompt = f\u001b[m\u001b[1CPlease expand on this: {selected_text}\n\u001b[95m        self.logger.info(f\u001b[m\u001b[1CSending prompt: {prompt}\u001b[1C\u001b[95m)\n\n        try:\n            reply = self.ai.query(prompt)\n        except Exception as e:\u001b[25;32H\u001b[?25h\u001b[?25led_text}\"\u001b[m \u001b[93mif\u001b[m prefix \u001b[93melse\u001b[m f\u001b[95m\"Please expand on this: {selected_text  \b\b\u001b[?25h\u001b[?25l\u001b[26;39r\u001b[m\u001b[26;1H\u001b[3L\u001b[1;40r\u001b[25;96H\u001b[95m}\"\u001b[m\n    self.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[28;5H\u001b[96m# Cal  \u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\n                 on_success, on_link_created,\n                 prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\n                 sel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\n                 sel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\n        \u001b[93mif\u001b[m prefix:\n            prompt = f\u001b[1C\u001b[95m{prefix} {selected_text}\u001b[m\n        \u001b[93melse\u001b[m:\n            prompt = f\u001b[1C\u001b[95mPlease expand on this: {selected_text}\u001b[m\n        self.logger.info(f\u001b[1C\u001b[95mSending prompt: {prompt}\u001b[m\u001b[1C)\u001b[28;10H\u001b[?25h\u001b[?25l\u001b[29;39r\u001b[29;1H\u001b[3L\u001b[1;40r\u001b[28;10H\u001b[96ml AI\u001b[m\n    \u001b[93mtry\u001b[m:\u001b[30;9Hreply = self.ai.query(prompt)\n    \u001b[93mexcept\u001b[m \u001b[?25h\u001b[?25l\u001b[32;39r\u001b[32;1H\u001b[L\u001b[1;40r\u001b[31;12H\u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[32;9Hself.logger.error(f\u001b[95m\"AI query failed: {e  \n    def query_ai(self, selected_text: str, current_doc_id: int,\n                 on_success, on_link_created,\n                 prefix: str = None,\n                 sel_start: int = None,\n                 sel_end: int = None):\n        if prefix:\n            prompt = f\u001b[m\u001b[1C{prefix} {selected_text}\u001b[32;48H\u001b[?25h\u001b[?25l\u001b[33;39r\u001b[33;1H\u001b[3L\u001b[1;40r\u001b[32;48H\u001b[95m}\"\u001b[m)\u001b[33;9H\u001b[93mreturn\u001b[m\n    self.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\n\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\n                 on_success, on_link_created,\n                 prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\n                 sel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[35;5H\u001b[96m# Create the new AI doc\u001b[m\n    new_doc_id = self.doc_store.ad\u001b[34;35H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;35Hd_document(\u001b[95m\"AI Response\"\u001b[m, reply)\n    self.logger.info(f\u001b[95m\"Created  \n    def query_ai(self, selected_text: str, current_doc_id: int,\n                 on_success, on_link_created,\n                 prefix: str = None,\n                 sel_start: int = None,\u001b[34;31H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;32H\u001b[95mnew document {new_doc_id}\"\u001b[m)\u001b[36;5H\u001b[96m# Try to fetch and update ori  \u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\n                 on_success, on_link_created,\n                 prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;34H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;34H\u001b[96mginal doc (embed a green link), but only if it's text\u001b[m\n    \u001b[93mtry\u001b[m:\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;9Horiginal = self.doc_store.get_document(current_doc_id)\u001b[39;18Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;5H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[35;9Horiginal = \u001b[1m\u001b[96mNone\u001b[m\u001b[36;9Hself\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;13H.logger.error(f\u001b[95m\"Failed to load original doc {current_doc_id}: {  \n    def query_ai(self, selected_text: str, current_doc_id: int,\n                 on_success, on_link_created,\n                 prefix: str = None,\n                 sel_start: int = None,\n                 sel_end: int = None):\u001b[34;76H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[m\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;76H\u001b[95me}\"\u001b[m)\u001b[36;5H\u001b[93mif\u001b[m original \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[37;9H\u001b[96m# Normalize to title  \u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\n                 on_success, on_link_created,\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;29H\u001b[96m/body\u001b[m\u001b[35;9H\u001b[93mtry\u001b[m:\u001b[36;13H\u001b[96m# sqlite3.Row (mapping) or dict\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;13H\u001b[93mif\u001b[m \u001b[1m\u001b[96mhasattr\u001b[m(original, \u001b[95m\"keys\"\u001b[m):\u001b[35;17Htitle\u001b[38;18Hprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[39;18Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;22H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;23H= (original[\u001b[95m\"title\"\u001b[m] \u001b[93mif\u001b[m \u001b[95m\"title\"\u001b[m \u001b[93min\u001b[m original.keys() \u001b[93melse\u001b[m \u001b[95m\"Docum  \n    def query_ai(self, selected_text: str, current_doc_id: int,\n                 on_success, on_link_created,\n                 prefix: str = None,\n                 sel_start: int = None,\n                 sel_end: int = None):\u001b[34;85H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[m\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;85H\u001b[95ment\"\u001b[m)\u001b[35;17Hbody  = original[\u001b[95m\"body\"\u001b[m] \u001b[93mif\u001b[m \u001b[95m\"body\"\u001b[m  \u001b[93min\u001b[m \u001b[93mor\u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\n                 on_success, on_link_created,\n                 prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\n                 sel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;58H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;56Horiginal.keys() \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m\u001b[35;13H\u001b[93melse\u001b[m:\u001b[36;17H\u001b[96m# tuple  \u001b[34;24H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;24H\u001b[96m/list row (id, title, body, ...)\u001b[m\u001b[35;17Htitle = origin\u001b[39;18Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;31H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;31Hal[\u001b[95m1\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(original) > \u001b[95m1\u001b[m \u001b[93melse\u001b[m \u001b[95m\"Document\"\u001b[m\u001b[35;17Hbody\u001b[34;21H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;23H= original[\u001b[95m2\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(original) > \u001b[95m2\u001b[m \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m\u001b[35;9H\u001b[93mexcept\u001b[m Exc\u001b[34;19H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;16H\u001b[38;5;121mException\u001b[m:\u001b[35;13Htitle, body = \u001b[95m\"Document\"\u001b[m, \u001b[95m\"\"\u001b[m\u001b[37;9H\u001b[96m# Onl  \u001b[34;14H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;14H\u001b[96my attempt string operations if body is a str\u001b[m\u001b[35;9H\u001b[93mif\u001b[m isinsta\u001b[38;18Hprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[39;18Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;19H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;12H\u001b[1m\u001b[96misinstance\u001b[m(body, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m selected_text:\u001b[35;13Hlink_md = f\u001b[95m\"[{sel  \n    def query_ai(self, selected_text: str, current_doc_id: int,\n                 on_success, on_link_created,\n                 prefix: str = None,\n                 sel_start: int = None,\u001b[34;30H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;30H\u001b[95mected_text}](doc:{new_doc_id})\"\u001b[m\u001b[35;13Hupdated = \u001b[1m\u001b[96mNone\u001b[m\n\n\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\n                 on_success, on_link_created,\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[34;13H\u001b[96m# If we were given exact offsets and they look valid f  \u001b[m\u001b[37;18Hprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[38;18Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[39;18Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[34;67H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;67H\u001b[96mor a str body\u001b[m\u001b[35;13H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(sel_start, \u001b[1m\u001b[96mint\u001b[m) \u001b[93mand\u001b[m isi\u001b[34;50H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;47H\u001b[1m\u001b[96misinstance\u001b[m(sel_end, \u001b[1m\u001b[96mint\u001b[m) \u001b[93mand\u001b[m \u001b[95m0\u001b[m <= sel_start < sel_end <= \u001b[1m\u001b[96mlen\u001b[m(body)\u001b[39;18Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[34;113H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;113H:\u001b[35;17Hupdated = body[:sel_start] + link_md + body[s\u001b[34;62H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;62Hel_end:]\u001b[35;17Hself.logger.info(f\u001b[95m\"Embedded link at of  \n    def query_ai(self, selected_text: str, current_doc_id: int,\n                 on_success, on_link_created,\n                 prefix: str = None,\n                 sel_start: int = None,\u001b[34;55H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;55H\u001b[95mfsets {sel_start}-{sel_end}\"\u001b[m)\u001b[35;13H\u001b[93melse\u001b[m:\n\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\n                 on_success, on_link_created,\n                 prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;16H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;17H\u001b[93mif\u001b[m selected_text \u001b[93min\u001b[m body:\u001b[35;21Hupdated = body.r\u001b[39;18Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;37H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;37Heplace(selected_text, link_md, \u001b[95m1\u001b[m)\u001b[35;21Hself.logg\u001b[34;30H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;30Her.info(\u001b[95m\"Embedded link by substring replace\"\u001b[m)\u001b[35;17He\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;17H\u001b[93melse\u001b[m:\u001b[35;21Hself.logger.info(\u001b[95m\"Selected text not fo  \n    def query_ai(self, selected_text: str, current_doc_id: int,\n                 on_success, on_link_created,\n                 prefix: str = None,\n                 sel_start: int = None,\u001b[34;59H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;59H\u001b[95mund in body; leaving original unchanged\"\u001b[m)\u001b[36;13H\u001b[93mif\u001b[m updat\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\n                 on_success, on_link_created,\n                 prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;21H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;21Hed \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m \u001b[93mand\u001b[m updated != body:\u001b[35;17H\u001b[93mtry\u001b[m:\u001b[34;7H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;21Hself.doc_store.update_document(current_doc_id, up\u001b[38;18Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[39;18Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[34;70H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;70Hdated)\u001b[35;17H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;21Hself.logger.error(f\u001b[95m\"Failed updating original doc {current_do  \n    def query_ai(self, selected_text: str, current_doc_id: int,\n                 on_success, on_link_created,\n                 prefix: str = None,\n                 sel_start: int = None,\n                 sel_end: int = None):\u001b[34;81H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[m\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;81H\u001b[95mc_id}: {e}\"\u001b[m)\u001b[35;9H\u001b[93melse\u001b[m:\u001b[36;13H\u001b[96m# Non-text bodies (bytes  \u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\n                 on_success, on_link_created,\n                 prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;37H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;37H\u001b[96m/bytearray/None) are intentionally not mutated\u001b[m\u001b[35;13H\u001b[93mif\u001b[m i\u001b[39;18Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;17H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;16H\u001b[1m\u001b[96misinstance\u001b[m(body, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)):\u001b[35;17Hself.logge\u001b[34;27H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;27Hr.info(\u001b[95m\"Original doc is binary; skipping in-place link embed to  \n    def query_ai(self, selected_text: str, current_doc_id: int,\n                 on_success, on_link_created,\n                 prefix: str = None,\n                 sel_start: int = None,\n                 sel_end: int = None):\u001b[34;90H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[m\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;91H\u001b[95mavoid corruption.\"\u001b[m)\u001b[35;13H\u001b[93melse\u001b[m:\u001b[36;17Hself.log\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\n                 on_success, on_link_created,\n                 prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;25Hger.info(\u001b[95m\"Original doc body not a string or no selection; skipp  \n    def query_ai(self, selected_text: str, current_doc_id: int,\n                 on_success, on_link_created,\n                 prefix: str = None,\n                 sel_start: int = None,\n                 sel_end: int = None):\u001b[34;88H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[m\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;88H\u001b[95ming link embed.\"\u001b[m)\n    \u001b[93melse\u001b[m:\u001b[36;9Hself.logger.error(f\u001b[95m\"Origina  \u001b[34;36H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;36H\u001b[95ml document {current_doc_id} not found\"\u001b[m)\u001b[36;5H\u001b[96m# Fire UI callback  \u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\n                 on_success, on_link_created,\n                 prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;23H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;23H\u001b[96ms\u001b[m\u001b[34;24H\u001b[K\u001b[35;5Hon_link_created(selected_text)\n    on_success(new_doc_id)\u001b[34;27H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[34;39r\u001b[34;1H\u001b[L\u001b[1;40r\u001b[38;18Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[39;18Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[34;1H\u001b[?25h\u001b[40;1H\u001b[K\u001b[34;1H\u001b[?25l\u001b[40;122H^[\u001b[34;1H\u001b[40;122H  \u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H:\u001b[34;1H\u001b[40;122H\u001b[K\u001b[40;1H:\u001b[?25hw\n\u001b[?25l\"modules/command_processor.py\" 162L, 6803B written\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[33;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[33;1H\u001b[40;122H   \u001b[32;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[32;1H\u001b[40;122H   \u001b[31;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[31;1H\u001b[40;122H   \u001b[30;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[30;1H\u001b[40;122H   \u001b[29;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[29;1H\u001b[40;122H   \u001b[28;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[28;1H\u001b[40;122H   \u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[27;1H\u001b[40;122H   \u001b[26;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[26;1H\u001b[40;122H   \u001b[25;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[25;1H\u001b[40;122H   \u001b[24;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[24;1H\u001b[40;122H   \u001b[23;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[23;1H\u001b[40;122H   \u001b[22;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[22;1H\u001b[40;122H   \u001b[21;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[21;1H\u001b[40;122H   \u001b[20;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[20;1H\u001b[40;122H   \u001b[19;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[19;1H\u001b[40;122H   \u001b[18;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[18;1H\u001b[40;122H   \u001b[17;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[17;1H\u001b[40;122H   \u001b[16;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[16;1H\u001b[40;122H   \u001b[15;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[15;1H\u001b[40;122H   \u001b[14;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[14;1H\u001b[40;122H   \u001b[13;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[13;1H\u001b[40;122H   \u001b[12;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[12;1H\u001b[40;122H   \u001b[11;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[11;1H\u001b[40;122H   \u001b[10;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[10;1H\u001b[40;122H   \u001b[9;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[9;1H\u001b[40;122H   \u001b[8;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[8;1H\u001b[40;122H   \u001b[7;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[7;1H\u001b[40;122H   \u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;1H\u001b[K\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Htitle, body = \u001b[95m\"Document\"\u001b[m, \u001b[95m\"\"\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hbody  = original[\u001b[95m2\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(original) > \u001b[95m2\u001b[m \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Htitle = original[\u001b[95m1\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(original) > \u001b[95m1\u001b[m \u001b[93melse\u001b[m \u001b[95m\"Document\"\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17H\u001b[96m# tuple/list row (id, title, body, ...)\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93melse\u001b[m:\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hbody  = original[\u001b[95m\"body\"\u001b[m] \u001b[93mif\u001b[m \u001b[95m\"body\"\u001b[m  \u001b[93min\u001b[m original.keys() \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Htitle = (original[\u001b[95m\"title\"\u001b[m] \u001b[93mif\u001b[m \u001b[95m\"title\"\u001b[m \u001b[93min\u001b[m original.keys() \u001b[93melse\u001b[m \u001b[95m\"Document\"\u001b[m)\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mif\u001b[m \u001b[1m\u001b[96mhasattr\u001b[m(original, \u001b[95m\"keys\"\u001b[m):\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[96m# sqlite3.Row (mapping) or dict\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mtry\u001b[m:\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[96m# Normalize to title/body\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mif\u001b[m original \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hself.logger.error(f\u001b[95m\"Failed to load original doc {current_doc_id}: {e}\"\u001b[m)\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Horiginal = \u001b[1m\u001b[96mNone\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Horiginal = self.doc_store.get_document(current_doc_id)\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mtry\u001b[m:\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[96m# Try to fetch and update original doc (embed a green link), but only if it's text\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5Hself.logger.info(f\u001b[95m\"Created new document {new_doc_id}\"\u001b[m)\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5Hnew_doc_id = self.doc_store.add_document(\u001b[95m\"AI Response\"\u001b[m, reply)\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[96m# Create the new AI doc\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5Hself.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mreturn\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hreply = self.ai.query(prompt)\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mtry\u001b[m:\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[96m# Call AI\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5Hself.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5Hprompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[m \u001b[93mif\u001b[m prefix \u001b[93melse\u001b[m f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[96m# Build prompt\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;14Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;14Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;14Hprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[6;1H\u001b[40;122H   \u001b[7;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[7;1H\u001b[40;122H   \u001b[8;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[8;1H\u001b[40;122H   \u001b[9;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[9;1H\u001b[40;122H   \u001b[10;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[10;1H\u001b[40;122H   \u001b[11;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[11;1H\u001b[40;122H   \u001b[12;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[12;1H\u001b[40;122H   \u001b[13;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[13;1H\u001b[40;122H   \u001b[14;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[14;1H\u001b[40;122H   \u001b[15;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[15;1H\u001b[40;122H   \u001b[16;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[16;1H\u001b[40;122H   \u001b[17;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[17;1H\u001b[40;122H   \u001b[18;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[18;1H\u001b[40;122H   \u001b[19;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[19;1H\u001b[40;122H   \u001b[20;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[20;1H\u001b[40;122H   \u001b[21;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[21;1H\u001b[40;122H   \u001b[22;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[22;1H\u001b[40;122H   \u001b[23;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[23;1H\u001b[40;122H   \u001b[24;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[24;1H\u001b[40;122H   \u001b[25;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[25;1H\u001b[40;122H   \u001b[26;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[26;1H\u001b[40;122H   \u001b[27;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[27;1H\u001b[40;122H   \u001b[28;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[28;1H\u001b[40;122H   \u001b[29;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[29;1H\u001b[40;122H   \u001b[30;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[30;1H\u001b[40;122H   \u001b[31;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[31;1H\u001b[40;122H   \u001b[32;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[32;1H\u001b[40;122H   \u001b[33;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[33;1H\u001b[40;122H   \u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[96m# Only attempt string operations if body is a str\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m selected_text:\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hlink_md = f\u001b[95m\"[{selected_text}](doc:{new_doc_id})\"\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hupdated = \u001b[1m\u001b[96mNone\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[96m# If we were given exact offsets and they look valid for a str body\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(sel_start, \u001b[1m\u001b[96mint\u001b[m) \u001b[93mand\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(sel_end, \u001b[1m\u001b[96mint\u001b[m) \u001b[93mand\u001b[m \u001b[95m0\u001b[m <= sel_start < sel_end <= \u001b[1m\u001b[96mlen\u001b[m(body):\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hupdated = body[:sel_start] + link_md + body[sel_end:]\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself.logger.info(f\u001b[95m\"Embedded link at offsets {sel_start}-{sel_end}\"\u001b[m)\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93melse\u001b[m:\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mif\u001b[m selected_text \u001b[93min\u001b[m body:\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hupdated = body.replace(selected_text, link_md, \u001b[95m1\u001b[m)\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hself.logger.info(\u001b[95m\"Embedded link by substring replace\"\u001b[m)\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93melse\u001b[m:\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hself.logger.info(\u001b[95m\"Selected text not found in body; leaving original unchanged\"\u001b[m)\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m updated \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m \u001b[93mand\u001b[m updated != body:\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mtry\u001b[m:\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hself.doc_store.update_document(current_doc_id, updated)\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hself.logger.error(f\u001b[95m\"Failed updating original doc {current_doc_id}: {e}\"\u001b[m)\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93melse\u001b[m:\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[96m# Non-text bodies (bytes/bytearray/None) are intentionally not mutated\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)):\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself.logger.info(\u001b[95m\"Original doc is binary; skipping in-place link embed to avoid corruption.\"\u001b[m)\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93melse\u001b[m:\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself.logger.info(\u001b[95m\"Original doc body not a string or no selection; skipping link embed.\"\u001b[m)\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93melse\u001b[m:\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.logger.error(f\u001b[95m\"Original document {current_doc_id} not found\"\u001b[m)\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[96m# Fire UI callbacks\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5Hon_link_created(selected_text)\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5Hon_success(new_doc_id)\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;18Hon_success, on_link_created,\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;18Hprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;18Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;18Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m prefix:\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;1H\u001b[40;122H  \u001b[34;18H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hprompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122Hd\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;18H\u001b[40;122H  \u001b[34;18H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93melse\u001b[m:\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;18H\u001b[40;122H  \u001b[34;18H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hprompt = f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122Hd\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;18H\u001b[40;122H  \u001b[34;18H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;18H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hreply = self.ai.query(prompt)\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;1H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122Hd\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;1H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hnew_doc_id = self.doc_store.add_document(\u001b[95m\"AI Response\"\u001b[m, reply)\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.logger.info(f\u001b[95m\"Created new document {new_doc_id}\"\u001b[m)\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Horiginal = self.doc_store.get_document(current_doc_id)\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m original:\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;1H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[96m# sqlite3.Row behaves like a mapping (dict-like) but has no .get()\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122Hd\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;1H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hbody = original[\u001b[95m\"body\"\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(original, (\u001b[1m\u001b[96mdict\u001b[m,)) \u001b[93melse\u001b[m original[\u001b[95m2\u001b[m]\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hlink_md = f\u001b[95m\"[{selected_text}](doc:{new_doc_id})\"\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m sel_start \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m \u001b[93mand\u001b[m sel_end \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m \u001b[93mand\u001b[m sel_start < sel_end <= \u001b[1m\u001b[96mlen\u001b[m(body):\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hupdated = body[:sel_start] + link_md + body[sel_end:]\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself.logger.info(f\u001b[95m\"Embedded link at offsets {sel_start}-{sel_end}\"\u001b[m)\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;1H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93melse\u001b[m:\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;1H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mif\u001b[m selected_text \u001b[93min\u001b[m body:\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hupdated = body.replace(selected_text, link_md, \u001b[95m1\u001b[m)\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;17H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hself.logger.info(\u001b[95m\"Embedded link by substring replace\"\u001b[m)\u001b[34;17H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;17H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;17H\u001b[40;122H  \u001b[34;17H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93melse\u001b[m:\u001b[34;17H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;17H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;17H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hupdated = body\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;17H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hself.logger.info(\u001b[95m\"Selected text not found; no link embedded\"\u001b[m)\u001b[34;17H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;17H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;17H\u001b[40;122H  \u001b[34;21H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.doc_store.update_document(current_doc_id, updated)\u001b[34;21H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;21H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;21H\u001b[40;122H  \u001b[34;21H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93melse\u001b[m:\u001b[34;21H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;21H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;21H\u001b[40;122H  \u001b[34;17H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.logger.error(f\u001b[95m\"Original document {current_doc_id} not found\"\u001b[m)\u001b[34;17H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;17H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;17H\u001b[40;122H  \u001b[34;21H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;21H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;21H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;21H\u001b[40;122H  \u001b[34;21H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hon_link_created(selected_text)\u001b[34;21H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;21H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;21H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hon_success(new_doc_id)\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mget_strings_content\u001b[m(self, doc_id):\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hdoc = self.doc_store.get_document(doc_id)\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;1H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m doc:\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;1H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m \u001b[95m\"[ERROR] Document not found.\"\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;5H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hfile_path = doc[\u001b[95m1\u001b[m]\u001b[34;5H\u001b[?25h\u001b[?25l\u001b[40;122H^[\u001b[34;5H\u001b[40;122H  \u001b[34;5H\u001b[40;122H^[\u001b[34;5H\u0007\u001b[40;122H  \u001b[34;5H\u001b[?25h\u001b[?25l\u001b[40;122H:\u001b[34;5H\u001b[40;122H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"modules/command_processor.py\" 120L, 4894B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi modules/command_processor.py \n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[Ccp ../Downloads/save_as_text_plugin_v3.py modules/save_as_text_plugin_v3.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[Cls -ltr ../Downloads/\u001b[K\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[6Ppython3 main.py\n\u001b[?2004l\nTraceback (most recent call last):\n  File \"/home/gross/FunKit/main.py\", line 3, in <module>\n    from modules.command_processor import CommandProcessor\n  File \"/home/gross/FunKit/modules/command_processor.py\", line 28\n    prompt = f\"{prefix} {selected_text}\" if prefix else f\"Please expand on this: {selected_text}\"\n    ^\nIndentationError: expected an indented block after function definition on line 22\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi modules/\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K+22 modules/command.processor.py\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/command.processor.py\" [New]\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[2;1H\u001b[94m~                                                                                                                                   \u001b[3;1H~                                                                                                                                   \u001b[4;1H~                                                                                                                                   \u001b[5;1H~                                                                                                                                   \u001b[6;1H~                                                                                                                                   \u001b[7;1H~                                                                                                                                   \u001b[8;1H~                                                                                                                                   \u001b[9;1H~                                                                                                                                   \u001b[10;1H~                                                                                                                                   \u001b[11;1H~                                                                                                                                   \u001b[12;1H~                                                                                                                                   \u001b[13;1H~                                                                                                                                   \u001b[14;1H~                                                                                                                                   \u001b[15;1H~                                                                                                                                   \u001b[16;1H~                                                                                                                                   \u001b[17;1H~                                                                                                                                   \u001b[18;1H~                                                                                                                                   \u001b[19;1H~                                                                                                                                   \u001b[20;1H~                                                                                                                                   \u001b[21;1H~                                                                                                                                   \u001b[22;1H~                                                                                                                                   \u001b[23;1H~                                                                                                                                   \u001b[24;1H~                                                                                                                                   \u001b[25;1H~                                                                                                                                   \u001b[26;1H~                                                                                                                                   \u001b[27;1H~                                                                                                                                   \u001b[28;1H~                                                                                                                                   \u001b[29;1H~                                                                                                                                   \u001b[30;1H~                                                                                                                                   \u001b[31;1H~                                                                                                                                   \u001b[32;1H~                                                                                                                                   \u001b[33;1H~                                                                                                                                   \u001b[34;1H~                                                                                                                                   \u001b[35;1H~                                                                                                                                   \u001b[36;1H~                                                                                                                                   \u001b[37;1H~                                                                                                                                   \u001b[38;1H~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;115H0,0-1\u001b[9CAll\u001b[1;1H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[2;1H\u001b[94m~                                                                                                                                   \u001b[3;1H~                                                                                                                                   \u001b[4;1H~                                                                                                                                   \u001b[5;1H~                                                                                                                                   \u001b[6;1H~                                                                                                                                   \u001b[7;1H~                                                                                                                                   \u001b[8;1H~                                                                                                                                   \u001b[9;1H~                                                                                                                                   \u001b[10;1H~                                                                                                                                   \u001b[11;1H~                                                                                                                                   \u001b[12;1H~                                                                                                                                   \u001b[13;1H~                                                                                                                                   \u001b[14;1H~                                                                                                                                   \u001b[15;1H~                                                                                                                                   \u001b[16;1H~                                                                                                                                   \u001b[17;1H~                                                                                                                                   \u001b[18;1H~                                                                                                                                   \u001b[19;1H~                                                                                                                                   \u001b[20;1H~                                                                                                                                   \u001b[21;1H~                                                                                                                                   \u001b[22;1H~                                                                                                                                   \u001b[23;1H~                                                                                                                                   \u001b[24;1H~                                                                                                                                   \u001b[25;1H~                                                                                                                                   \u001b[26;1H~                                                                                                                                   \u001b[27;1H~                                                                                                                                   \u001b[28;1H~                                                                                                                                   \u001b[29;1H~                                                                                                                                   \u001b[30;1H~                                                                                                                                   \u001b[31;1H~                                                                                                                                   \u001b[32;1H~                                                                                                                                   \u001b[33;1H~                                                                                                                                   \u001b[34;1H~                                                                                                                                   \u001b[35;1H~                                                                                                                                   \u001b[36;1H~                                                                                                                                   \u001b[37;1H~                                                                                                                                   \u001b[38;1H~                                                                                                                                   \u001b[39;1H~                                                                                                                                   \u001b[m\u001b[40;115H0,0-1\u001b[9CAll\n\"modules/command.processor.py\" [New]\u001b[1;1H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[1;1H\u001b[40;1H\u001b[K\u001b[40;1H:\u001b[?25hq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\u001b[23;2t\u001b[23;1t\u001b[40;1H\u001b[K\u001b[40;1H\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi +22 modules/command.processor.py\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1Pprocessor.py\b\b\b\b\b\b\b\b\b\b\b\b_processor.py\b\b\b\b\b\b\b\b\b\b\b\b\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/command_processor.py\" 120L, 4894B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;1H\u001b[35mfrom\u001b[m modules.logger \u001b[35mimport\u001b[m Logger\n\u001b[35mfrom\u001b[m modules.document_store \u001b[35mimport\u001b[m DocumentStore\u001b[2;49H\u001b[K\u001b[3;1H\u001b[35mfrom\u001b[m modules.renderer \u001b[35mimport\u001b[m render_binary_as_text\u001b[3;51H\u001b[K\u001b[5;1H\u001b[38;5;130mclass\u001b[m \u001b[36mCommandProcessor\u001b[m:\n    \u001b[38;5;130mdef\u001b[m \u001b[36m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[36mNone\u001b[m):\u001b[7;9Hself.doc_store = store\u001b[8;9Hself.ai = ai_interface\u001b[9;9Hself.logger = logger \u001b[38;5;130mif\u001b[m logger \u001b[38;5;130melse\u001b[m Logger()\u001b[11;5H\u001b[38;5;130mdef\u001b[m \u001b[36mask_question\u001b[m(self, prompt: \u001b[36mstr\u001b[m) -> \u001b[36mstr\u001b[m:\u001b[12;9H\u001b[38;5;130mtry\u001b[m:\u001b[13;13Hself.logger.info(f\u001b[31m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[14;13Hresponse = self.ai.query(prompt)\u001b[15;13Hself.logger.info(\u001b[31m\"AI response received successfully\"\u001b[m)\u001b[16;13H\u001b[38;5;130mreturn\u001b[m response\u001b[17;9H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[18;13Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[19;13H\u001b[38;5;130mreturn\u001b[m \u001b[36mNone\u001b[m\n    \u001b[38;5;130mdef\u001b[m \u001b[36mquery_ai\u001b[m(self, selected_text: \u001b[36mstr\u001b[m, current_doc_id: \u001b[36mint\u001b[m,\u001b[21;14Hon_success, on_link_created,\u001b[22;14Hprefix: \u001b[36mstr\u001b[m = \u001b[36mNone\u001b[m,\u001b[23;14Hsel_start: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m,\u001b[24;14Hsel_end: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m):\n    \u001b[34m# Build prompt\u001b[m\n    prompt = f\u001b[31m\"{prefix} {selected_text}\"\u001b[m \u001b[38;5;130mif\u001b[m prefix \u001b[38;5;130melse\u001b[m f\u001b[31m\"Please expand on this: {selected_text}\"\u001b[m\n    self.logger.info(f\u001b[31m\"Sending prompt: {prompt}\"\u001b[m)\u001b[29;5H\u001b[34m# Call AI\u001b[m\n    \u001b[38;5;130mtry\u001b[m:\u001b[31;9Hreply = self.ai.query(prompt)\n    \u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[33;9Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[34;9H\u001b[38;5;130mreturn\u001b[m\n    self.logger.info(\u001b[31m\"AI query successful\"\u001b[m)\u001b[37;5H\u001b[34m# Create the new AI doc\u001b[m\n    new_doc_id = self.doc_store.add_document(\u001b[31m\"AI Response\"\u001b[m, reply)\n    self.logger.info(f\u001b[31m\"Created new document {new_doc_id}\"\u001b[m)\u001b[40;115H22,5\u001b[11C2%\u001b[20;5H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H0\u001b[20;5H\u001b[40;106H3\u001b[20;5H\u001b[40;107H0\u001b[20;5H\u001b[40;108H/\u001b[20;5H\u001b[40;109H0\u001b[20;5H\u001b[40;110Ha\u001b[20;5H\u001b[40;111H0\u001b[20;5H\u001b[40;112Ha\u001b[20;5H\u001b[40;113H/\u001b[20;5H\u001b[40;114H2\u001b[20;5H\u001b[40;105H          \u001b[20;5H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;1H\u001b[38;5;81mfrom\u001b[m modules.logger \u001b[38;5;81mimport\u001b[m Logger\n\u001b[38;5;81mfrom\u001b[m modules.document_store \u001b[38;5;81mimport\u001b[m DocumentStore\n\u001b[38;5;81mfrom\u001b[m modules.renderer \u001b[38;5;81mimport\u001b[m render_binary_as_text\n\n\u001b[93mclass\u001b[m \u001b[1m\u001b[96mCommandProcessor\u001b[m:\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[1m\u001b[96mNone\u001b[m):\u001b[7;9Hself.doc_store = store\u001b[8;9Hself.ai = ai_interface\u001b[9;9Hself.logger = logger \u001b[93mif\u001b[m logger \u001b[93melse\u001b[m Logger()\u001b[11;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mask_question\u001b[m(self, prompt: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[12;9H\u001b[93mtry\u001b[m:\u001b[13;13Hself.logger.info(f\u001b[95m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[14;13Hresponse = self.ai.query(prompt)\u001b[15;13Hself.logger.info(\u001b[95m\"AI response received successfully\"\u001b[m)\u001b[16;13H\u001b[93mreturn\u001b[m response\u001b[17;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[18;13Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[19;13H\u001b[93mreturn\u001b[m \u001b[1m\u001b[96mNone\u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\u001b[21;14Hon_success, on_link_created,\u001b[22;14Hprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[23;14Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[24;14Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\n    \u001b[96m# Build prompt\u001b[m\n    prompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[m \u001b[93mif\u001b[m prefix \u001b[93melse\u001b[m f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[m\n    self.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[29;5H\u001b[96m# Call AI\u001b[m\n    \u001b[93mtry\u001b[m:\u001b[31;9Hreply = self.ai.query(prompt)\n    \u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[33;9Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[34;9H\u001b[93mreturn\u001b[m\n    self.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[37;5H\u001b[96m# Create the new AI doc\u001b[m\n    new_doc_id = self.doc_store.add_document(\u001b[95m\"AI Response\"\u001b[m, reply)\n    self.logger.info(f\u001b[95m\"Created new document {new_doc_id}\"\u001b[m)\u001b[40;115H22,5\u001b[11C2%\n\"modules/command_processor.py\" 120L, 4894B\u001b[20;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[20;5H\u001b[40;105H   \u001b[21;5H\u001b[40;116H3\u001b[21;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;5H\u001b[40;105H   \u001b[21;6H\u001b[40;118H6\u001b[21;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;6H\u001b[40;105H   \u001b[21;5H\u001b[40;118H5\u001b[21;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;5H\u001b[40;105H   \u001b[21;6H\u001b[40;118H6\u001b[21;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;6H\u001b[40;105H   \u001b[21;7H\u001b[40;118H7\u001b[21;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;7H\u001b[40;105H   \u001b[21;8H\u001b[40;118H8\u001b[21;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;8H\u001b[40;105H   \u001b[21;9H\u001b[40;118H9\u001b[21;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;9H\u001b[40;105H   \u001b[21;10H\u001b[40;118H10\u001b[21;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;10H\u001b[40;105H   \u001b[21;11H\u001b[40;119H1\u001b[21;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;11H\u001b[40;105H   \u001b[21;12H\u001b[40;119H2\u001b[21;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;12H\u001b[40;105H   \u001b[21;13H\u001b[40;119H3\u001b[21;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;13H\u001b[40;105H   \u001b[21;14H\u001b[40;119H4\u001b[21;14H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;14H\u001b[40;105H   \u001b[21;13H\u001b[40;119H3\u001b[21;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;13H\u001b[40;105H   \u001b[21;12H\u001b[40;119H2\u001b[21;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;12H\u001b[40;105H   \u001b[21;11H\u001b[40;119H1\u001b[21;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;11H\u001b[40;105H   \u001b[21;10H\u001b[40;119H0\u001b[21;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;10H\u001b[40;105H   \u001b[21;11H\u001b[40;119H1\u001b[21;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;11H\u001b[40;105H   \u001b[21;10H\u001b[40;119H0\u001b[21;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;10H\u001b[40;105H   \u001b[21;9H\u001b[40;118H9 \u001b[21;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;9H\u001b[40;105H   \u001b[21;8H\u001b[40;118H8\u001b[21;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;8H\u001b[40;105H   \u001b[21;7H\u001b[40;118H7\u001b[21;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;7H\u001b[40;105H   \u001b[21;6H\u001b[40;118H6\u001b[21;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;6H\u001b[40;105H   \u001b[21;5H\u001b[40;118H5\u001b[21;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;5H\u001b[40;105H   \u001b[21;4H\u001b[40;118H4\u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[21;4H\u001b[40;105H \u001b[21;4H\u001b[40;105Hdl\u001b[21;4H\u001b[40;105H  \u001b[21;4H\u001b[9Con_success, on_link_created,\u001b[21;41H\u001b[K\u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[21;4H\u001b[40;105H \u001b[21;4H\u001b[40;105Hdl\u001b[21;4H\u001b[40;105H  \u001b[21;4H\u001b[8Con_success, on_link_created,\u001b[21;40H\u001b[K\u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[21;4H\u001b[40;105H \u001b[21;4H\u001b[40;105Hdl\u001b[21;4H\u001b[40;105H  \u001b[21;4H\u001b[7Con_success, on_link_created,\u001b[21;39H\u001b[K\u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[21;4H\u001b[40;105H \u001b[21;4H\u001b[40;105Hdl\u001b[21;4H\u001b[40;105H  \u001b[21;4H      on_success, on_link_created,\u001b[21;38H\u001b[K\u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[21;4H\u001b[40;105H \u001b[21;4H\u001b[40;105Hdl\u001b[21;4H\u001b[40;105H  \u001b[21;4H     on_success, on_link_created,\u001b[21;37H\u001b[K\u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[21;4H\u001b[40;105H \u001b[21;4H\u001b[40;105Hdl\u001b[21;4H\u001b[40;105H  \u001b[21;4H    on_success, on_link_created,\u001b[21;36H\u001b[K\u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[21;4H\u001b[40;105H \u001b[21;4H\u001b[40;105Hdl\u001b[21;4H\u001b[40;105H  \u001b[21;4H   on_success, on_link_created,\u001b[21;35H\u001b[K\u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[21;4H\u001b[40;105H \u001b[21;4H\u001b[40;105Hdl\u001b[21;4H\u001b[40;105H  \u001b[21;4H  on_success, on_link_created,\u001b[21;34H\u001b[K\u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[21;4H\u001b[40;105H \u001b[21;4H\u001b[40;105Hdl\u001b[21;4H\u001b[40;105H  \u001b[21;4H on_success, on_link_created,\u001b[21;33H\u001b[K\u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[21;4H\u001b[40;105H \u001b[21;4H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;13H\u001b[K\u001b[40;115H23,4\u001b[11C2%\u001b[21;4H\u001b[?25h\u001b[?25l  on_success, on_link_created,\u001b[40;118H5\u001b[21;5H\u001b[?25h\u001b[?25l  on_success, on_link_created,\u001b[40;118H6\u001b[21;6H\u001b[?25h\u001b[?25l  on_success, on_link_created,\u001b[40;118H7\u001b[21;7H\u001b[?25h\u001b[?25l  on_success, on_link_created,\u001b[40;118H8\u001b[21;8H\u001b[?25h\u001b[40;1H\u001b[K\u001b[21;7H\u001b[?25l\u001b[40;105H^[\u001b[21;7H\u001b[40;105H  \u001b[21;8H\u001b[40;115H23,7\u001b[11C2%\u001b[21;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;7H\u001b[40;105H   \u001b[22;7H\u001b[40;116H4\u001b[22;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;7H\u001b[40;105H   \u001b[22;6H\u001b[40;118H6\u001b[22;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;6H\u001b[40;105H   \u001b[22;5H\u001b[40;118H5\u001b[22;5H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[22;5H\u001b[40;105H \u001b[22;5H\u001b[40;105Hdl\u001b[22;5H\u001b[40;105H  \u001b[22;5H\u001b[8Cprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[22;32H\u001b[K\u001b[22;5H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[22;5H\u001b[40;105H \u001b[22;5H\u001b[40;105Hdl\u001b[22;5H\u001b[40;105H  \u001b[22;5H\u001b[7Cprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[22;31H\u001b[K\u001b[22;5H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[22;5H\u001b[40;105H \u001b[22;5H\u001b[40;105Hdl\u001b[22;5H\u001b[40;105H  \u001b[22;5H      prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[22;30H\u001b[K\u001b[22;5H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[22;5H\u001b[40;105H \u001b[22;5H\u001b[40;105Hdl\u001b[22;5H\u001b[40;105H  \u001b[22;5H     prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[22;29H\u001b[K\u001b[22;5H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[22;5H\u001b[40;105H \u001b[22;5H\u001b[40;105Hdl\u001b[22;5H\u001b[40;105H  \u001b[22;5H    prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[22;28H\u001b[K\u001b[22;5H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[22;5H\u001b[40;105H \u001b[22;5H\u001b[40;105Hdl\u001b[22;5H\u001b[40;105H  \u001b[22;5H   prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[22;27H\u001b[K\u001b[22;5H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[22;5H\u001b[40;105H \u001b[22;5H\u001b[40;105Hdl\u001b[22;5H\u001b[40;105H  \u001b[22;5H  prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[22;26H\u001b[K\u001b[22;5H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[22;5H\u001b[40;105H \u001b[22;5H\u001b[40;105Hdl\u001b[22;5H\u001b[40;105H  \u001b[22;5H prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[22;25H\u001b[K\u001b[22;5H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[22;5H\u001b[40;105H \u001b[22;5H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H24,5\u001b[11C2%\u001b[22;5H\u001b[?25h\u001b[?25l  prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[40;118H6\u001b[22;6H\u001b[?25h\u001b[?25l  prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[40;118H7\u001b[22;7H\u001b[?25h\u001b[?25l  prefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[40;118H8\u001b[22;8H\u001b[?25h\u001b[40;1H\u001b[K\u001b[22;7H\u001b[?25l\u001b[40;105H^[\u001b[22;7H\u001b[40;105H  \u001b[22;8H\u001b[40;115H24,7\u001b[11C2%\u001b[22;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;7H\u001b[40;105H   \u001b[23;7H\u001b[40;116H5\u001b[23;7H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[23;7H\u001b[40;105H \u001b[23;7H\u001b[40;105Hdl\u001b[23;7H\u001b[40;105H  \u001b[23;7H      sel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[23;35H\u001b[K\u001b[23;7H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[23;7H\u001b[40;105H \u001b[23;7H\u001b[40;105Hdl\u001b[23;7H\u001b[40;105H  \u001b[23;7H     sel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[23;34H\u001b[K\u001b[23;7H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[23;7H\u001b[40;105H \u001b[23;7H\u001b[40;105Hdl\u001b[23;7H\u001b[40;105H  \u001b[23;7H    sel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[23;33H\u001b[K\u001b[23;7H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[23;7H\u001b[40;105H \u001b[23;7H\u001b[40;105Hdl\u001b[23;7H\u001b[40;105H  \u001b[23;7H   sel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[23;32H\u001b[K\u001b[23;7H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[23;7H\u001b[40;105H \u001b[23;7H\u001b[40;105Hdl\u001b[23;7H\u001b[40;105H  \u001b[23;7H  sel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[23;31H\u001b[K\u001b[23;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;7H\u001b[40;105H   \u001b[24;7H\u001b[40;116H6\u001b[24;7H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[24;7H\u001b[40;105H \u001b[24;7H\u001b[40;105Hdl\u001b[24;7H\u001b[40;105H  \u001b[24;7H      sel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[24;34H\u001b[K\u001b[24;7H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[24;7H\u001b[40;105H \u001b[24;7H\u001b[40;105Hdl\u001b[24;7H\u001b[40;105H  \u001b[24;7H     sel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[24;33H\u001b[K\u001b[24;7H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[24;7H\u001b[40;105H \u001b[24;7H\u001b[40;105Hdl\u001b[24;7H\u001b[40;105H  \u001b[24;7H    sel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[24;32H\u001b[K\u001b[24;7H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[24;7H\u001b[40;105H \u001b[24;7H\u001b[40;105Hdl\u001b[24;7H\u001b[40;105H  \u001b[24;7H   sel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[24;31H\u001b[K\u001b[24;7H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[24;7H\u001b[40;105H \u001b[24;7H\u001b[40;105Hdl\u001b[24;7H\u001b[40;105H  \u001b[24;7H  sel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[24;30H\u001b[K\u001b[24;7H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[24;7H\u001b[40;105H  \u001b[24;7H\u001b[40;105H^[\u001b[24;7H\u0007\u001b[40;105H  \u001b[24;7H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[24;7H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"modules/command_processor.py\" 120L, 4874B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi +22 modules/command_processor.py\b\b\b\b\b\b\b\b\b\b\b\b\b.processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[20Ppython3 main.py\n\u001b[?2004l\nTraceback (most recent call last):\n  File \"/home/gross/FunKit/main.py\", line 3, in <module>\n    from modules.command_processor import CommandProcessor\n  File \"/home/gross/FunKit/modules/command_processor.py\", line 28\n    prompt = f\"{prefix} {selected_text}\" if prefix else f\"Please expand on this: {selected_text}\"\n    ^\nIndentationError: expected an indented block after function definition on line 22\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bvi +22 modules/command_processor.py\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/command_processor.py\" 120L, 4874B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;1H\u001b[35mimport\u001b[m openai\n\u001b[35mimport\u001b[m os\u001b[2;10H\u001b[K\u001b[3;1H\u001b[35mfrom\u001b[m modules.logger \u001b[35mimport\u001b[m Logger\u001b[3;34H\u001b[K\u001b[4;1H\u001b[35mfrom\u001b[m modules.document_store \u001b[35mimport\u001b[m DocumentStore\n\u001b[35mfrom\u001b[m modules.renderer \u001b[35mimport\u001b[m render_binary_as_text\n\n\u001b[38;5;130mclass\u001b[m \u001b[36mCommandProcessor\u001b[m:\n    \u001b[38;5;130mdef\u001b[m \u001b[36m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[36mNone\u001b[m):\u001b[9;9Hself.doc_store = store\u001b[10;9Hself.ai = ai_interface\u001b[11;9Hself.logger = logger \u001b[38;5;130mif\u001b[m logger \u001b[38;5;130melse\u001b[m Logger()\u001b[13;5H\u001b[38;5;130mdef\u001b[m \u001b[36mask_question\u001b[m(self, prompt: \u001b[36mstr\u001b[m) -> \u001b[36mstr\u001b[m:\u001b[14;9H\u001b[38;5;130mtry\u001b[m:\u001b[15;13Hself.logger.info(f\u001b[31m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[16;13Hresponse = self.ai.query(prompt)\u001b[17;13Hself.logger.info(\u001b[31m\"AI response received successfully\"\u001b[m)\u001b[18;13H\u001b[38;5;130mreturn\u001b[m response\u001b[19;9H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[20;13Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[21;13H\u001b[38;5;130mreturn\u001b[m \u001b[36mNone\u001b[m\n    \u001b[38;5;130mdef\u001b[m \u001b[36mquery_ai\u001b[m(self, selected_text: \u001b[36mstr\u001b[m, current_doc_id: \u001b[36mint\u001b[m,\u001b[23;9Hon_success, on_link_created,\u001b[24;9Hprefix: \u001b[36mstr\u001b[m = \u001b[36mNone\u001b[m,\u001b[25;9Hsel_start: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m,\u001b[26;9Hsel_end: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m):\n    \u001b[34m# Build prompt\u001b[m\n    prompt = f\u001b[31m\"{prefix} {selected_text}\"\u001b[m \u001b[38;5;130mif\u001b[m prefix \u001b[38;5;130melse\u001b[m f\u001b[31m\"Please expand on this: {selected_text}\"\u001b[m\n    self.logger.info(f\u001b[31m\"Sending prompt: {prompt}\"\u001b[m)\u001b[31;5H\u001b[34m# Call AI\u001b[m\n    \u001b[38;5;130mtry\u001b[m:\u001b[33;9Hreply = self.ai.query(prompt)\n    \u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[35;9Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[36;9H\u001b[38;5;130mreturn\u001b[m\n    self.logger.info(\u001b[31m\"AI query successful\"\u001b[m)\u001b[39;5H\u001b[34m# Create the new AI doc\u001b[m\u001b[40;115H22,5\u001b[10CTop\u001b[22;5H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H0\u001b[22;5H\u001b[40;106H3\u001b[22;5H\u001b[40;107H0\u001b[22;5H\u001b[40;108H/\u001b[22;5H\u001b[40;109H0\u001b[22;5H\u001b[40;110Ha\u001b[22;5H\u001b[40;111H0\u001b[22;5H\u001b[40;112Ha\u001b[22;5H\u001b[40;113H/\u001b[22;5H\u001b[40;114H2\u001b[22;5H\u001b[40;105H          \u001b[22;5H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;1H\u001b[38;5;81mimport\u001b[m openai\n\u001b[38;5;81mimport\u001b[m os\n\u001b[38;5;81mfrom\u001b[m modules.logger \u001b[38;5;81mimport\u001b[m Logger\n\u001b[38;5;81mfrom\u001b[m modules.document_store \u001b[38;5;81mimport\u001b[m DocumentStore\n\u001b[38;5;81mfrom\u001b[m modules.renderer \u001b[38;5;81mimport\u001b[m render_binary_as_text\n\n\u001b[93mclass\u001b[m \u001b[1m\u001b[96mCommandProcessor\u001b[m:\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[1m\u001b[96mNone\u001b[m):\u001b[9;9Hself.doc_store = store\u001b[10;9Hself.ai = ai_interface\u001b[11;9Hself.logger = logger \u001b[93mif\u001b[m logger \u001b[93melse\u001b[m Logger()\u001b[13;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mask_question\u001b[m(self, prompt: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[14;9H\u001b[93mtry\u001b[m:\u001b[15;13Hself.logger.info(f\u001b[95m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[16;13Hresponse = self.ai.query(prompt)\u001b[17;13Hself.logger.info(\u001b[95m\"AI response received successfully\"\u001b[m)\u001b[18;13H\u001b[93mreturn\u001b[m response\u001b[19;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[20;13Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[21;13H\u001b[93mreturn\u001b[m \u001b[1m\u001b[96mNone\u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\u001b[23;9Hon_success, on_link_created,\u001b[24;9Hprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[25;9Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[26;9Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\n    \u001b[96m# Build prompt\u001b[m\n    prompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[m \u001b[93mif\u001b[m prefix \u001b[93melse\u001b[m f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[m\n    self.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[31;5H\u001b[96m# Call AI\u001b[m\n    \u001b[93mtry\u001b[m:\u001b[33;9Hreply = self.ai.query(prompt)\n    \u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[35;9Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[36;9H\u001b[93mreturn\u001b[m\n    self.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[39;5H\u001b[96m# Create the new AI doc\u001b[m\u001b[40;115H22,5\u001b[10CTop\n\"modules/command_processor.py\" 120L, 4874B\u001b[22;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;5H\u001b[40;105H   \u001b[23;5H\u001b[40;116H3\u001b[23;5H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[23;5H\u001b[40;105H    \u001b[23;6H\u001b[40;118H6\u001b[23;6H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[23;6H\u001b[40;105H    \u001b[23;7H\u001b[40;118H7\u001b[23;7H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[23;7H\u001b[40;105H    \u001b[23;8H\u001b[40;118H8\u001b[23;8H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[23;8H\u001b[40;105H    \u001b[23;9H\u001b[40;118H9\u001b[23;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;9H\u001b[40;105H   \u001b[24;9H\u001b[40;116H4\u001b[24;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;9H\u001b[40;105H   \u001b[25;9H\u001b[40;116H5\u001b[25;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;9H\u001b[40;105H   \u001b[26;9H\u001b[40;116H6\u001b[26;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;9H\u001b[40;105H   \u001b[27;9H\u001b[40;116H7\u001b[27;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;9H\u001b[40;105H   \u001b[27;8H\u001b[40;118H8\u001b[27;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;8H\u001b[40;105H   \u001b[27;7H\u001b[40;118H7\u001b[27;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;7H\u001b[40;105H   \u001b[27;6H\u001b[40;118H6\u001b[27;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;6H\u001b[40;105H   \u001b[27;5H\u001b[40;118H5\u001b[27;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;5H\u001b[40;105H   \u001b[27;4H\u001b[40;118H4\u001b[27;4H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[27;4H\u001b[40;105H \u001b[27;4H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;13H\u001b[K\u001b[40;115H27,4\u001b[10CTop\u001b[27;4H\u001b[?25h\u001b[?25l  \u001b[96m# Build prompt\u001b[m\u001b[40;118H5\u001b[27;5H\u001b[?25h\u001b[?25l  \u001b[96m# Build prompt\u001b[m\u001b[40;118H6\u001b[27;6H\u001b[?25h\u001b[?25l  \u001b[96m# Build prompt\u001b[m\u001b[40;118H7\u001b[27;7H\u001b[?25h\u001b[?25l  \u001b[96m# Build prompt\u001b[m\u001b[40;118H8\u001b[27;8H\u001b[?25h\u001b[40;1H\u001b[K\u001b[27;7H\u001b[?25l\u001b[40;105H^[\u001b[27;7H\u001b[40;105H  \u001b[27;8H\u001b[40;115H27,7\u001b[10CTop\u001b[27;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;7H\u001b[40;105H   \u001b[28;7H\u001b[40;116H8\u001b[28;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;7H\u001b[40;105H   \u001b[28;6H\u001b[40;118H6\u001b[28;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;6H\u001b[40;105H   \u001b[28;5H\u001b[40;118H5\u001b[28;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;5H\u001b[40;105H   \u001b[28;4H\u001b[40;118H4\u001b[28;4H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[28;4H\u001b[40;105H \u001b[28;4H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H28,4\u001b[10CTop\u001b[28;4H\u001b[?25h\u001b[?25l  prompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[m \u001b[93mif\u001b[m prefix \u001b[93melse\u001b[m f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[m\u001b[40;118H5\u001b[28;5H\u001b[?25h\u001b[?25l  prompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[m \u001b[93mif\u001b[m prefix \u001b[93melse\u001b[m f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[m\u001b[40;118H6\u001b[28;6H\u001b[?25h\u001b[?25l  prompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[m \u001b[93mif\u001b[m prefix \u001b[93melse\u001b[m f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[m\u001b[40;118H7\u001b[28;7H\u001b[?25h\u001b[?25l  prompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[m \u001b[93mif\u001b[m prefix \u001b[93melse\u001b[m f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[m\u001b[40;118H8\u001b[28;8H\u001b[?25h\u001b[40;1H\u001b[K\u001b[28;7H\u001b[?25l\u001b[40;105H^[\u001b[28;7H\u001b[40;105H  \u001b[28;8H\u001b[40;115H28,7\u001b[10CTop\u001b[28;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;7H\u001b[40;105H   \u001b[29;7H\u001b[40;116H9\u001b[29;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;7H\u001b[40;105H   \u001b[29;6H\u001b[40;118H6\u001b[29;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;6H\u001b[40;105H   \u001b[29;5H\u001b[40;118H5\u001b[29;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;5H\u001b[40;105H   \u001b[29;4H\u001b[40;118H4\u001b[29;4H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[29;4H\u001b[40;105H \u001b[29;4H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H29,4\u001b[10CTop\u001b[29;4H\u001b[?25h\u001b[?25l  self.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[40;118H5\u001b[29;5H\u001b[?25h\u001b[?25l  self.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[40;118H6\u001b[29;6H\u001b[?25h\u001b[?25l  self.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[40;118H7\u001b[29;7H\u001b[?25h\u001b[?25l  self.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[40;118H8\u001b[29;8H\u001b[?25h\u001b[?25l\u001b[40;115H30,1\u001b[30;1H\u001b[?25h\u001b[?25l\u001b[40;116H1,8\u001b[31;8H\u001b[?25h\u001b[?25l\u001b[40;118H7\u001b[31;7H\u001b[?25h\u001b[?25l\u001b[40;118H6\u001b[31;6H\u001b[?25h\u001b[?25l\u001b[40;118H5\u001b[31;5H\u001b[?25h\u001b[?25l\u001b[40;118H4\u001b[31;4H\u001b[?25h\u001b[?25li \u001b[96m# Call AI\u001b[m\u001b[40;118H5\u001b[31;5H\u001b[?25h\u001b[40;1H\u001b[K\u001b[31;4H\u001b[?25l\u001b[40;105H^[\u001b[31;4H\u001b[40;105H  \u001b[31;5H\u001b[40;115H31,4\u001b[10CTop\u001b[31;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[31;4H\u001b[40;105H \u001b[31;4H\u001b[40;105Hdl\u001b[31;4H\u001b[40;105H  \u001b[31;4H \u001b[96m# Call AI\u001b[m\u001b[31;14H\u001b[K\u001b[31;4H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[31;4H\u001b[40;105H  \u001b[31;4H\u001b[40;105H^[\u001b[31;4H\u0007\u001b[40;105H  \u001b[31;4H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[31;4H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"modules/command_processor.py\" 120L, 4886B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi +22 modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[20Ppython3 main.py\n\u001b[?2004l\nTraceback (most recent call last):\n  File \"/home/gross/FunKit/main.py\", line 3, in <module>\n    from modules.command_processor import CommandProcessor\n  File \"/home/gross/FunKit/modules/command_processor.py\", line 36\n    return\n    ^^^^^^\nSyntaxError: 'return' outside function\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bvi +22 modules/command_processor.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\b\u001b[1P modules/command_processor.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1P modules/command_processor.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b3 modules/command_processor.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b6 modules/command_processor.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/command_processor.py\" 120L, 4886B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;1H\u001b[35mfrom\u001b[m modules.logger \u001b[35mimport\u001b[m Logger\n\u001b[35mfrom\u001b[m modules.document_store \u001b[35mimport\u001b[m DocumentStore\u001b[2;49H\u001b[K\u001b[3;1H\u001b[35mfrom\u001b[m modules.renderer \u001b[35mimport\u001b[m render_binary_as_text\u001b[3;51H\u001b[K\u001b[5;1H\u001b[38;5;130mclass\u001b[m \u001b[36mCommandProcessor\u001b[m:\n    \u001b[38;5;130mdef\u001b[m \u001b[36m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[36mNone\u001b[m):\u001b[7;9Hself.doc_store = store\u001b[8;9Hself.ai = ai_interface\u001b[9;9Hself.logger = logger \u001b[38;5;130mif\u001b[m logger \u001b[38;5;130melse\u001b[m Logger()\u001b[11;5H\u001b[38;5;130mdef\u001b[m \u001b[36mask_question\u001b[m(self, prompt: \u001b[36mstr\u001b[m) -> \u001b[36mstr\u001b[m:\u001b[12;9H\u001b[38;5;130mtry\u001b[m:\u001b[13;13Hself.logger.info(f\u001b[31m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[14;13Hresponse = self.ai.query(prompt)\u001b[15;13Hself.logger.info(\u001b[31m\"AI response received successfully\"\u001b[m)\u001b[16;13H\u001b[38;5;130mreturn\u001b[m response\u001b[17;9H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[18;13Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[19;13H\u001b[38;5;130mreturn\u001b[m \u001b[36mNone\u001b[m\n    \u001b[38;5;130mdef\u001b[m \u001b[36mquery_ai\u001b[m(self, selected_text: \u001b[36mstr\u001b[m, current_doc_id: \u001b[36mint\u001b[m,\u001b[21;9Hon_success, on_link_created,\u001b[22;9Hprefix: \u001b[36mstr\u001b[m = \u001b[36mNone\u001b[m,\u001b[23;9Hsel_start: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m,\u001b[24;9Hsel_end: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m):\u001b[25;9H\u001b[34m# Build prompt\u001b[m\u001b[26;9Hprompt = f\u001b[31m\"{prefix} {selected_text}\"\u001b[m \u001b[38;5;130mif\u001b[m prefix \u001b[38;5;130melse\u001b[m f\u001b[31m\"Please expand on this: {selected_text}\"\u001b[m\u001b[27;9Hself.logger.info(f\u001b[31m\"Sending prompt: {prompt}\"\u001b[m)\u001b[29;5H\u001b[34m# Call AI\u001b[m\n    \u001b[38;5;130mtry\u001b[m:\u001b[31;9Hreply = self.ai.query(prompt)\n    \u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[33;9Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[34;9H\u001b[38;5;130mreturn\u001b[m\n    self.logger.info(\u001b[31m\"AI query successful\"\u001b[m)\u001b[37;5H\u001b[34m# Create the new AI doc\u001b[m\n    new_doc_id = self.doc_store.add_document(\u001b[31m\"AI Response\"\u001b[m, reply)\n    self.logger.info(f\u001b[31m\"Created new document {new_doc_id}\"\u001b[m)\u001b[40;115H36,9\u001b[11C2%\u001b[34;9H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H0\u001b[34;9H\u001b[40;106H3\u001b[34;9H\u001b[40;107H0\u001b[34;9H\u001b[40;108H/\u001b[34;9H\u001b[40;109H0\u001b[34;9H\u001b[40;110Ha\u001b[34;9H\u001b[40;111H0\u001b[34;9H\u001b[40;112Ha\u001b[34;9H\u001b[40;113H/\u001b[34;9H\u001b[40;114H2\u001b[34;9H\u001b[40;105H          \u001b[34;9H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;1H\u001b[38;5;81mfrom\u001b[m modules.logger \u001b[38;5;81mimport\u001b[m Logger\n\u001b[38;5;81mfrom\u001b[m modules.document_store \u001b[38;5;81mimport\u001b[m DocumentStore\n\u001b[38;5;81mfrom\u001b[m modules.renderer \u001b[38;5;81mimport\u001b[m render_binary_as_text\n\n\u001b[93mclass\u001b[m \u001b[1m\u001b[96mCommandProcessor\u001b[m:\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[1m\u001b[96mNone\u001b[m):\u001b[7;9Hself.doc_store = store\u001b[8;9Hself.ai = ai_interface\u001b[9;9Hself.logger = logger \u001b[93mif\u001b[m logger \u001b[93melse\u001b[m Logger()\u001b[11;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mask_question\u001b[m(self, prompt: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[12;9H\u001b[93mtry\u001b[m:\u001b[13;13Hself.logger.info(f\u001b[95m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[14;13Hresponse = self.ai.query(prompt)\u001b[15;13Hself.logger.info(\u001b[95m\"AI response received successfully\"\u001b[m)\u001b[16;13H\u001b[93mreturn\u001b[m response\u001b[17;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[18;13Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[19;13H\u001b[93mreturn\u001b[m \u001b[1m\u001b[96mNone\u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\u001b[21;9Hon_success, on_link_created,\u001b[22;9Hprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[23;9Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[24;9Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[25;9H\u001b[96m# Build prompt\u001b[m\u001b[26;9Hprompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[m \u001b[93mif\u001b[m prefix \u001b[93melse\u001b[m f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[m\u001b[27;9Hself.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[29;5H\u001b[96m# Call AI\u001b[m\n    \u001b[93mtry\u001b[m:\u001b[31;9Hreply = self.ai.query(prompt)\n    \u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[33;9Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[34;9H\u001b[93mreturn\u001b[m\n    self.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[37;5H\u001b[96m# Create the new AI doc\u001b[m\n    new_doc_id = self.doc_store.add_document(\u001b[95m\"AI Response\"\u001b[m, reply)\n    self.logger.info(f\u001b[95m\"Created new document {new_doc_id}\"\u001b[m)\u001b[40;115H36,9\u001b[11C2%\n\"modules/command_processor.py\" 120L, 4886B\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[34;9H\u001b[40;105H \u001b[34;9H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;13H\u001b[K\u001b[40;115H36,9\u001b[11C2%\u001b[34;9H\u001b[?25h\u001b[?25l \u001b[93mreturn\u001b[m\u001b[40;118H10\u001b[34;10H\u001b[?25h\u001b[?25l \u001b[93mreturn\u001b[m\u001b[40;119H1\u001b[34;11H\u001b[?25h\u001b[?25l \u001b[93mreturn\u001b[m\u001b[40;119H2\u001b[34;12H\u001b[?25h\u001b[?25l \u001b[93mreturn\u001b[m\u001b[40;119H3\u001b[34;13H\u001b[?25h\u001b[40;1H\u001b[K\u001b[34;12H\u001b[?25l\u001b[40;105H^[\u001b[34;12H\u001b[40;105H  \u001b[34;13H\u001b[40;115H36,12\u001b[10C2%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[34;12H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"modules/command_processor.py\" 120L, 4890B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi +36 modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[20Ppython3 main.py\n\u001b[?2004l\nTraceback (most recent call last):\n  File \"/home/gross/FunKit/main.py\", line 3, in <module>\n    from modules.command_processor import CommandProcessor\n  File \"/home/gross/FunKit/modules/command_processor.py\", line 36\n    return\nIndentationError: unexpected indent\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ tabnann\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u0007\u0007\u0007\u0007\u0007python \b\u001b[K3 -m tabnanny modules/command_processor.py\n\u001b[?2004l\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 -m tabnanny modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[Cmain.py\u001b[K\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bvi +36 modules/command_processor.py\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/command_processor.py\" 120L, 4890B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;1H\u001b[35mfrom\u001b[m modules.logger \u001b[35mimport\u001b[m Logger\n\u001b[35mfrom\u001b[m modules.document_store \u001b[35mimport\u001b[m DocumentStore\u001b[2;49H\u001b[K\u001b[3;1H\u001b[35mfrom\u001b[m modules.renderer \u001b[35mimport\u001b[m render_binary_as_text\u001b[3;51H\u001b[K\u001b[5;1H\u001b[38;5;130mclass\u001b[m \u001b[36mCommandProcessor\u001b[m:\n    \u001b[38;5;130mdef\u001b[m \u001b[36m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[36mNone\u001b[m):\u001b[7;9Hself.doc_store = store\u001b[8;9Hself.ai = ai_interface\u001b[9;9Hself.logger = logger \u001b[38;5;130mif\u001b[m logger \u001b[38;5;130melse\u001b[m Logger()\u001b[11;5H\u001b[38;5;130mdef\u001b[m \u001b[36mask_question\u001b[m(self, prompt: \u001b[36mstr\u001b[m) -> \u001b[36mstr\u001b[m:\u001b[12;9H\u001b[38;5;130mtry\u001b[m:\u001b[13;13Hself.logger.info(f\u001b[31m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[14;13Hresponse = self.ai.query(prompt)\u001b[15;13Hself.logger.info(\u001b[31m\"AI response received successfully\"\u001b[m)\u001b[16;13H\u001b[38;5;130mreturn\u001b[m response\u001b[17;9H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[18;13Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[19;13H\u001b[38;5;130mreturn\u001b[m \u001b[36mNone\u001b[m\n    \u001b[38;5;130mdef\u001b[m \u001b[36mquery_ai\u001b[m(self, selected_text: \u001b[36mstr\u001b[m, current_doc_id: \u001b[36mint\u001b[m,\u001b[21;9Hon_success, on_link_created,\u001b[22;9Hprefix: \u001b[36mstr\u001b[m = \u001b[36mNone\u001b[m,\u001b[23;9Hsel_start: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m,\u001b[24;9Hsel_end: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m):\u001b[25;9H\u001b[34m# Build prompt\u001b[m\u001b[26;9Hprompt = f\u001b[31m\"{prefix} {selected_text}\"\u001b[m \u001b[38;5;130mif\u001b[m prefix \u001b[38;5;130melse\u001b[m f\u001b[31m\"Please expand on this: {selected_text}\"\u001b[m\u001b[27;9Hself.logger.info(f\u001b[31m\"Sending prompt: {prompt}\"\u001b[m)\u001b[29;5H\u001b[34m# Call AI\u001b[m\n    \u001b[38;5;130mtry\u001b[m:\u001b[31;9Hreply = self.ai.query(prompt)\n    \u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[33;9Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[34;13H\u001b[38;5;130mreturn\u001b[m\n    self.logger.info(\u001b[31m\"AI query successful\"\u001b[m)\u001b[37;5H\u001b[34m# Create the new AI doc\u001b[m\n    new_doc_id = self.doc_store.add_document(\u001b[31m\"AI Response\"\u001b[m, reply)\n    self.logger.info(f\u001b[31m\"Created new document {new_doc_id}\"\u001b[m)\u001b[40;115H36,13\u001b[10C2%\u001b[34;13H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H0\u001b[34;13H\u001b[40;106H3\u001b[34;13H\u001b[40;107H0\u001b[34;13H\u001b[40;108H/\u001b[34;13H\u001b[40;109H0\u001b[34;13H\u001b[40;110Ha\u001b[34;13H\u001b[40;111H0\u001b[34;13H\u001b[40;112Ha\u001b[34;13H\u001b[40;113H/\u001b[34;13H\u001b[40;114H2\u001b[34;13H\u001b[40;105H          \u001b[34;13H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;1H\u001b[38;5;81mfrom\u001b[m modules.logger \u001b[38;5;81mimport\u001b[m Logger\n\u001b[38;5;81mfrom\u001b[m modules.document_store \u001b[38;5;81mimport\u001b[m DocumentStore\n\u001b[38;5;81mfrom\u001b[m modules.renderer \u001b[38;5;81mimport\u001b[m render_binary_as_text\n\n\u001b[93mclass\u001b[m \u001b[1m\u001b[96mCommandProcessor\u001b[m:\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[1m\u001b[96mNone\u001b[m):\u001b[7;9Hself.doc_store = store\u001b[8;9Hself.ai = ai_interface\u001b[9;9Hself.logger = logger \u001b[93mif\u001b[m logger \u001b[93melse\u001b[m Logger()\u001b[11;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mask_question\u001b[m(self, prompt: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[12;9H\u001b[93mtry\u001b[m:\u001b[13;13Hself.logger.info(f\u001b[95m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[14;13Hresponse = self.ai.query(prompt)\u001b[15;13Hself.logger.info(\u001b[95m\"AI response received successfully\"\u001b[m)\u001b[16;13H\u001b[93mreturn\u001b[m response\u001b[17;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[18;13Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[19;13H\u001b[93mreturn\u001b[m \u001b[1m\u001b[96mNone\u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\u001b[21;9Hon_success, on_link_created,\u001b[22;9Hprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[23;9Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[24;9Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[25;9H\u001b[96m# Build prompt\u001b[m\u001b[26;9Hprompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[m \u001b[93mif\u001b[m prefix \u001b[93melse\u001b[m f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[m\u001b[27;9Hself.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[29;5H\u001b[96m# Call AI\u001b[m\n    \u001b[93mtry\u001b[m:\u001b[31;9Hreply = self.ai.query(prompt)\n    \u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[33;9Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[34;13H\u001b[93mreturn\u001b[m\n    self.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[37;5H\u001b[96m# Create the new AI doc\u001b[m\n    new_doc_id = self.doc_store.add_document(\u001b[95m\"AI Response\"\u001b[m, reply)\n    self.logger.info(f\u001b[95m\"Created new document {new_doc_id}\"\u001b[m)\u001b[40;115H36,13\u001b[10C2%\n\"modules/command_processor.py\" 120L, 4890B\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[34;13H\u001b[40;105H  \u001b[34;13H\u001b[40;105H^[\u001b[34;13H\u0007\u001b[40;105H  \u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[34;13H\u001b[40;1H\u001b[K\u001b[40;1H:\u001b[?25hq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\u001b[23;2t\u001b[23;1t\u001b[40;1H\u001b[K\u001b[40;1H\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi +36 modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[13@python3 -m tabnanny\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\n\u001b[?2004l\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 -m tabnanny modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[13Pvi +36\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[13@python3 -m tabnanny\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[Cmain.py\u001b[K\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bvi +36 modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[20Ppython3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bvi +36 modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[20Ppython3 main.py\n\u001b[?2004l\nTraceback (most recent call last):\n  File \"/home/gross/FunKit/main.py\", line 3, in <module>\n    from modules.command_processor import CommandProcessor\n  File \"/home/gross/FunKit/modules/command_processor.py\", line 36\n    return\nIndentationError: unexpected indent\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 main.py\b\b\b\b\b\b\b-m tabnanny modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[13Pvi +36\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/command_processor.py\" 120L, 4890B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;1H\u001b[35mfrom\u001b[m modules.logger \u001b[35mimport\u001b[m Logger\n\u001b[35mfrom\u001b[m modules.document_store \u001b[35mimport\u001b[m DocumentStore\u001b[2;49H\u001b[K\u001b[3;1H\u001b[35mfrom\u001b[m modules.renderer \u001b[35mimport\u001b[m render_binary_as_text\u001b[3;51H\u001b[K\u001b[5;1H\u001b[38;5;130mclass\u001b[m \u001b[36mCommandProcessor\u001b[m:\n    \u001b[38;5;130mdef\u001b[m \u001b[36m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[36mNone\u001b[m):\u001b[7;9Hself.doc_store = store\u001b[8;9Hself.ai = ai_interface\u001b[9;9Hself.logger = logger \u001b[38;5;130mif\u001b[m logger \u001b[38;5;130melse\u001b[m Logger()\u001b[11;5H\u001b[38;5;130mdef\u001b[m \u001b[36mask_question\u001b[m(self, prompt: \u001b[36mstr\u001b[m) -> \u001b[36mstr\u001b[m:\u001b[12;9H\u001b[38;5;130mtry\u001b[m:\u001b[13;13Hself.logger.info(f\u001b[31m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[14;13Hresponse = self.ai.query(prompt)\u001b[15;13Hself.logger.info(\u001b[31m\"AI response received successfully\"\u001b[m)\u001b[16;13H\u001b[38;5;130mreturn\u001b[m response\u001b[17;9H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[18;13Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[19;13H\u001b[38;5;130mreturn\u001b[m \u001b[36mNone\u001b[m\n    \u001b[38;5;130mdef\u001b[m \u001b[36mquery_ai\u001b[m(self, selected_text: \u001b[36mstr\u001b[m, current_doc_id: \u001b[36mint\u001b[m,\u001b[21;9Hon_success, on_link_created,\u001b[22;9Hprefix: \u001b[36mstr\u001b[m = \u001b[36mNone\u001b[m,\u001b[23;9Hsel_start: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m,\u001b[24;9Hsel_end: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m):\u001b[25;9H\u001b[34m# Build prompt\u001b[m\u001b[26;9Hprompt = f\u001b[31m\"{prefix} {selected_text}\"\u001b[m \u001b[38;5;130mif\u001b[m prefix \u001b[38;5;130melse\u001b[m f\u001b[31m\"Please expand on this: {selected_text}\"\u001b[m\u001b[27;9Hself.logger.info(f\u001b[31m\"Sending prompt: {prompt}\"\u001b[m)\u001b[29;5H\u001b[34m# Call AI\u001b[m\n    \u001b[38;5;130mtry\u001b[m:\u001b[31;9Hreply = self.ai.query(prompt)\n    \u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[33;9Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[34;13H\u001b[38;5;130mreturn\u001b[m\n    self.logger.info(\u001b[31m\"AI query successful\"\u001b[m)\u001b[37;5H\u001b[34m# Create the new AI doc\u001b[m\n    new_doc_id = self.doc_store.add_document(\u001b[31m\"AI Response\"\u001b[m, reply)\n    self.logger.info(f\u001b[31m\"Created new document {new_doc_id}\"\u001b[m)\u001b[40;115H36,13\u001b[10C2%\u001b[34;13H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H0\u001b[34;13H\u001b[40;106H3\u001b[34;13H\u001b[40;107H0\u001b[34;13H\u001b[40;108H/\u001b[34;13H\u001b[40;109H0\u001b[34;13H\u001b[40;110Ha\u001b[34;13H\u001b[40;111H0\u001b[34;13H\u001b[40;112Ha\u001b[34;13H\u001b[40;113H/\u001b[34;13H\u001b[40;114H2\u001b[34;13H\u001b[40;105H          \u001b[34;13H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;1H\u001b[38;5;81mfrom\u001b[m modules.logger \u001b[38;5;81mimport\u001b[m Logger\n\u001b[38;5;81mfrom\u001b[m modules.document_store \u001b[38;5;81mimport\u001b[m DocumentStore\n\u001b[38;5;81mfrom\u001b[m modules.renderer \u001b[38;5;81mimport\u001b[m render_binary_as_text\n\n\u001b[93mclass\u001b[m \u001b[1m\u001b[96mCommandProcessor\u001b[m:\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[1m\u001b[96mNone\u001b[m):\u001b[7;9Hself.doc_store = store\u001b[8;9Hself.ai = ai_interface\u001b[9;9Hself.logger = logger \u001b[93mif\u001b[m logger \u001b[93melse\u001b[m Logger()\u001b[11;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mask_question\u001b[m(self, prompt: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[12;9H\u001b[93mtry\u001b[m:\u001b[13;13Hself.logger.info(f\u001b[95m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[14;13Hresponse = self.ai.query(prompt)\u001b[15;13Hself.logger.info(\u001b[95m\"AI response received successfully\"\u001b[m)\u001b[16;13H\u001b[93mreturn\u001b[m response\u001b[17;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[18;13Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[19;13H\u001b[93mreturn\u001b[m \u001b[1m\u001b[96mNone\u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\u001b[21;9Hon_success, on_link_created,\u001b[22;9Hprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[23;9Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[24;9Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[25;9H\u001b[96m# Build prompt\u001b[m\u001b[26;9Hprompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[m \u001b[93mif\u001b[m prefix \u001b[93melse\u001b[m f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[m\u001b[27;9Hself.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[29;5H\u001b[96m# Call AI\u001b[m\n    \u001b[93mtry\u001b[m:\u001b[31;9Hreply = self.ai.query(prompt)\n    \u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[33;9Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[34;13H\u001b[93mreturn\u001b[m\n    self.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[37;5H\u001b[96m# Create the new AI doc\u001b[m\n    new_doc_id = self.doc_store.add_document(\u001b[95m\"AI Response\"\u001b[m, reply)\n    self.logger.info(f\u001b[95m\"Created new document {new_doc_id}\"\u001b[m)\u001b[40;115H36,13\u001b[10C2%\n\"modules/command_processor.py\" 120L, 4890B\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[34;13H\u001b[40;105H  \u001b[34;13H\u001b[40;105H^[\u001b[34;13H\u0007\u001b[40;105H  \u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;13H\u001b[40;105H   \u001b[34;12H\u001b[40;119H2\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;11H\u001b[40;119H1\u001b[34;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;11H\u001b[40;105H   \u001b[34;10H\u001b[40;119H0\u001b[34;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;10H\u001b[40;105H   \u001b[34;9H\u001b[40;118H9 \u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[34;9H\u001b[40;105H \u001b[34;9H\u001b[40;105Hdl\u001b[34;9H\u001b[40;105H  \u001b[34;9H   \u001b[93mreturn\u001b[m\u001b[34;18H\u001b[K\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[34;9H\u001b[40;105H \u001b[34;9H\u001b[40;105Hdl\u001b[34;9H\u001b[40;105H  \u001b[34;9H  \u001b[93mreturn\u001b[m\u001b[34;17H\u001b[K\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[34;9H\u001b[40;105H \u001b[34;9H\u001b[40;105Hdl\u001b[34;9H\u001b[40;105H  \u001b[34;9H \u001b[93mreturn\u001b[m\u001b[34;16H\u001b[K\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[34;9H\u001b[40;105H \u001b[34;9H\u001b[40;105Hdl\u001b[34;9H\u001b[40;105H  \u001b[34;9H\u001b[93mreturn\u001b[m\u001b[34;15H\u001b[K\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[34;9H\u001b[40;105H  \u001b[34;9H\u001b[40;105H^[\u001b[34;9H\u0007\u001b[40;105H  \u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[34;9H\u001b[40;1H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"modules/command_processor.py\" 120L, 4886B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi +36 modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[20Ppython3 main.py\n\u001b[?2004l\nTraceback (most recent call last):\n  File \"/home/gross/FunKit/main.py\", line 3, in <module>\n    from modules.command_processor import CommandProcessor\n  File \"/home/gross/FunKit/modules/command_processor.py\", line 36\n    return\n    ^^^^^^\nSyntaxError: 'return' outside function\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bvi +36 modules/command_processor.py\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/command_processor.py\" 120L, 4886B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;1H\u001b[35mfrom\u001b[m modules.logger \u001b[35mimport\u001b[m Logger\n\u001b[35mfrom\u001b[m modules.document_store \u001b[35mimport\u001b[m DocumentStore\u001b[2;49H\u001b[K\u001b[3;1H\u001b[35mfrom\u001b[m modules.renderer \u001b[35mimport\u001b[m render_binary_as_text\u001b[3;51H\u001b[K\u001b[5;1H\u001b[38;5;130mclass\u001b[m \u001b[36mCommandProcessor\u001b[m:\n    \u001b[38;5;130mdef\u001b[m \u001b[36m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[36mNone\u001b[m):\u001b[7;9Hself.doc_store = store\u001b[8;9Hself.ai = ai_interface\u001b[9;9Hself.logger = logger \u001b[38;5;130mif\u001b[m logger \u001b[38;5;130melse\u001b[m Logger()\u001b[11;5H\u001b[38;5;130mdef\u001b[m \u001b[36mask_question\u001b[m(self, prompt: \u001b[36mstr\u001b[m) -> \u001b[36mstr\u001b[m:\u001b[12;9H\u001b[38;5;130mtry\u001b[m:\u001b[13;13Hself.logger.info(f\u001b[31m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[14;13Hresponse = self.ai.query(prompt)\u001b[15;13Hself.logger.info(\u001b[31m\"AI response received successfully\"\u001b[m)\u001b[16;13H\u001b[38;5;130mreturn\u001b[m response\u001b[17;9H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[18;13Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[19;13H\u001b[38;5;130mreturn\u001b[m \u001b[36mNone\u001b[m\n    \u001b[38;5;130mdef\u001b[m \u001b[36mquery_ai\u001b[m(self, selected_text: \u001b[36mstr\u001b[m, current_doc_id: \u001b[36mint\u001b[m,\u001b[21;9Hon_success, on_link_created,\u001b[22;9Hprefix: \u001b[36mstr\u001b[m = \u001b[36mNone\u001b[m,\u001b[23;9Hsel_start: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m,\u001b[24;9Hsel_end: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m):\u001b[25;9H\u001b[34m# Build prompt\u001b[m\u001b[26;9Hprompt = f\u001b[31m\"{prefix} {selected_text}\"\u001b[m \u001b[38;5;130mif\u001b[m prefix \u001b[38;5;130melse\u001b[m f\u001b[31m\"Please expand on this: {selected_text}\"\u001b[m\u001b[27;9Hself.logger.info(f\u001b[31m\"Sending prompt: {prompt}\"\u001b[m)\u001b[29;5H\u001b[34m# Call AI\u001b[m\n    \u001b[38;5;130mtry\u001b[m:\u001b[31;9Hreply = self.ai.query(prompt)\n    \u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[33;9Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[34;9H\u001b[38;5;130mreturn\u001b[m\n    self.logger.info(\u001b[31m\"AI query successful\"\u001b[m)\u001b[37;5H\u001b[34m# Create the new AI doc\u001b[m\n    new_doc_id = self.doc_store.add_document(\u001b[31m\"AI Response\"\u001b[m, reply)\n    self.logger.info(f\u001b[31m\"Created new document {new_doc_id}\"\u001b[m)\u001b[40;115H36,9\u001b[11C2%\u001b[34;9H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H0\u001b[34;9H\u001b[40;106H3\u001b[34;9H\u001b[40;107H0\u001b[34;9H\u001b[40;108H/\u001b[34;9H\u001b[40;109H0\u001b[34;9H\u001b[40;110Ha\u001b[34;9H\u001b[40;111H0\u001b[34;9H\u001b[40;112Ha\u001b[34;9H\u001b[40;113H/\u001b[34;9H\u001b[40;114H2\u001b[34;9H\u001b[40;105H          \u001b[34;9H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;1H\u001b[38;5;81mfrom\u001b[m modules.logger \u001b[38;5;81mimport\u001b[m Logger\n\u001b[38;5;81mfrom\u001b[m modules.document_store \u001b[38;5;81mimport\u001b[m DocumentStore\n\u001b[38;5;81mfrom\u001b[m modules.renderer \u001b[38;5;81mimport\u001b[m render_binary_as_text\n\n\u001b[93mclass\u001b[m \u001b[1m\u001b[96mCommandProcessor\u001b[m:\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[1m\u001b[96mNone\u001b[m):\u001b[7;9Hself.doc_store = store\u001b[8;9Hself.ai = ai_interface\u001b[9;9Hself.logger = logger \u001b[93mif\u001b[m logger \u001b[93melse\u001b[m Logger()\u001b[11;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mask_question\u001b[m(self, prompt: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[12;9H\u001b[93mtry\u001b[m:\u001b[13;13Hself.logger.info(f\u001b[95m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[14;13Hresponse = self.ai.query(prompt)\u001b[15;13Hself.logger.info(\u001b[95m\"AI response received successfully\"\u001b[m)\u001b[16;13H\u001b[93mreturn\u001b[m response\u001b[17;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[18;13Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[19;13H\u001b[93mreturn\u001b[m \u001b[1m\u001b[96mNone\u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\u001b[21;9Hon_success, on_link_created,\u001b[22;9Hprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[23;9Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[24;9Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[25;9H\u001b[96m# Build prompt\u001b[m\u001b[26;9Hprompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[m \u001b[93mif\u001b[m prefix \u001b[93melse\u001b[m f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[m\u001b[27;9Hself.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[29;5H\u001b[96m# Call AI\u001b[m\n    \u001b[93mtry\u001b[m:\u001b[31;9Hreply = self.ai.query(prompt)\n    \u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[33;9Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[34;9H\u001b[93mreturn\u001b[m\n    self.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[37;5H\u001b[96m# Create the new AI doc\u001b[m\n    new_doc_id = self.doc_store.add_document(\u001b[95m\"AI Response\"\u001b[m, reply)\n    self.logger.info(f\u001b[95m\"Created new document {new_doc_id}\"\u001b[m)\u001b[40;115H36,9\u001b[11C2%\n\"modules/command_processor.py\" 120L, 4886B\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[34;9H\u001b[40;105H \u001b[34;9H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;13H\u001b[K\u001b[40;115H36,9\u001b[11C2%\u001b[34;9H\u001b[?25h\u001b[40;1H\u001b[K\u001b[34;8H\u001b[?25l\u001b[40;105H^[\u001b[34;8H\u001b[40;105H  \u001b[34;9H\u001b[40;115H36,8\u001b[11C2%\u001b[34;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;8H\u001b[40;105H   \u001b[33;8H\u001b[40;116H5\u001b[33;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[33;8H\u001b[40;105H   \u001b[32;8H\u001b[40;116H4\u001b[32;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;8H\u001b[40;105H   \u001b[32;7H\u001b[40;118H7\u001b[32;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;7H\u001b[40;105H   \u001b[32;6H\u001b[40;118H6\u001b[32;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;6H\u001b[40;105H   \u001b[32;5H\u001b[40;118H5\u001b[32;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;5H\u001b[40;105H   \u001b[31;5H\u001b[40;116H3\u001b[31;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;5H\u001b[40;105H   \u001b[30;5H\u001b[40;116H2\u001b[30;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;5H\u001b[40;105H   \u001b[29;5H\u001b[40;116H1\u001b[29;5H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[29;5H\u001b[40;105H \u001b[29;5H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H31,5\u001b[11C2%\u001b[29;5H\u001b[?25h\u001b[?25l \u001b[96m# Call AI\u001b[m\u001b[40;118H6\u001b[29;6H\u001b[?25h\u001b[?25l \u001b[96m# Call AI\u001b[m\u001b[40;118H7\u001b[29;7H\u001b[?25h\u001b[?25l \u001b[96m# Call AI\u001b[m\u001b[40;118H8\u001b[29;8H\u001b[?25h\u001b[?25l \u001b[96m# Call AI\u001b[m\u001b[40;118H9\u001b[29;9H\u001b[?25h\u001b[40;1H\u001b[K\u001b[29;8H\u001b[?25l\u001b[40;105H^[\u001b[29;8H\u001b[40;105H  \u001b[29;9H\u001b[40;115H31,8\u001b[11C2%\u001b[29;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;8H\u001b[40;105H   \u001b[30;8H\u001b[40;116H2\u001b[30;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;8H\u001b[40;105H   \u001b[30;7H\u001b[40;118H7\u001b[30;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;7H\u001b[40;105H   \u001b[30;6H\u001b[40;118H6\u001b[30;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;6H\u001b[40;105H   \u001b[30;5H\u001b[40;118H5\u001b[30;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[30;5H\u001b[40;105H   \u001b[31;5H\u001b[40;116H3\u001b[31;5H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[31;5H\u001b[40;105H    \u001b[31;6H\u001b[40;118H6\u001b[31;6H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[31;6H\u001b[40;105H    \u001b[31;7H\u001b[40;118H7\u001b[31;7H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[31;7H\u001b[40;105H    \u001b[31;8H\u001b[40;118H8\u001b[31;8H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[31;8H\u001b[40;105H    \u001b[31;9H\u001b[40;118H9\u001b[31;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;9H\u001b[40;105H   \u001b[32;9H\u001b[40;116H4\u001b[32;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;9H\u001b[40;105H   \u001b[32;8H\u001b[40;118H8\u001b[32;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;8H\u001b[40;105H   \u001b[32;7H\u001b[40;118H7\u001b[32;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;7H\u001b[40;105H   \u001b[32;6H\u001b[40;118H6\u001b[32;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;6H\u001b[40;105H   \u001b[32;5H\u001b[40;118H5\u001b[32;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;5H\u001b[40;105H   \u001b[33;5H\u001b[40;116H5\u001b[33;5H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[33;5H\u001b[40;105H    \u001b[33;6H\u001b[40;118H6\u001b[33;6H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[33;6H\u001b[40;105H    \u001b[33;7H\u001b[40;118H7\u001b[33;7H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[33;7H\u001b[40;105H    \u001b[33;8H\u001b[40;118H8\u001b[33;8H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[33;8H\u001b[40;105H    \u001b[33;9H\u001b[40;118H9\u001b[33;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[33;9H\u001b[40;105H   \u001b[34;9H\u001b[40;116H6\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;9H\u001b[40;105H   \u001b[34;8H\u001b[40;118H8\u001b[34;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;8H\u001b[40;105H   \u001b[34;7H\u001b[40;118H7\u001b[34;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;7H\u001b[40;105H   \u001b[34;6H\u001b[40;118H6\u001b[34;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;6H\u001b[40;105H   \u001b[34;5H\u001b[40;118H5\u001b[34;5H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[34;5H\u001b[40;105H    \u001b[34;6H\u001b[40;118H6\u001b[34;6H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[34;6H\u001b[40;105H    \u001b[34;7H\u001b[40;118H7\u001b[34;7H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[34;7H\u001b[40;105H    \u001b[34;8H\u001b[40;118H8\u001b[34;8H\u001b[?25h\u001b[?25l\u001b[40;105H<20>\u001b[34;8H\u001b[40;105H    \u001b[34;9H\u001b[40;118H9\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;9H\u001b[40;105H   \u001b[34;8H\u001b[40;118H8\u001b[34;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;8H\u001b[40;105H   \u001b[34;7H\u001b[40;118H7\u001b[34;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;7H\u001b[40;105H   \u001b[34;6H\u001b[40;118H6\u001b[34;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;6H\u001b[40;105H   \u001b[34;5H\u001b[40;118H5\u001b[34;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;5H\u001b[40;105H   \u001b[34;4H\u001b[40;118H4\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;5H\u001b[40;118H5\u001b[34;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;5H\u001b[40;105H   \u001b[34;6H\u001b[40;118H6\u001b[34;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;6H\u001b[40;105H   \u001b[34;7H\u001b[40;118H7\u001b[34;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;7H\u001b[40;105H   \u001b[34;8H\u001b[40;118H8\u001b[34;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;8H\u001b[40;105H   \u001b[34;8H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H37,8\u001b[11C3%\u001b[34;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;8H\u001b[40;105H   \u001b[34;7H\u001b[40;118H7\u001b[34;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;7H\u001b[40;105H   \u001b[34;6H\u001b[40;118H6\u001b[34;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;6H\u001b[40;105H   \u001b[34;5H\u001b[40;118H5\u001b[34;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;5H\u001b[40;105H   \u001b[34;4H\u001b[40;118H4\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[34;4H\u001b[40;105H \u001b[34;4H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H37,4\u001b[11C3%\u001b[34;4H\u001b[?25h\u001b[?25l  self.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[40;118H5\u001b[34;5H\u001b[?25h\u001b[?25l  self.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[40;118H6\u001b[34;6H\u001b[?25h\u001b[?25l  self.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[40;118H7\u001b[34;7H\u001b[?25h\u001b[?25l  self.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[40;118H8\u001b[34;8H\u001b[?25h\u001b[?25l\u001b[40;116H6\u001b[33;8H\u001b[?25h\u001b[40;1H\u001b[K\u001b[33;7H\u001b[?25l\u001b[40;105H^[\u001b[33;7H\u001b[40;105H  \u001b[33;8H\u001b[40;115H36,7\u001b[11C3%\u001b[33;7H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[33;7H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"modules/command_processor.py\" 120L, 4894B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi +36 modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[20Ppython3 main.py\n\u001b[?2004l\nTraceback (most recent call last):\n  File \"/home/gross/FunKit/main.py\", line 3, in <module>\n    from modules.command_processor import CommandProcessor\n  File \"/home/gross/FunKit/modules/command_processor.py\", line 36\n    return\n    ^^^^^^\nSyntaxError: 'return' outside function\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bvi +36 modules/command_processor.py\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/command_processor.py\" 120L, 4894B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;1H\u001b[35mfrom\u001b[m modules.logger \u001b[35mimport\u001b[m Logger\n\u001b[35mfrom\u001b[m modules.document_store \u001b[35mimport\u001b[m DocumentStore\u001b[2;49H\u001b[K\u001b[3;1H\u001b[35mfrom\u001b[m modules.renderer \u001b[35mimport\u001b[m render_binary_as_text\u001b[3;51H\u001b[K\u001b[5;1H\u001b[38;5;130mclass\u001b[m \u001b[36mCommandProcessor\u001b[m:\n    \u001b[38;5;130mdef\u001b[m \u001b[36m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[36mNone\u001b[m):\u001b[7;9Hself.doc_store = store\u001b[8;9Hself.ai = ai_interface\u001b[9;9Hself.logger = logger \u001b[38;5;130mif\u001b[m logger \u001b[38;5;130melse\u001b[m Logger()\u001b[11;5H\u001b[38;5;130mdef\u001b[m \u001b[36mask_question\u001b[m(self, prompt: \u001b[36mstr\u001b[m) -> \u001b[36mstr\u001b[m:\u001b[12;9H\u001b[38;5;130mtry\u001b[m:\u001b[13;13Hself.logger.info(f\u001b[31m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[14;13Hresponse = self.ai.query(prompt)\u001b[15;13Hself.logger.info(\u001b[31m\"AI response received successfully\"\u001b[m)\u001b[16;13H\u001b[38;5;130mreturn\u001b[m response\u001b[17;9H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[18;13Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[19;13H\u001b[38;5;130mreturn\u001b[m \u001b[36mNone\u001b[m\n    \u001b[38;5;130mdef\u001b[m \u001b[36mquery_ai\u001b[m(self, selected_text: \u001b[36mstr\u001b[m, current_doc_id: \u001b[36mint\u001b[m,\u001b[21;9Hon_success, on_link_created,\u001b[22;9Hprefix: \u001b[36mstr\u001b[m = \u001b[36mNone\u001b[m,\u001b[23;9Hsel_start: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m,\u001b[24;9Hsel_end: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m):\u001b[25;9H\u001b[34m# Build prompt\u001b[m\u001b[26;9Hprompt = f\u001b[31m\"{prefix} {selected_text}\"\u001b[m \u001b[38;5;130mif\u001b[m prefix \u001b[38;5;130melse\u001b[m f\u001b[31m\"Please expand on this: {selected_text}\"\u001b[m\u001b[27;9Hself.logger.info(f\u001b[31m\"Sending prompt: {prompt}\"\u001b[m)\u001b[29;9H\u001b[34m# Call AI\u001b[m\n    \u001b[38;5;130mtry\u001b[m:\u001b[31;9Hreply = self.ai.query(prompt)\n    \u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[33;9Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[34;9H\u001b[38;5;130mreturn\u001b[m\u001b[35;9Hself.logger.info(\u001b[31m\"AI query successful\"\u001b[m)\u001b[37;5H\u001b[34m# Create the new AI doc\u001b[m\n    new_doc_id = self.doc_store.add_document(\u001b[31m\"AI Response\"\u001b[m, reply)\n    self.logger.info(f\u001b[31m\"Created new document {new_doc_id}\"\u001b[m)\u001b[40;115H36,9\u001b[11C2%\u001b[34;9H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H0\u001b[34;9H\u001b[40;106H3\u001b[34;9H\u001b[40;107H0\u001b[34;9H\u001b[40;108H/\u001b[34;9H\u001b[40;109H0\u001b[34;9H\u001b[40;110Ha\u001b[34;9H\u001b[40;111H0\u001b[34;9H\u001b[40;112Ha\u001b[34;9H\u001b[40;113H/\u001b[34;9H\u001b[40;114H2\u001b[34;9H\u001b[40;105H          \u001b[34;9H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;1H\u001b[38;5;81mfrom\u001b[m modules.logger \u001b[38;5;81mimport\u001b[m Logger\n\u001b[38;5;81mfrom\u001b[m modules.document_store \u001b[38;5;81mimport\u001b[m DocumentStore\n\u001b[38;5;81mfrom\u001b[m modules.renderer \u001b[38;5;81mimport\u001b[m render_binary_as_text\n\n\u001b[93mclass\u001b[m \u001b[1m\u001b[96mCommandProcessor\u001b[m:\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[1m\u001b[96mNone\u001b[m):\u001b[7;9Hself.doc_store = store\u001b[8;9Hself.ai = ai_interface\u001b[9;9Hself.logger = logger \u001b[93mif\u001b[m logger \u001b[93melse\u001b[m Logger()\u001b[11;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mask_question\u001b[m(self, prompt: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[12;9H\u001b[93mtry\u001b[m:\u001b[13;13Hself.logger.info(f\u001b[95m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[14;13Hresponse = self.ai.query(prompt)\u001b[15;13Hself.logger.info(\u001b[95m\"AI response received successfully\"\u001b[m)\u001b[16;13H\u001b[93mreturn\u001b[m response\u001b[17;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[18;13Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[19;13H\u001b[93mreturn\u001b[m \u001b[1m\u001b[96mNone\u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\u001b[21;9Hon_success, on_link_created,\u001b[22;9Hprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[23;9Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[24;9Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[25;9H\u001b[96m# Build prompt\u001b[m\u001b[26;9Hprompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[m \u001b[93mif\u001b[m prefix \u001b[93melse\u001b[m f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[m\u001b[27;9Hself.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[29;9H\u001b[96m# Call AI\u001b[m\n    \u001b[93mtry\u001b[m:\u001b[31;9Hreply = self.ai.query(prompt)\n    \u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[33;9Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[34;9H\u001b[93mreturn\u001b[m\u001b[35;9Hself.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[37;5H\u001b[96m# Create the new AI doc\u001b[m\n    new_doc_id = self.doc_store.add_document(\u001b[95m\"AI Response\"\u001b[m, reply)\n    self.logger.info(f\u001b[95m\"Created new document {new_doc_id}\"\u001b[m)\u001b[40;115H36,9\u001b[11C2%\n\"modules/command_processor.py\" 120L, 4894B\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[34;9H\u001b[40;105H \u001b[34;9H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;13H\u001b[K\u001b[40;115H36,9\u001b[11C2%\u001b[34;9H\u001b[?25h\u001b[?25l \u001b[93mreturn\u001b[m\u001b[40;118H10\u001b[34;10H\u001b[?25h\u001b[?25l \u001b[93mreturn\u001b[m\u001b[40;119H1\u001b[34;11H\u001b[?25h\u001b[?25l \u001b[93mreturn\u001b[m\u001b[40;119H2\u001b[34;12H\u001b[?25h\u001b[?25l \u001b[93mreturn\u001b[m\u001b[40;119H3\u001b[34;13H\u001b[?25h\u001b[40;1H\u001b[K\u001b[34;12H\u001b[?25l\u001b[40;105H^[\u001b[34;12H\u001b[40;105H  \u001b[34;13H\u001b[40;115H36,12\u001b[10C2%\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[34;12H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"modules/command_processor.py\" 120L, 4898B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi +36 modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[20Ppython3 main.py\n\u001b[?2004l\nTraceback (most recent call last):\n  File \"/home/gross/FunKit/main.py\", line 3, in <module>\n    from modules.command_processor import CommandProcessor\n  File \"/home/gross/FunKit/modules/command_processor.py\", line 36\n    return\nIndentationError: unexpected indent\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bvi +36 modules/command_processor.py\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/command_processor.py\" 120L, 4898B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;1H\u001b[35mfrom\u001b[m modules.logger \u001b[35mimport\u001b[m Logger\n\u001b[35mfrom\u001b[m modules.document_store \u001b[35mimport\u001b[m DocumentStore\u001b[2;49H\u001b[K\u001b[3;1H\u001b[35mfrom\u001b[m modules.renderer \u001b[35mimport\u001b[m render_binary_as_text\u001b[3;51H\u001b[K\u001b[5;1H\u001b[38;5;130mclass\u001b[m \u001b[36mCommandProcessor\u001b[m:\n    \u001b[38;5;130mdef\u001b[m \u001b[36m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[36mNone\u001b[m):\u001b[7;9Hself.doc_store = store\u001b[8;9Hself.ai = ai_interface\u001b[9;9Hself.logger = logger \u001b[38;5;130mif\u001b[m logger \u001b[38;5;130melse\u001b[m Logger()\u001b[11;5H\u001b[38;5;130mdef\u001b[m \u001b[36mask_question\u001b[m(self, prompt: \u001b[36mstr\u001b[m) -> \u001b[36mstr\u001b[m:\u001b[12;9H\u001b[38;5;130mtry\u001b[m:\u001b[13;13Hself.logger.info(f\u001b[31m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[14;13Hresponse = self.ai.query(prompt)\u001b[15;13Hself.logger.info(\u001b[31m\"AI response received successfully\"\u001b[m)\u001b[16;13H\u001b[38;5;130mreturn\u001b[m response\u001b[17;9H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[18;13Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[19;13H\u001b[38;5;130mreturn\u001b[m \u001b[36mNone\u001b[m\n    \u001b[38;5;130mdef\u001b[m \u001b[36mquery_ai\u001b[m(self, selected_text: \u001b[36mstr\u001b[m, current_doc_id: \u001b[36mint\u001b[m,\u001b[21;9Hon_success, on_link_created,\u001b[22;9Hprefix: \u001b[36mstr\u001b[m = \u001b[36mNone\u001b[m,\u001b[23;9Hsel_start: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m,\u001b[24;9Hsel_end: \u001b[36mint\u001b[m = \u001b[36mNone\u001b[m):\u001b[25;9H\u001b[34m# Build prompt\u001b[m\u001b[26;9Hprompt = f\u001b[31m\"{prefix} {selected_text}\"\u001b[m \u001b[38;5;130mif\u001b[m prefix \u001b[38;5;130melse\u001b[m f\u001b[31m\"Please expand on this: {selected_text}\"\u001b[m\u001b[27;9Hself.logger.info(f\u001b[31m\"Sending prompt: {prompt}\"\u001b[m)\u001b[29;9H\u001b[34m# Call AI\u001b[m\n    \u001b[38;5;130mtry\u001b[m:\u001b[31;9Hreply = self.ai.query(prompt)\n    \u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[33;9Hself.logger.error(f\u001b[31m\"AI query failed: {e}\"\u001b[m)\u001b[34;13H\u001b[38;5;130mreturn\u001b[m\u001b[35;9Hself.logger.info(\u001b[31m\"AI query successful\"\u001b[m)\u001b[37;5H\u001b[34m# Create the new AI doc\u001b[m\n    new_doc_id = self.doc_store.add_document(\u001b[31m\"AI Response\"\u001b[m, reply)\n    self.logger.info(f\u001b[31m\"Created new document {new_doc_id}\"\u001b[m)\u001b[40;115H36,13\u001b[10C2%\u001b[34;13H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H0\u001b[34;13H\u001b[40;106H3\u001b[34;13H\u001b[40;107H0\u001b[34;13H\u001b[40;108H/\u001b[34;13H\u001b[40;109H0\u001b[34;13H\u001b[40;110Ha\u001b[34;13H\u001b[40;111H0\u001b[34;13H\u001b[40;112Ha\u001b[34;13H\u001b[40;113H/\u001b[34;13H\u001b[40;114H2\u001b[34;13H\u001b[40;105H          \u001b[34;13H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;1H\u001b[38;5;81mfrom\u001b[m modules.logger \u001b[38;5;81mimport\u001b[m Logger\n\u001b[38;5;81mfrom\u001b[m modules.document_store \u001b[38;5;81mimport\u001b[m DocumentStore\n\u001b[38;5;81mfrom\u001b[m modules.renderer \u001b[38;5;81mimport\u001b[m render_binary_as_text\n\n\u001b[93mclass\u001b[m \u001b[1m\u001b[96mCommandProcessor\u001b[m:\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m__init__\u001b[m(self, store: DocumentStore, ai_interface, logger=\u001b[1m\u001b[96mNone\u001b[m):\u001b[7;9Hself.doc_store = store\u001b[8;9Hself.ai = ai_interface\u001b[9;9Hself.logger = logger \u001b[93mif\u001b[m logger \u001b[93melse\u001b[m Logger()\u001b[11;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mask_question\u001b[m(self, prompt: \u001b[1m\u001b[96mstr\u001b[m) -> \u001b[1m\u001b[96mstr\u001b[m:\u001b[12;9H\u001b[93mtry\u001b[m:\u001b[13;13Hself.logger.info(f\u001b[95m\"Sending standalone prompt to AI: {prompt}\"\u001b[m)\u001b[14;13Hresponse = self.ai.query(prompt)\u001b[15;13Hself.logger.info(\u001b[95m\"AI response received successfully\"\u001b[m)\u001b[16;13H\u001b[93mreturn\u001b[m response\u001b[17;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[18;13Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[19;13H\u001b[93mreturn\u001b[m \u001b[1m\u001b[96mNone\u001b[m\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96mquery_ai\u001b[m(self, selected_text: \u001b[1m\u001b[96mstr\u001b[m, current_doc_id: \u001b[1m\u001b[96mint\u001b[m,\u001b[21;9Hon_success, on_link_created,\u001b[22;9Hprefix: \u001b[1m\u001b[96mstr\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[23;9Hsel_start: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m,\u001b[24;9Hsel_end: \u001b[1m\u001b[96mint\u001b[m = \u001b[1m\u001b[96mNone\u001b[m):\u001b[25;9H\u001b[96m# Build prompt\u001b[m\u001b[26;9Hprompt = f\u001b[95m\"{prefix} {selected_text}\"\u001b[m \u001b[93mif\u001b[m prefix \u001b[93melse\u001b[m f\u001b[95m\"Please expand on this: {selected_text}\"\u001b[m\u001b[27;9Hself.logger.info(f\u001b[95m\"Sending prompt: {prompt}\"\u001b[m)\u001b[29;9H\u001b[96m# Call AI\u001b[m\n    \u001b[93mtry\u001b[m:\u001b[31;9Hreply = self.ai.query(prompt)\n    \u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[33;9Hself.logger.error(f\u001b[95m\"AI query failed: {e}\"\u001b[m)\u001b[34;13H\u001b[93mreturn\u001b[m\u001b[35;9Hself.logger.info(\u001b[95m\"AI query successful\"\u001b[m)\u001b[37;5H\u001b[96m# Create the new AI doc\u001b[m\n    new_doc_id = self.doc_store.add_document(\u001b[95m\"AI Response\"\u001b[m, reply)\n    self.logger.info(f\u001b[95m\"Created new document {new_doc_id}\"\u001b[m)\u001b[40;115H36,13\u001b[10C2%\n\"modules/command_processor.py\" 120L, 4898B\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;13H\u001b[40;105H   \u001b[34;12H\u001b[40;119H2\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;12H\u001b[40;105H   \u001b[34;11H\u001b[40;119H1\u001b[34;11H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;11H\u001b[40;105H   \u001b[34;10H\u001b[40;119H0\u001b[34;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;10H\u001b[40;105H   \u001b[34;9H\u001b[40;118H9 \u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;9H\u001b[40;105H   \u001b[34;8H\u001b[40;118H8\u001b[34;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;8H\u001b[40;105H   \u001b[34;7H\u001b[40;118H7\u001b[34;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;7H\u001b[40;105H   \u001b[34;6H\u001b[40;118H6\u001b[34;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;6H\u001b[40;105H   \u001b[34;5H\u001b[40;118H5\u001b[34;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;5H\u001b[40;105H   \u001b[34;4H\u001b[40;118H4\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[34;4H\u001b[40;105H \u001b[34;4H\u001b[40;105Hdl\u001b[34;4H\u001b[40;105H  \u001b[34;4H\u001b[8C\u001b[93mreturn\u001b[m\u001b[34;18H\u001b[K\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[34;4H\u001b[40;105H \u001b[34;4H\u001b[40;105Hdl\u001b[34;4H\u001b[40;105H  \u001b[34;4H\u001b[7C\u001b[93mreturn\u001b[m\u001b[34;17H\u001b[K\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[34;4H\u001b[40;105H \u001b[34;4H\u001b[40;105Hdl\u001b[34;4H\u001b[40;105H  \u001b[34;4H      \u001b[93mreturn\u001b[m\u001b[34;16H\u001b[K\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[34;4H\u001b[40;105H \u001b[34;4H\u001b[40;105Hdl\u001b[34;4H\u001b[40;105H  \u001b[34;4H     \u001b[93mreturn\u001b[m\u001b[34;15H\u001b[K\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[34;4H\u001b[40;105H \u001b[34;4H\u001b[40;105Hdl\u001b[34;4H\u001b[40;105H  \u001b[34;4H    \u001b[93mreturn\u001b[m\u001b[34;14H\u001b[K\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[34;4H\u001b[40;105H \u001b[34;4H\u001b[40;105Hdl\u001b[34;4H\u001b[40;105H  \u001b[34;4H   \u001b[93mreturn\u001b[m\u001b[34;13H\u001b[K\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[34;4H\u001b[40;105H \u001b[34;4H\u001b[40;105Hdl\u001b[34;4H\u001b[40;105H  \u001b[34;4H  \u001b[93mreturn\u001b[m\u001b[34;12H\u001b[K\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105Hx\u001b[34;4H\u001b[40;105H \u001b[34;4H\u001b[40;105Hdl\u001b[34;4H\u001b[40;105H  \u001b[34;4H \u001b[93mreturn\u001b[m\u001b[34;11H\u001b[K\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[34;4H\u001b[40;105H  \u001b[34;4H\u001b[40;105H^[\u001b[34;4H\u0007\u001b[40;105H  \u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[34;4H\u001b[40;1H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"modules/command_processor.py\" 120L, 4890B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi +36 modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[20Ppython3 main.py\n\u001b[?2004l\nTraceback (most recent call last):\n  File \"/home/gross/FunKit/main.py\", line 3, in <module>\n    from modules.command_processor import CommandProcessor\n  File \"/home/gross/FunKit/modules/command_processor.py\", line 37\n    self.logger.info(\"AI query successful\")\nIndentationError: unexpected indent\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ ls -ltr ../Downloads/\n\u001b[?2004l\ntotal 5637712\n-rw-rw-r-- 1 gross gross      28959 Jan 31  1993  pkunzip.exe\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0m\u001b[0;36mbiosr11\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mbackee28\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mpsps30\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mprintgf\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mpcm140\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mmemscan\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mmaxspeed\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mjcbench\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mirqinfo\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mguard\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36mdata_rec\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msyschk40\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msrxtest\u001b[0m\ndrwxrwxr-x 2 gross gross       4096 Dec  2  1996  \u001b[0;36msnoop330\u001b[0m\ndrwxrwxr-x 4 gross gross       4096 Sep  9  1997  \u001b[0;36mupgradep\u001b[0m\n-rw-rw-r-- 1 gross gross     197143 Mar  8 03:39  friendships-image.png\n-rw-rw-r-- 1 gross gross     133244 Mar 10 06:49  Cyria_and_Elevator.jpg\n-rw-rw-r-- 1 gross gross     771670 Mar 11 05:23  Unitary_Executive.webp\n-rw-rw-r-- 1 gross gross       2688 Apr 14 20:27  create_neural_trailer.py\n-rw-rw-r-- 1 gross gross    2133015 Apr 14 20:34 'ChatGPT Image Apr 14, 2025, 08_34_02 PM.png'\n-rw-rw-r-- 1 gross gross    1431755 Apr 14 20:38  oscilloscope-trace.png\n-rw-rw-r-- 1 gross gross       2673 Apr 14 21:04  create_neural_trailer_fixed.py\n-rw-rw-r-- 1 gross gross       2652 Apr 14 21:19  create_neural_trailer_fixed_final.py\n-rw-rw-r-- 1 gross gross       2693 Apr 14 21:24  create_neural_trailer_final_fixed.py\n-rw-rw-r-- 1 gross gross       2701 Apr 14 21:34  upload_video_to_youtube.py\n-rw-rw-r-- 1 gross gross        409 Apr 14 21:48  client_secret_397308046611-boq5nfbs5l65kki9cdtkfh0jgqkvoods.apps.googleusercontent.com.json\n-rw-rw-r-- 1 gross gross   10782310 Apr 14 23:04  youtubeuploader_1.24.4_Linux_amd64.tar.gz\ndrwxrwxr-x 2 gross gross       4096 Apr 14 23:04  \u001b[0;36myoutubeuploader_1.24.4_Linux_amd64\u001b[0m\n-rw-rw-r-- 1 gross gross       3485 Apr 15 04:05  create_neural_trailer_debug_filter.py\n-rw-rw-r-- 1 gross gross    1049433 Apr 15 05:11  Hallelujah.pdf\n-rw-rw-r-- 1 gross gross    1987405 Apr 15 05:11 'Thine is the glory.pdf'\n-rw-rw-r-- 1 gross gross     440106 Apr 15 05:11 'Trumpet I & Trumpet II.pdf'\n-rw-rw-r-- 1 gross gross     836616 Apr 15 05:11 'Coronation March.pdf'\n-rw-rw-r-- 1 gross gross    1472064 Apr 15 05:11 'marche triomphale.pdf'\n-rw-rw-r-- 1 gross gross     270011 Apr 15 05:11 'Nichols Resurrection anthem brass001.pdf'\n-rw-rw-r-- 1 gross gross       3078 Apr 15 05:29  analyze_video_metadata.py\n-rw-rw-r-- 1 gross gross   41117934 Apr 15 06:03  IMG_1664.MP4\n-rw-rw-r-- 1 gross gross     754923 Apr 15 06:09 'iCloud Photos.zip'\n-rw-rw-r-- 1 gross gross     615579 Apr 15 06:13 'La Vida Es Un Carnaval - Cruz (Trombone, Bb Trumpet, Tenor Sax) (Concert Cut).pdf'\n-rw-rw-r-- 1 gross gross   12617725 Apr 15 06:25  video-629_singular_display.MP4\n-rw-rw-r-- 1 gross gross   45170194 Apr 15 15:22 'iCloud Photos (1).zip'\ndrwxrwxr-x 3 gross gross       4096 Apr 15 15:23 \u001b[0;36m'iCloud Photos (1)'\u001b[0m\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:26  img-XVIXupiEqlFj796tsHf7F61H.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:40  Women_Understanding.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:49  female_ginsberg.png\n-rw-rw-r-- 1 gross gross     197143 Apr 15 22:57  Frost_Woman.png\n-rw-rw-r-- 1 gross gross     369939 Apr 15 23:19 'GPT-4.1 Prompting Guide _ OpenAI Cookbook.pdf'\n-rw-rw-r-- 1 gross gross  109845104 Apr 15 23:34  midori-11.5.2.linux-x86_64.tar.bz2\n-rw-rw-r-- 1 gross gross   91977104 Apr 15 23:34  midori_11.5.2-1_amd64.deb\n-rw-rw-r-- 1 gross gross     197143 Apr 16 00:09  Woman_to_Date.png\n-rw-rw-r-- 1 gross gross    2132052 Apr 16 09:02 'ChatGPT Image Apr 16, 2025, 09_02_05 AM.png'\n-rw-rw-r-- 1 gross gross    2132052 Apr 16 09:03  Coal_Minors_Tea_Party.png\n-rw-rw-r-- 1 gross gross    3312936 Apr 16 09:13 'ChatGPT Image Apr 16, 2025, 09_13_18 AM.png'\n-rw-rw-r-- 1 gross gross    3312936 Apr 16 09:13  Chinese_Cell_Phone_Tea_Party.png\n-rw-rw-r-- 1 gross gross     117910 Apr 16 10:33 'Gmail - Greetings.pdf'\n-rw-rw-r-- 1 gross gross    1039888 Apr 16 10:38 'English - Cordoba Contract.pdf'\n-rw-rw-r-- 1 gross gross  254366302 Apr 16 22:24  Blues_Bookends.mp4\n-rw-rw-r-- 1 gross gross       1194 Apr 17 07:00  clean_video_metadata.py\n-rw-rw-r-- 1 gross gross       1051 Apr 17 10:18  chyron_phrases.txt\n-rw-rw-r-- 1 gross gross    8091581 Apr 17 10:47  chyron_layer_preview.mp4\n-rw-rw-r-- 1 gross gross    1378660 Apr 17 12:49  KolAmi_CC_2nd_Rehearsal_DSC_0126.jpg\n-rw-rw-r-- 1 gross gross       1025 Apr 17 14:10  PAVE_README.txt\n-rw-rw-r-- 1 gross gross       2415 Apr 17 15:01  pave_generate_base_video.py\n-rw-rw-r-- 1 gross gross     943643 Apr 17 15:15  countdown.mp4\n-rw-rw-r-- 1 gross gross       2500 Apr 17 22:00 'analyze_video_metadata (1).py'\n-rw-rw-r-- 1 gross gross       3485 Apr 18 02:57  create_neural_trailer_debug_filter_patched.py\n-rw-rw-r-- 1 gross gross       3020 Apr 18 03:35  analyze_video_metadata_enhanced.py\n-rw-rw-r-- 1 gross gross       3160 Apr 18 03:38  analyze_video_metadata_enhanced_fixed.py\n-rw-rw-r-- 1 gross gross       3168 Apr 18 03:42  analyze_video_metadata_fixed_path.py\n-rw-rw-r-- 1 gross gross        895 Apr 18 10:42  discover_videos.zip\n-rw-rw-r-- 1 gross gross       2400 Apr 18 15:44  generate_chyron_overlay_scroll.py\n-rw-rw-r-- 1 gross gross    1049433 Apr 18 21:11 'Hallelujah (1).pdf'\n-rw-rw-r-- 1 gross gross  451305311 Apr 19 05:14  buffered.mp4\n-rw-rw-r-- 1 gross gross         91 Apr 19 05:26  env.example\n-rw-rw-r-- 1 gross gross       2084 Apr 19 05:26  activate\n-rw-rw-r-- 1 gross gross    8019136 Apr 19 06:15  python3.12\n-rw-rw-r-- 1 gross gross      32748 Apr 19 06:18  bash_history\n-rw-rw-r-- 1 gross gross     664153 Apr 19 12:21  original-7E5F34EF-C836-4B26-B84E-5E309FD21808.jpeg\n-rw-rw-r-- 1 gross gross       3713 Apr 19 19:27  video_search_update.zip\ndrwxrwxr-x 4 gross gross       4096 Apr 19 19:31  \u001b[0;36mvideo_search_update\u001b[0m\ndrwxrwxr-x 3 gross gross       4096 Apr 19 19:32  \u001b[0;36mdata\u001b[0m\n-rw-rw-r-- 1 gross gross       1705 Apr 19 19:56  updated_templates.zip\n-rw-rw-r-- 1 gross gross      27642 Apr 21 08:56  invoice-990659.pdf\n-rw-rw-r-- 1 gross gross       2531 Apr 21 10:41  mp3_auto_renamer_flat_output.py\n-rw-rw-r-- 1 gross gross      31431 Apr 21 12:52  Captions.html\ndrwx------ 2 gross gross       4096 Apr 21 12:52  \u001b[0;36mCaptions_files\u001b[0m\n-rw-rw-r-- 1 gross gross      10075 Apr 21 20:04  profile-6.ovpn\n-rw-rw-r-- 1 gross gross    3421182 Apr 21 22:33  Harvard-Funding-Freeze-Order-Complaint.pdf\n-rw-rw-r-- 1 gross gross      32516 Apr 22 06:17  Things_that_Make_you_a_Better_Musician.jpg\n-rw-rw-r-- 1 gross gross       2653 Apr 22 11:52  backup_to_dvds.sh\n-rw-rw-r-- 1 gross gross       2653 Apr 22 11:57  backup_to_dvds_canvas.sh\n-rw-rw-r-- 1 gross gross       2653 Apr 22 12:10  backup_to_dvds_readloop.sh\n-rw-rw-r-- 1 gross gross       5914 Apr 22 13:02  Medley-QR.png\n-rw-rw-r-- 1 gross gross    3157195 Apr 22 19:37 \"20250422_1932_Liberty's Modern Contrast_simple_compose_01jsg7s4jffq6bx4fsqgy5appj.png\"\n-rw-rw-r-- 1 gross gross      25248 Apr 22 19:53  Glen_w-Trumpet_Dark.jpg\n-rw-rw-r-- 1 gross gross      33944 Apr 23 02:50  frame_0287.jpg\n-rw-rw-r-- 1 gross gross       3925 Apr 23 03:45  ocr_preview_web_fixed.py\n-rw-rw-r-- 1 gross gross       4037 Apr 23 03:52  ocr_preview_web_range_enabled.py\n-rw-rw-r-- 1 gross gross       3547 Apr 23 04:13  ocr_preview_web_final.py\n-rw-rw-r-- 1 gross gross       4130 Apr 23 06:19  ocr_preview_web_js_seek.py\n-rw-rw-r-- 1 gross gross       2172 Apr 23 06:27  results.html\n-rw-rw-r-- 1 gross gross       2716 Apr 23 07:29  perform_ocr_google_to_main_db.py\ndrwxrwxr-x 2 gross gross       4096 Apr 24 07:15 \u001b[0;36m'iCloud Photos'\u001b[0m\n-rw-rw-r-- 1 gross gross    2160938 Apr 25 04:17 'ChatGPT Image Apr 25, 2025, 04_17_33 AM.png'\n-rw-rw-r-- 1 gross gross    2160938 Apr 25 04:17 'ChatGPT Image Apr 25, 2025, 04_17_42 AM.png'\n-rw-rw-r-- 1 gross gross    2043170 Apr 25 06:46  Fix_Stereo_Video_AR.png\n-rw-rw-r-- 1 gross gross    1878751 Apr 25 06:56  OpenAI-Crystal_Ball.png\n-rw-rw-r-- 1 gross gross    1878751 Apr 25 06:56 'ChatGPT Image Apr 25, 2025, 06_56_36 AM.png'\n-rw-rw-r-- 1 gross gross    2489875 Apr 25 07:03 'ChatGPT Image Apr 25, 2025, 07_03_02 AM.png'\n-rw-rw-r-- 1 gross gross    2489875 Apr 25 07:03  Burning_City_Crystal_Ball.png\n-rw-rw-r-- 1 gross gross       4785 Apr 25 12:10  profile-6-beautified.ovpn\n-rw-rw-r-- 1 gross gross       1112 Apr 26 02:09  profile-6-tcp-template.ovpn\n-rw-rw-r-- 1 gross gross       9635 Apr 26 04:32  profile-6-stunnel.ovpn\n-rw-rw-r-- 1 gross gross  176225153 Apr 26 23:42  Sullivans_Set3_042625.mp4\n-rw-rw-r-- 1 gross gross  247022345 Apr 26 23:53  Sullivans_Set1_042625.mp4\n-rw-rw-r-- 1 gross gross  134137999 Apr 26 23:57  Sullivans_Set2_042625.mp4\n-rw-rw-r-- 1 gross gross         42 Apr 27 06:09  listen.m3u\n-rw-rw-r-- 1 gross gross       3806 Apr 28 05:19  burn_dir_to_dvds_progress_fix2.sh\n-rw-rw-r-- 1 gross gross       3437 Apr 28 05:29  burndir_wait.sh\n-rw-rw-r-- 1 gross gross    4090232 Apr 28 07:15 'ChatGPT Image Apr 28, 2025, 07_15_02 AM.png'\n-rw-rw-r-- 1 gross gross        489 Apr 28 07:25 'ChatGPT Image Apr 28, 2025, 07_25_27 AM.png'\n-rw-rw-r-- 1 gross gross    4179191 Apr 28 07:28  Crypto_challenge.png\n-rw-rw-r-- 1 gross gross        489 Apr 28 09:33 'ChatGPT Image Apr 28, 2025, 09_33_58 AM.png'\n-rw-rw-r-- 1 gross gross    4156013 Apr 28 09:38  crypto_challenge_etching.zip\n-rw-rw-r-- 1 gross gross    4156013 Apr 28 09:39 'crypto_challenge_etching (1).zip'\n-rw-rw-r-- 1 gross gross    4608757 Apr 28 09:42  crypto_challenge_etching_v2.zip\n-rw-rw-r-- 1 gross gross    4631476 Apr 28 09:45  Crypto_Challenge.png\n-rw-rw-r-- 1 gross gross      71973 Apr 28 16:16  Sharla.jpg\n-rw-r--r-- 1 gross gross    4179191 Apr 28 16:37  crypto_challenge_etching.png\n-rw-r--r-- 1 gross gross    4179191 Apr 28 16:37 'crypto_challenge_etching (2).png'\n-rw-r--r-- 1 gross gross    4631476 Apr 28 16:42  crypto_challenge_etching_v2.png\n-rw-rw-r-- 1 gross gross      29413 Apr 29 03:47  meta_llama4_report.pdf\n-rw-rw-r-- 1 gross gross       5149 Apr 29 03:50  meta_llama4_report.rtf\n-rw-rw-r-- 1 gross gross       5903 Apr 29 03:52  meta_llama4_report.html\n-rw-rw-r-- 1 gross gross    3213429 Apr 29 04:21 'ChatGPT Image Apr 29, 2025, 04_21_46 AM.png'\n-rw-rw-r-- 1 gross gross    3213429 Apr 29 04:22  Cosell_and_the_AI_Race.png\n-rw-rw-r-- 1 gross gross      88757 Apr 30 05:20  benefit-verification-letter.pdf\n-rw-rw-r-- 1 gross gross      88731 Apr 30 05:20 'benefit-verification-letter (1).pdf'\n-rw-rw-r-- 1 gross gross      39300 Apr 30 05:49 '2024Initial 1099.pdf'\n-rw-rw-r-- 1 gross gross      54314 Apr 30 20:10  Maria_1.jpg\n-rw-rw-r-- 1 gross gross      37406 Apr 30 20:10  Maria_2.jpg\n-rw-rw-r-- 1 gross gross     733838 Apr 30 20:10  Maria_3.jpg\n-rw-rw-r-- 1 gross gross  286096308 May  1 00:46  Meta_Developers_043125.mp4\n-rw-rw-r-- 1 gross gross    1579176 May  1 03:00  Glens_Project_Schedule.png\n-rw-rw-r-- 1 gross gross    3110389 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_01 AM.png'\n-rw-rw-r-- 1 gross gross    1640180 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_09 AM.png'\n-rw-rw-r-- 1 gross gross    4354181 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_14 AM.png'\n-rw-rw-r-- 1 gross gross        489 May  2 03:25 'ChatGPT Image May 2, 2025, 03_25_20 AM.png'\n-rw-rw-r-- 1 gross gross    1903945 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_11 AM.png'\n-rw-rw-r-- 1 gross gross    1973790 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_16 AM.png'\n-rw-rw-r-- 1 gross gross    2019284 May  2 03:44 'ChatGPT Image May 2, 2025, 03_44_20 AM.png'\n-rw-rw-r-- 1 gross gross    2832192 May  2 03:45 'ChatGPT Image May 2, 2025, 03_45_12 AM.png'\n-rw-rw-r-- 1 gross gross    2499315 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_39 AM.png'\n-rw-rw-r-- 1 gross gross    2832192 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_45 AM.png'\n-rw-rw-r-- 1 gross gross    1903945 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_50 AM.png'\n-rw-rw-r-- 1 gross gross    1973790 May  2 03:46 'ChatGPT Image May 2, 2025, 03_46_55 AM.png'\n-rw-rw-r-- 1 gross gross    2387340 May  2 03:47 'ChatGPT Image May 2, 2025, 03_47_40 AM.png'\n-rw-rw-r-- 1 gross gross   18332666 May  2 04:13  liberation_equation_article.pdf\n-rw-rw-r-- 1 gross gross   18332355 May  2 04:15  liberation_equation_magazine.pdf\n-rw-rw-r-- 1 gross gross      11536 May  2 04:30  liberation_equation_article_expanded.pdf\n-rw-rw-r-- 1 gross gross    2707088 May  2 04:40 'ChatGPT Image May 2, 2025, 04_40_13 AM.png'\n-rw-rw-r-- 1 gross gross    2802872 May  2 04:43  liberation_equation_html.zip\n-rw-rw-r-- 1 gross gross      56932 May  2 05:04  liberation_equation_lowres.pdf\n-rw-rw-r-- 1 gross gross   54853581 May  4 13:24  Tanya_w-Gehrig_and_Malik.mp4\n-rw-rw-r-- 1 gross gross       1114 May  4 20:19  itinerary_flights.ics\n-rw-rw-r-- 1 gross gross       1114 May  4 20:22 'itinerary_flights (1).ics'\ndrwx------ 2 gross gross       4096 May  5 04:02  \u001b[0;36mthunderbird.tmp\u001b[0m\n-rw-rw-r-- 1 gross gross     168540 May  5 15:04 'Vehicle Registration.pdf'\n-rw-rw-r-- 1 gross gross      98871 May  5 15:04 'MVD Payment Receipt 70801720.pdf'\n-rw-rw-r-- 1 gross gross      98871 May  5 15:10 'MVD Payment Receipt 70801720 (1).pdf'\n-rw-rw-r-- 1 gross gross  799920128 May  5 19:57  Worlds-Desktop-Editor-v212.0.0.9.643.msi\n-rw-rw-r-- 1 gross gross   14955128 May  5 20:12  Music-Therapy_1of6.m4a\n-rw-rw-r-- 1 gross gross   15032860 May  5 20:13  Music-Therapy_3of6.m4a\n-rw-rw-r-- 1 gross gross   15079558 May  5 20:13  Music-Therapy_4of6.m4a\n-rw-rw-r-- 1 gross gross   15075020 May  5 20:13  Music-Therapy_5of6.m4a\n-rw-rw-r-- 1 gross gross   14999098 May  5 20:28  Music-Therapy_6of6.m4a\n-rw-rw-r-- 1 gross gross   95222702 May  5 21:21  Back_in_Tucson_Blues_1080p.mp4\n-rw-rw-r-- 1 gross gross    1535071 May  6 04:19 'Till Tomorrow (AMB Funeral).pdf'\n-rw-rw-r-- 1 gross gross     114466 May  6 04:19  maxresdefault.jpg\n-rw-rw-r-- 1 gross gross    1535071 May  6 04:24 'Till Tomorrow (AMB Funeral) (1).pdf'\n-rw-rw-r-- 1 gross gross      47428 May  6 04:35  TIL_TOMORROW_from_The_Musical_FIORELLO.pdf\n-rw-rw-r-- 1 gross gross      66349 May  6 12:58  til-tomorrow-p444272-glendon144@gmail.com-6240154517641.pdf\n-rw-rw-r-- 1 gross gross      66349 May  7 04:19  till-tomorrow.pdf\n-rw-rw-r-- 1 gross gross  116491424 May 10 05:19  google-chrome-stable_current_amd64.deb\n-rw-rw-r-- 1 gross gross     273161 May 10 13:42  AI_Bike_Cyria.jpg\n-rw-rw-r-- 1 gross gross     563843 May 10 13:46  691e19e9-7706-4807-b99d-3a4c8b6267ec.jpg\n-rw-rw-r-- 1 gross gross    2666850 May 10 17:40 'ChatGPT Image May 10, 2025, 05_40_46 PM.png'\n-rw-rw-r-- 1 gross gross    2666850 May 10 17:40  GGF_Mothers_Day.png\n-rw-rw-r-- 1 gross gross      54257 May 10 19:11  Simone_Biles_and_Tiger.jpg\n-rw-rw-r-- 1 gross gross       2987 May 13 10:47  tsrc_edited_plan.rtf\n-rw-rw-r-- 1 gross gross       1498 May 13 10:47  tsrc_exec_summary.rtf\n-rw-rw-r-- 1 gross gross       2741 May 13 10:50  tsrc_edited_plan.pdf\n-rw-rw-r-- 1 gross gross       1970 May 13 10:51  tsrc_exec_summary.pdf\n-rw-rw-r-- 1 gross gross       2702 May 13 10:55  tsrc_edited_plan_clean.pdf\n-rw-rw-r-- 1 gross gross       1948 May 13 10:55  tsrc_exec_summary_clean.pdf\n-rw-rw-r-- 1 gross gross       4359 May 13 11:03  tsrc_edited_plan_fullsentences.pdf\n-rw-rw-r-- 1 gross gross    1911781 May 13 14:50 'ChatGPT Image May 13, 2025, 02_50_06 PM.png'\n-rw-rw-r-- 1 gross gross    2184216 May 13 14:51  tsrc_comprehensive_report.pdf\n-rw-rw-r-- 1 gross gross       2347 May 14 02:38  Pocket_Book_of_Letting_Go_Clean.pdf\n-rw-rw-r-- 1 gross gross    2801632 May 14 02:47 'ChatGPT Image May 14, 2025, 02_47_53 AM.png'\n-rw-rw-r-- 1 gross gross    2730095 May 14 02:50  Pocket_Book_of_Letting_Go.pdf\n-rw-rw-r-- 1 gross gross       2340 May 14 02:56  Pocket_Book_of_Letting_Go_Text_Only.pdf\n-rw-rw-r-- 1 gross gross    3099960 May 14 03:13 'ChatGPT Image May 14, 2025, 03_13_58 AM.png'\n-rw-rw-r-- 1 gross gross    3099960 May 14 03:14  Glen_at_the_River.png\n-rw-rw-r-- 1 gross gross    1829087 May 14 03:29 'ChatGPT Image May 14, 2025, 03_29_18 AM.png'\n-rw-rw-r-- 1 gross gross     430315 May 14 03:30  trumpeter_variant_1.png\n-rw-rw-r-- 1 gross gross     437870 May 14 03:30  trumpeter_variant_2.png\n-rw-rw-r-- 1 gross gross     442031 May 14 03:30  trumpeter_variant_3.png\n-rw-rw-r-- 1 gross gross     437981 May 14 03:30  trumpeter_variant_4.png\n-rw-rw-r-- 1 gross gross     622686 May 14 03:33  trumpeter_corrected_4.png\n-rw-rw-r-- 1 gross gross     783996 May 14 03:33  trumpeter_corrected_3.png\n-rw-rw-r-- 1 gross gross     768151 May 14 03:33  trumpeter_corrected_2.png\n-rw-rw-r-- 1 gross gross     600714 May 14 03:33  trumpeter_corrected_1.png\n-rw-rw-r-- 1 gross gross    2776215 May 14 03:40 'ChatGPT Image May 14, 2025, 03_40_09 AM.png'\n-rw-rw-r-- 1 gross gross    2770053 May 14 03:44 'ChatGPT Image May 14, 2025, 03_44_21 AM.png'\n-rw-rw-r-- 1 gross gross    2656797 May 14 03:48 'ChatGPT Image May 14, 2025, 03_48_47 AM.png'\n-rw-rw-r-- 1 gross gross        489 May 14 10:36 'ChatGPT Image May 14, 2025, 10_36_51 AM.png'\n-rw-rw-r-- 1 gross gross    2100396 Jun  9 10:06  img-dt8tNJ36qjhRcUInHGZMl53q.png\n-rw-rw-r-- 1 gross gross    2107979 Jun 11 22:22  Loves_Snare.png\n-rw-rw-r-- 1 gross gross    1711762 Jun 12 08:06  AI-Romance.png\n-rw-rw-r-- 1 gross gross    2790443 Jun 13 06:50  Lonely_without_Cyria.png\n-rw-rw-r-- 1 gross gross     427920 Jun 13 06:53  Lonely_without_Cyria.jpg\n-rw-rw-r-- 1 gross gross     237459 Aug  1 03:54  Beautifu_Argentine.jpg\n-rw-rw-r-- 1 gross gross        843 Aug  4 05:35  AppointmentReminder.ics\n-rw-rw-r-- 1 gross gross       1569 Aug  6 07:01  hyperscope_python_port.py\n-rw-rw-r-- 1 gross gross 2514124800 Aug  6 10:10  ubuntu-18.04.6-desktop-amd64.iso\n-rw-rw-r-- 1 gross gross     282808 Aug  6 10:21  IMG_0024.JPG\n-rw-rw-r-- 1 gross gross       1569 Aug  6 16:11 'hyperscope_python_port(1).py'\n-rw-rw-r-- 1 gross gross       1569 Aug  7 12:36 'hyperscope_python_port(2).py'\n-rw-rw-r-- 1 gross gross      20370 Aug  7 14:40  gui_tkinter.py\n-rw-rw-r-- 1 gross gross       1569 Aug  7 20:27  hyperscope.py\n-rw-rw-r-- 1 gross gross       6242 Aug  7 20:32  hyper_scope_tkinter_pane_outline_viewer.py\n-rw-rw-r-- 1 gross gross       6242 Aug  7 20:32 'hyper_scope_tkinter_pane_outline_viewer(1).py'\n-rw-rw-r-- 1 gross gross      19874 Aug  7 20:46  tree_view.py\n-rw-rw-r-- 1 gross gross      24415 Aug  7 21:01  gui_tkinter.patched.py\n-rw-rw-r-- 1 gross gross      30137 Aug  7 21:09  gui_tkinter.opml_autorender.py\n-rw-rw-r-- 1 gross gross      16470 Aug  7 21:24  gui_tkinter.opml_autorender_fix.py\n-rw-rw-r-- 1 gross gross      29145 Aug  7 21:29  gui_tkinter.fixed.py\n-rw-rw-r-- 1 gross gross      30569 Aug  7 21:30  gui_tkinter.fixed2.py\n-rw-rw-r-- 1 gross gross       4962 Aug  8 02:26  Beyond_Tools_Human_AI_Symbiosis_FULL.html\n-rw-rw-r-- 1 gross gross       5495 Aug  8 02:26  Beyond_Tools_Human_AI_Symbiosis_FULL.pdf\n-rw-rw-r-- 1 gross gross      10793 Aug  8 02:27  Beyond_Tools_Human_AI_Symbiosis_FULL.zip\ndrwxrwxr-x 2 gross gross       4096 Aug  8 02:27  \u001b[0;36mBeyond_Tools_Human_AI_Symbiosis_FULL\u001b[0m\n-rw-rw-r-- 1 gross gross      10793 Aug  8 02:27 'Beyond_Tools_Human_AI_Symbiosis_FULL(1).zip'\n-rw-rw-r-- 1 gross gross     109135 Aug  8 02:50 'Bootstrapping Brilliance Toolkit - Putting Vision to Practice - Doug Engelbart Institute.html'\ndrwxr-xr-x 3 gross gross       4096 Aug  8 02:50 \u001b[0;36m'Bootstrapping Brilliance Toolkit - Putting Vision to Practice - Doug Engelbart Institute_files'\u001b[0m\n-rw-rw-r-- 1 gross gross     103866 Aug  8 02:55  Glen_Headshot.jpg\n-rw-rw-r-- 1 gross gross       5674 Aug  8 03:12  human_ai_symbiosis.pdf\n-rw-rw-r-- 1 gross gross     141553 Aug  8 03:17  Engelbart_Firsts.jpg\n-rw-rw-r-- 1 gross gross      11130 Aug  8 03:19  human_ai_symbiosis_package.zip\n-rw-rw-r-- 1 gross gross       5192 Aug  8 03:19  human_ai_symbiosis.html\n-rw-rw-r-- 1 gross gross        472 Aug  8 04:43  Hypertext_Standards\n-rw-rw-r-- 1 gross gross     270329 Aug  8 04:59 'Douglas Engelbart and the Mother of all Demos _ Hidden Heroes.pdf'\n-rw-rw-r-- 1 gross gross       9301 Aug  9 08:33  renderer.py\n-rw-rw-r-- 1 gross gross        148 Aug  9 08:33  demo.html\n-rw-rw-r-- 1 gross gross        843 Aug  9 08:33  demo_from_html.opml\n-rw-rw-r-- 1 gross gross        409 Aug  9 08:33  demo_preview.txt\n-rw-rw-r-- 1 gross gross        843 Aug  9 08:34 'demo_from_html (1).opml'\n-rw-rw-r-- 1 gross gross    5900416 Aug  9 09:58  firefox20.exe\n-rw-rw-r-- 1 gross gross      15215 Aug  9 10:24  renderer-update.py\n-rw-rw-r-- 1 gross gross       7687 Aug  9 11:08  hypertext_parser.py\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12  hypertext_parser-latest.py\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12 'hypertext_parser(1).py'\n-rw-rw-r-- 1 gross gross       9725 Aug  9 11:12 'hypertext_parser(2).py'\n-rw-rw-r-- 1 gross gross      32254 Aug  9 12:31  gui_tkinter_patched.py\n-rw-rw-r-- 1 gross gross      32094 Aug  9 12:42  gui_tkinter_flask_fixed.py\n-rw-rw-r-- 1 gross gross      32363 Aug  9 13:18  gui_tkinter_cleaned.py\n-rw-rw-r-- 1 gross gross      40414 Aug  9 14:37  gui_tkinter_newest.py\n-rw-rw-r-- 1 gross gross      33834 Aug  9 14:54  gui_tkinter_patched2.py\n-rw-rw-r-- 1 gross gross      34256 Aug  9 15:41  gui_tkinter_clean.py\n-rw-rw-r-- 1 gross gross       8846 Aug  9 15:41  funkit_gui_tk_clean.zip\n-rw-rw-r-- 1 gross gross        157 Aug  9 19:25  demokit_gui.zip\n-rw-rw-r-- 1 gross gross       8892 Aug  9 22:11  gui_tkinter_patched.zip\n-rw-rw-r-- 1 gross gross      34500 Aug  9 22:11 'gui_tkinter_patched (1).py'\n-rw-rw-r-- 1 gross gross       8998 Aug  9 22:18  gui_tkinter_cleaned.zip\n-rw-rw-r-- 1 gross gross      34972 Aug  9 22:18 'gui_tkinter_cleaned (1).py'\n-rw-rw-r-- 1 gross gross      34451 Aug  9 23:19  gui_tkinter_renderfix.py\n-rw-rw-r-- 1 gross gross       8946 Aug  9 23:19  gui_tkinter_renderfix.zip\n-rw-rw-r-- 1 gross gross    1879760 Aug 10 14:26 'Raspberry Pi and Display Technical Blueprint.png'\n-rw-rw-r-- 1 gross gross    1879760 Aug 10 14:29 'Raspberry Pi and Display Technical Blueprint(1).png'\n-rw-rw-r-- 1 gross gross      35918 Aug 10 14:30  rpi-with-display.webp\n-rw-rw-r-- 1 gross gross    1040094 Aug 10 14:36 'Raspberry Pi with Retro Smiling Display.png'\n-rw-rw-r-- 1 gross gross    2817994 Aug 10 14:46  raspberry-pi-poker-hand.png\n-rw-rw-r-- 1 gross gross        489 Aug 10 15:15 'ChatGPT Image Aug 10, 2025, 03_15_02 PM.png'\n-rw-rw-r-- 1 gross gross        489 Aug 10 15:15 'Smiles and Pixels at the Caf\u00e9.png'\n-rw-rw-r-- 1 gross gross      65532 Aug 10 16:07  Father_Wound.jpg\n-rw-rw-r-- 1 gross gross       3084 Aug 10 17:07  father_wound_blues_lead_sheet.pdf\n-rw-rw-r-- 1 gross gross       2338 Aug 10 18:31  father_wound_blues_melody_lead_sheet_v2.pdf\n-rw-rw-r-- 1 gross gross    2612338 Aug 11 07:30  Asian_Pikit_User.png\n-rw-rw-r-- 1 gross gross      18251 Aug 13 13:01  aopmlengine.py\n-rw-rw-r-- 1 gross gross      16566 Aug 13 13:12  gui_tkinter_aopml.py\n-rw-rw-r-- 1 gross gross      17400 Aug 13 13:30  gui_tkinter_Aupdate.py\n-rw-rw-r-- 1 gross gross      26536 Aug 13 13:42  gui_tinter_merged.py\n-rw-rw-r-- 1 gross gross      28025 Aug 13 14:37 'gui_tkinter (1).py'\n-rw-rw-r-- 1 gross gross       7100 Aug 13 14:37  gui_tkinter.zip\n-rw-rw-r-- 1 gross gross       7100 Aug 13 14:39  gui_tkinter-new.zip\n-rw-rw-r-- 1 gross gross      28025 Aug 13 14:41  gui_tkinter_golden.py\n-rw-rw-r-- 1 gross gross       7227 Aug 13 14:44  gui_tkinter_081325.zip\n-rw-rw-r-- 1 gross gross      30569 Aug 13 14:55  gui_tkinter_rollback.py\n-rw-rw-r-- 1 gross gross      33214 Aug 13 14:55  gui_tkinter_phase1.py\n-rw-rw-r-- 1 gross gross      16142 Aug 13 14:55  gui_tkinter_rollback_and_phase1.zip\n-rw-rw-r-- 1 gross gross       9049 Aug 13 15:11  gui_tkinter_phase2_1_batch_fallback.zip\n-rw-rw-r-- 1 gross gross      36677 Aug 13 15:11  gui_tkinter_phase2_1_batch_fallback.py\n-rw-rw-r-- 1 gross gross      38217 Aug 13 15:18  gui_tkinter_phase2_3_prefs.py\n-rw-rw-r-- 1 gross gross      38255 Aug 13 15:25  gui_tkinter_phase2_3_1_prefs_newline_fix.py\n-rw-rw-r-- 1 gross gross       9324 Aug 13 15:25  gui_tkinter_phase2_3_1_prefs_newline_fix.zip\n-rw-rw-r-- 1 gross gross      41430 Aug 13 15:35  gui_tkinter_phase2_3_2_batch_validate_repair.py\n-rw-rw-r-- 1 gross gross       9887 Aug 13 15:35  gui_tkinter_phase2_3_2_batch_validate_repair.zip\n-rw-rw-r-- 1 gross gross      45182 Aug 13 15:44  gui_tkinter_phase2_4_url_ingest.py\n-rw-rw-r-- 1 gross gross      10780 Aug 13 15:44  gui_tkinter_phase2_4_url_ingest.zip\n-rw-rw-r-- 1 gross gross      52372 Aug 13 15:55  gui_tkinter_phase2_5_url_resilient.py\n-rw-rw-r-- 1 gross gross      59723 Aug 13 16:02  gui_tkinter_phase2_5_1_url_async_dbmain.py\n-rw-rw-r-- 1 gross gross      12641 Aug 13 16:02  gui_tkinter_phase2_5_1_url_async_dbmain.zip\n-rw-rw-r-- 1 gross gross      59771 Aug 13 16:11  gui_tkinter_phase2_5_2_url_async_dbmain_timefix.py\n-rw-rw-r-- 1 gross gross      12651 Aug 13 16:11  gui_tkinter_phase2_5_2_url_async_dbmain_timefix.zip\n-rw-rw-r-- 1 gross gross      60560 Aug 13 16:15  gui_tkinter_phase2_5_3_title_fix.py\n-rw-rw-r-- 1 gross gross      12918 Aug 13 16:16  gui_tkinter_phase2_5_3_title_fix.zip\n-rw-rw-r-- 1 gross gross      68769 Aug 13 16:18  gui_tkinter_phase2_5_4_url_modes_cancel.py\n-rw-rw-r-- 1 gross gross      13579 Aug 13 16:18  gui_tkinter_phase2_5_4_url_modes_cancel.zip\n-rw-rw-r-- 1 gross gross      68420 Aug 13 16:22  gui_tkinter_phase2_5_4_url_modes_cancel_fixed.py\n-rw-rw-r-- 1 gross gross      13463 Aug 13 16:22  gui_tkinter_phase2_5_4_url_modes_cancel_fixed.zip\n-rw-rw-r-- 1 gross gross       1826 Aug 13 19:26  funkit_lean.spec\n-rw-rw-r-- 1 gross gross       4320 Aug 13 19:38  build_all_variants.sh\n-rw-rw-r-- 1 gross gross       7784 Aug 13 20:02  save_as_text_plugin.py\n-rw-rw-r-- 1 gross gross       9925 Aug 13 20:20  save_as_text_plugin_v2.py\n-rw-rw-r-- 1 gross gross      13960 Aug 13 20:36  opml_extras_plugin.py\n-rw-rw-r-- 1 gross gross      16854 Aug 13 20:55  opml_extras_plugin_v2.py\n-rw-rw-r-- 1 gross gross       7582 Aug 13 21:15  save_as_text_plugin_v3.py\n-rw-rw-r-- 1 gross gross       8476 Aug 13 21:22  save_as_text_plugin_v3.1.py\n-rw-rw-r-- 1 gross gross        598 Aug 13 21:23  AI_Romance.txt\n-rw-rw-r-- 1 gross gross       7824 Aug 13 21:42  command_processor_fixed.py\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ cp ../dow\b\u001b[K\b\u001b[K\b\u001b[KDownloads/command_processor_fixed.py modules/command.\b\u001b[K)\b\u001b[K)\b\u001b[K_process.\b\u001b[Kor.py\n\u001b[?2004l\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ cp ../Downloads/command_processor_fixed.py modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[Cls -ltr ../Downloads/\u001b[K\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[6Ppython3 main.py\n\u001b[?2004l\n[INFO 2025-08-13 21:43:08.194606] OpenAI API key set.\n[INFO 2025-08-13 21:43:29.615170] Imported 254\n[WARN] OPML parse failed: not well-formed (invalid token): line 10, column 10\n[WARN] OPML parse failed: not well-formed (invalid token): line 10, column 10\n[WARN] OPML parse failed: not well-formed (invalid token): line 10, column 10\n[WARN] OPML parse failed: not well-formed (invalid token): line 10, column 10\n[INFO 2025-08-13 21:46:37.193926] Imported 263\nException in Tkinter callback\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/tkinter/__init__.py\", line 1967, in __call__\n    return self.func(*args)\n           ^^^^^^^^^^^^^^^^\n  File \"/home/gross/FunKit/modules/gui_tkinter.py\", line 594, in _export_doc\n    Path(path).write_text(doc[\"body\"], encoding=\"utf-8\")\n  File \"/usr/lib/python3.12/pathlib.py\", line 1046, in write_text\n    raise TypeError('data must be str, not %s' %\nTypeError: data must be str, not bytes\n[INFO 2025-08-13 21:47:45.247920] Imported 264\nException in Tkinter callback\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/tkinter/__init__.py\", line 1967, in __call__\n    return self.func(*args)\n           ^^^^^^^^^^^^^^^^\n  File \"/home/gross/FunKit/modules/gui_tkinter.py\", line 594, in _export_doc\n    Path(path).write_text(doc[\"body\"], encoding=\"utf-8\")\n  File \"/usr/lib/python3.12/pathlib.py\", line 1046, in write_text\n    raise TypeError('data must be str, not %s' %\nTypeError: data must be str, not bytes\nException in Tkinter callback\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/tkinter/__init__.py\", line 1967, in __call__\n    return self.func(*args)\n           ^^^^^^^^^^^^^^^^\n  File \"/home/gross/FunKit/modules/gui_tkinter.py\", line 594, in _export_doc\n    Path(path).write_text(doc[\"body\"], encoding=\"utf-8\")\n  File \"/usr/lib/python3.12/pathlib.py\", line 1046, in write_text\n    raise TypeError('data must be str, not %s' %\nTypeError: data must be str, not bytes\n^CTraceback (most recent call last):\n  File \"/home/gross/FunKit/main.py\", line 34, in <module>\n    main()\n  File \"/home/gross/FunKit/main.py\", line 31, in main\n    app.mainloop()\n  File \"/usr/lib/python3.12/tkinter/__init__.py\", line 1504, in mainloop\n    self.tk.mainloop(n)\nKeyboardInterrupt\n\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bcp ../Downloads/command_processor_fixed.py modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[Cls -ltr ../Downloads/\u001b[K\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[6Ppython3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bvi +36 modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[20Ppython3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bvi +36 modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[20Ppython3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bvi +36 modules/command_processor.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[20Ppython3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bvi +36 modules/command_processor.py\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K,pdi;\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[Kmodul\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[Kmo\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[Kgrep ex\b\u001b[K\b\u001b[K_export_doc modules/gui_tkinter.py\n\u001b[?2004l\n        filemenu.add_command(label=\"Export Current\", command=self.\u001b[01;31m\u001b[K_export_doc\u001b[m\u001b[K)\n        self.context_menu.add_command(label=\"Export\", command=self.\u001b[01;31m\u001b[K_export_doc\u001b[m\u001b[K)\n    def \u001b[01;31m\u001b[K_export_doc\u001b[m\u001b[K(self):\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi guji\b\u001b[K\b\u001b[Ki_\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[Kmodules/gui_tkinter.py\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/gui_tkinter.py\" 764L, 30639B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;9H\u001b[38;5;130mtry\u001b[m:\n            start = self.text.index(tk.SEL_FIRST)\u001b[2;50H\u001b[K\u001b[3;1H            end = self.text.index(tk.SEL_LAST)\u001b[3;47H\u001b[K\u001b[4;13Hprompt = self.text.get(start, end).strip()\u001b[5;9H\u001b[38;5;130mexcept\u001b[m tk.TclError:\u001b[6;13Hmessagebox.showwarning(\u001b[31m\"IMAGE\"\u001b[m, \u001b[31m\"Please select some text first.\"\u001b[m)\u001b[7;13H\u001b[38;5;130mreturn\u001b[9;9Hdef\u001b[m \u001b[36mwrk\u001b[m():\u001b[10;13H\u001b[38;5;130mtry\u001b[m:\u001b[11;17Hpil = image_generator.generate_image(prompt)\u001b[12;17Hself._last_pil_img = pil\u001b[13;17Hthumb = pil.copy()\u001b[14;17Hthumb.thumbnail((\u001b[31m800\u001b[m, \u001b[31m400\u001b[m))\u001b[15;17Hself._last_tk_img = ImageTk.PhotoImage(thumb)\u001b[16;17Hself._image_enlarged = \u001b[36mFalse\u001b[m\u001b[17;17Hself.after(\u001b[31m0\u001b[m, \u001b[38;5;130mlambda\u001b[m: self.img_label.configure(image=self._last_tk_img))\u001b[18;13H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m \u001b[38;5;130mas\u001b[m e:\u001b[19;17Herr = \u001b[36mstr\u001b[m(e)  \u001b[34m# capture inside the except scope\u001b[m\u001b[20;17Hself.after(\u001b[31m0\u001b[m, \u001b[38;5;130mlambda\u001b[m err=err: messagebox.showerror(\u001b[31m\"Image Error\"\u001b[m, err))\u001b[23;9Hthreading.Thread(target=wrk, daemon=\u001b[36mTrue\u001b[m).start()\u001b[25;5H\u001b[34m# ---------------- Import/Export ----------------\u001b[m\u001b[27;5H\u001b[38;5;130mdef\u001b[m \u001b[36m_import_doc\u001b[m(self):\u001b[28;9Hpath = filedialog.askopenfilename(title=\u001b[31m\"Import\"\u001b[m, filetypes=[(\u001b[31m\"Text\"\u001b[m, \u001b[31m\"*.txt\"\u001b[m), (\u001b[31m\"All\"\u001b[m, \u001b[31m\"*.*\"\u001b[m)])\u001b[29;9H\u001b[38;5;130mif\u001b[m \u001b[38;5;130mnot\u001b[m path:\u001b[30;13H\u001b[38;5;130mreturn\u001b[m\u001b[31;9Hbody = Path(path).read_text(encoding=\u001b[31m\"utf-8\"\u001b[m)\u001b[32;9Htitle = Path(path).stem\u001b[33;9Hnid = self.doc_store.add_document(title, body)\u001b[34;9Hself.logger.info(f\u001b[31m\"Imported {nid}\"\u001b[m)\u001b[35;9Hself._refresh_sidebar()\u001b[36;9Hdoc = self.doc_store.get_document(nid)\u001b[37;9H\u001b[38;5;130mif\u001b[m doc:\u001b[38;13Hself._render_document(doc)\u001b[40;115H560,13\u001b[8C74%\u001b[20;13H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H0\u001b[20;13H\u001b[40;106H3\u001b[20;13H\u001b[40;107H0\u001b[20;13H\u001b[40;108H/\u001b[20;13H\u001b[40;109H0\u001b[20;13H\u001b[40;110Ha\u001b[20;13H\u001b[40;111H0\u001b[20;13H\u001b[40;112Ha\u001b[20;13H\u001b[40;113H/\u001b[20;13H\u001b[40;114H2\u001b[20;13H\u001b[40;105H          \u001b[20;13H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;9H\u001b[93mtry\u001b[m:\u001b[2;13Hstart = self.text.index(tk.SEL_FIRST)\u001b[3;13Hend = self.text.index(tk.SEL_LAST)\u001b[4;13Hprompt = self.text.get(start, end).strip()\u001b[5;9H\u001b[93mexcept\u001b[m tk.TclError:\u001b[6;13Hmessagebox.showwarning(\u001b[95m\"IMAGE\"\u001b[m, \u001b[95m\"Please select some text first.\"\u001b[m)\u001b[7;13H\u001b[93mreturn\u001b[9;9Hdef\u001b[m \u001b[1m\u001b[96mwrk\u001b[m():\u001b[10;13H\u001b[93mtry\u001b[m:\u001b[11;17Hpil = image_generator.generate_image(prompt)\u001b[12;17Hself._last_pil_img = pil\u001b[13;17Hthumb = pil.copy()\u001b[14;17Hthumb.thumbnail((\u001b[95m800\u001b[m, \u001b[95m400\u001b[m))\u001b[15;17Hself._last_tk_img = ImageTk.PhotoImage(thumb)\u001b[16;17Hself._image_enlarged = \u001b[1m\u001b[96mFalse\u001b[m\u001b[17;17Hself.after(\u001b[95m0\u001b[m, \u001b[93mlambda\u001b[m: self.img_label.configure(image=self._last_tk_img))\u001b[18;13H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[19;17Herr = \u001b[1m\u001b[96mstr\u001b[m(e)  \u001b[96m# capture inside the except scope\u001b[m\u001b[20;17Hself.after(\u001b[95m0\u001b[m, \u001b[93mlambda\u001b[m err=err: messagebox.showerror(\u001b[95m\"Image Error\"\u001b[m, err))\u001b[23;9Hthreading.Thread(target=wrk, daemon=\u001b[1m\u001b[96mTrue\u001b[m).start()\u001b[25;5H\u001b[96m# ---------------- Import/Export ----------------\u001b[m\u001b[27;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_import_doc\u001b[m(self):\u001b[28;9Hpath = filedialog.askopenfilename(title=\u001b[95m\"Import\"\u001b[m, filetypes=[(\u001b[95m\"Text\"\u001b[m, \u001b[95m\"*.txt\"\u001b[m), (\u001b[95m\"All\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)])\u001b[29;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m path:\u001b[30;13H\u001b[93mreturn\u001b[m\u001b[31;9Hbody = Path(path).read_text(encoding=\u001b[95m\"utf-8\"\u001b[m)\u001b[32;9Htitle = Path(path).stem\u001b[33;9Hnid = self.doc_store.add_document(title, body)\u001b[34;9Hself.logger.info(f\u001b[95m\"Imported {nid}\"\u001b[m)\u001b[35;9Hself._refresh_sidebar()\u001b[36;9Hdoc = self.doc_store.get_document(nid)\u001b[37;9H\u001b[93mif\u001b[m doc:\u001b[38;13Hself._render_document(doc)\u001b[40;115H560,13\u001b[8C74%\n\"modules/gui_tkinter.py\" 764L, 30639B\u001b[20;13H\u001b[?25h\u001b[?25l\u001b[40;105H/\u001b[20;13H\u001b[40;1H\u001b[K\u001b[40;1H/\u001b[?25h_\u001b[?25l\u001b[27;9H\u001b[1m\u001b[7m\u001b[96m_\u001b[m\u001b[1m\u001b[96mimport_doc\u001b[m(\u001b[40;115H567,9\u001b[9C74%\u001b[40;115H\u001b[K\u001b[40;3H\u001b[?25he\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[6M\u001b[1;40r\u001b[21;9H\u001b[1m\u001b[96m_import_doc\u001b[m(\u001b[34;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[7m\u001b[96m_e\u001b[m\u001b[1m\u001b[96mxport_doc\u001b[m(self):\u001b[35;9H\u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[36;13Hmessagebox.showwarning(\u001b[95m\"Export\"\u001b[m, \u001b[95m\"No document loaded.\"\u001b[m)\u001b[37;13H\u001b[93mreturn\u001b[m\u001b[38;9Hdoc = self.doc_store.get_document(self.current_doc_id)\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m doc:\u001b[40;1H\u001b[K\u001b[40;115H580,9\u001b[9C75%\n/_e\u001b[40;115H\u001b[K\u001b[40;4H\u001b[?25hx\u001b[?25l\u001b[34;11H\u001b[1m\u001b[7m\u001b[96mx\u001b[m\u001b[1m\u001b[96mport_doc\u001b[m(\u001b[40;115H580,9\u001b[9C75%\u001b[40;115H\u001b[K\u001b[40;5H\u001b[?25hp\u001b[?25l\u001b[34;12H\u001b[1m\u001b[7m\u001b[96mp\u001b[m\u001b[1m\u001b[96mort_doc\u001b[m(\u001b[40;115H580,9\u001b[9C75%\u001b[40;115H\u001b[K\u001b[40;6H\u001b[?25ho\u001b[?25l\u001b[34;13H\u001b[1m\u001b[7m\u001b[96mo\u001b[m\u001b[1m\u001b[96mrt_doc\u001b[m(\u001b[40;115H580,9\u001b[9C75%\u001b[40;115H\u001b[K\u001b[40;7H\u001b[?25hr\u001b[?25l\u001b[34;14H\u001b[1m\u001b[7m\u001b[96mr\u001b[m\u001b[1m\u001b[96mt_doc\u001b[m(\u001b[40;115H580,9\u001b[9C75%\u001b[40;115H\u001b[K\u001b[40;8H\u001b[?25ht\u001b[?25l\u001b[34;15H\u001b[1m\u001b[7m\u001b[96mt\u001b[m\u001b[1m\u001b[96m_doc\u001b[m(\u001b[40;115H580,9\u001b[9C75%\u001b[40;115H\u001b[K\u001b[40;9H\u001b[?25h_\u001b[?25l\u001b[34;16H\u001b[1m\u001b[7m\u001b[96m_\u001b[m\u001b[1m\u001b[96mdoc\u001b[m(\u001b[40;115H580,9\u001b[9C75%\u001b[40;115H\u001b[K\u001b[40;10H\u001b[?25h\n\u001b[?25l\u001b[34;9H\u001b[1m\u001b[96m_export_doc\u001b[m(\u001b[40;115H580,9\u001b[9C75%\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;9H\u001b[40;105H   \u001b[33;1H\u001b[40;116H79,0-1\u001b[33;1H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[33;1H\u001b[40;105H \u001b[33;1H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H579,1\u001b[9C75%\u001b[33;1H\u001b[?25h\u001b[?25l\u001b[40;119H2\u001b[33;2H\u001b[?25h\u001b[?25l\u001b[40;119H3\u001b[33;3H\u001b[?25h\u001b[?25l\u001b[40;119H4\u001b[33;4H\u001b[?25h\u001b[?25l\u001b[40;119H5\u001b[33;5H\u001b[?25h\u001b[40;1H\u001b[K\u001b[33;4H\u001b[?25l\u001b[40;105H^[\u001b[33;4H\u001b[40;105H  \u001b[33;5H\u001b[40;115H579,4\u001b[9C75%\u001b[33;4H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[33;4H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hset paste\n\u001b[?25l\u001b[33;4H\u001b[?25h\u001b[?25l\u001b[40;122H^[\u001b[33;4H\u001b[40;122H  \u001b[33;4H\u001b[40;122H^[\u001b[33;4H\u0007\u001b[40;122H  \u001b[33;4H\u001b[?25h\u001b[?25l\u001b[40;122Hi\u001b[33;4H\u001b[40;122H \u001b[33;4H\u001b[40;1H\u001b[1m-- INSERT (paste) --\u001b[33;4H\u001b[?25h\u001b[?25l\u001b[m \u001b[?25h\u001b[?25l\u001b[34;39r\u001b[34;1H\u001b[L\u001b[1;40r\u001b[33;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_export_doc\u001b[m(self):\n    \u001b[38;5;81mfrom\u001b[m tkinter \u001b[38;5;81mimport\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[m\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;25Hfiledialog, messagebox\n    \u001b[38;5;81mfrom\u001b[m pathlib \u001b[38;5;81mimport\u001b[m Path\u001b[34;3H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;5H\u001b[38;5;81mimport\u001b[m os, re\u001b[36;5H\u001b[93mif\u001b[m \u001b[1m\u001b[96mgetattr\u001b[m(self, \u001b[95m\"current_doc_id\"\u001b[m, No\u001b[34;42H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;40H\u001b[1m\u001b[96mNone\u001b[m) \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[35;9Hmessagebox.showwarning(\u001b[95m\"Export\"\u001b[m, \u001b[95m\"No do \n    def _export_doc(self):\n        if self.current_doc_id is None:\n            messagebox.showwarning(\u001b[m\u001b[1CExport\u001b[1C\u001b[95m, \u001b[m\u001b[1CNo document loaded.\u001b[1C\u001b[95m)\n            return\u001b[34;48H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[34;48H\u001b[95mcument selected.\"\u001b[m)\n        \u001b[93mreturn\u001b[m\u001b[35;15H\u001b[K\u001b[36;1H\u001b[K\u001b[37;1H    \u001b[96m# Fetch and normalize\u001b[m\u001b[37;26H\u001b[K\u001b[38;1H \u001b[38;2H\u001b[K\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_export_doc\u001b[m(self):\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[4M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;5Hdoc = self.doc_store.get_document(self.current_doc_id)\u001b[37;9H\u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[38;13Hmessagebox.showwarning(\u001b[95m\"Export\"\u001b[m, \u001b[95m\"No document loaded.\"\u001b[m)\u001b[39;13H\u001b[93mreturn\u001b[34;3H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;5H\u001b[93mif\u001b[m \u001b[1m\u001b[96mhasattr\u001b[m(doc, \u001b[95m\"keys\"\u001b[m):\u001b[35;9Htitle = doc[\u001b[95m\"title\"\u001b[m] \u001b[93mif\u001b[m \u001b[95m\"ti \n    def _export_doc(self):\n        if self.current_doc_id is None:\n            messagebox.showwarning(\u001b[m\u001b[1CExport\u001b[1C\u001b[95m, \u001b[m\u001b[1CNo document loaded.\u001b[1C\u001b[95m)\n            return\u001b[34;36H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;36H\u001b[95mtle\"\u001b[m \u001b[93min\u001b[m doc.keys() \u001b[93melse\u001b[m \u001b[95m\"Document\"\u001b[m\u001b[35;9Hbody  = doc[\u001b[95m\"body\"\u001b[m]\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_export_doc\u001b[m(self):\n        \u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\n            messagebox.showwarning(\u001b[1C\u001b[95mExport\u001b[m\u001b[1C, \u001b[1C\u001b[95mNo document loaded.\u001b[m\u001b[1C)\n            \u001b[93mreturn\u001b[34;28H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;29H\u001b[93mif\u001b[m \u001b[95m\"body\"\u001b[m  \u001b[93min\u001b[m doc.keys() \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m\n    \u001b[93melif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(doc, \u001b[1m\u001b[96mdict\u001b[34;30H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;30H):\u001b[35;9Htitle = doc.get(\u001b[95m\"title\"\u001b[m) \u001b[93mor\u001b[m \u001b[95m\"Document\"\u001b[m\u001b[36;9Hbody\u001b[34;14H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;15H= doc.get(\u001b[95m\"body\"\u001b[m) \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m\n    \u001b[93melse\u001b[m:\u001b[36;9Htitle = doc[\u001b[95m1\u001b[m] \u001b[93mif\u001b[m le\u001b[34;29H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;27H\u001b[1m\u001b[96mlen\u001b[m(doc) > \u001b[95m1\u001b[m \u001b[93melse\u001b[m \u001b[95m\"Document\"\u001b[m\u001b[35;9Hbody  = doc[\u001b[95m2\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(doc) >\u001b[39;13H\u001b[93mreturn\u001b[34;37H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;38H\u001b[95m2\u001b[m \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m\u001b[36;5H\u001b[96m# Infer extension/filetypes\u001b[m\n    ext = \u001b[95m\".txt\"\u001b[m; f\u001b[34;20H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;20Hiletypes = [(\u001b[95m\"Text\"\u001b[m, \u001b[95m\"*.txt\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\n    \u001b[93mif\u001b[m isi\u001b[38;13Hmessagebox.showwarning(\u001b[95m\"Export\"\u001b[m, \u001b[95m\"No document loaded.\"\u001b[m)\u001b[39;13H\u001b[93mreturn\u001b[34;11H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;8H\u001b[1m\u001b[96misinstance\u001b[m(body, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)):\u001b[35;9Hb = \u001b[1m\u001b[96mbytes\u001b[m(body)\u001b[34;5H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;9H\u001b[93mif\u001b[m b.startswith(b\u001b[95m\"\u001b[m\u001b[38;5;224m\\x89\u001b[m\u001b[95mPNG\u001b[m\u001b[38;5;224m\\r\\n\\x1a\\n\u001b[m\u001b[95m\"\u001b[m):\u001b[35;13Hext = \u001b[95m\". \n    def _export_doc(self):\n        if self.current_doc_id is None:\n            messagebox.showwarning(\u001b[m\u001b[1CExport\u001b[1C\u001b[95m, \u001b[m\u001b[1CNo document loaded.\u001b[1C\u001b[95m)\n            return\u001b[34;21H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[34;21H\u001b[95mpng\"\u001b[m; filetypes = [(\u001b[95m\"PNG image\"\u001b[m, \u001b[95m\"*.png\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_export_doc\u001b[m(self):\n        \u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\n            messagebox.showwarning(\u001b[1C\u001b[95mExport\u001b[m\u001b[1C, \u001b[1C\u001b[95mNo document loaded.\u001b[m\u001b[1C)\n            \u001b[93mreturn\u001b[m\u001b[39;9Hdoc = self.doc_store.get_document(self.current_doc_id)\u001b[34;84H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;84H]\u001b[35;9H\u001b[93melif\u001b[m b.startswith(b\u001b[95m\"\u001b[m\u001b[38;5;224m\\xff\\xd8\\xff\u001b[m\u001b[95m\"\u001b[m):\u001b[36;13Hext =\u001b[34;18H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;19H\u001b[95m\".jpg\"\u001b[m; filetypes = [(\u001b[95m\"JPEG image\"\u001b[m, \u001b[95m\"*.jpg;*.jpeg\"\u001b[m), (\u001b[95m\"All fil \n    def _export_doc(self):\n        if self.current_doc_id is None:\n            messagebox.showwarning(\u001b[m\u001b[1CExport\u001b[1C\u001b[95m, \u001b[m\u001b[1CNo document loaded.\u001b[1C\u001b[95m)\n            return\n        doc = self.doc_store.get_document(self.current_doc_id)\u001b[34;81H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[m\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;81H\u001b[95mes\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[35;9H\u001b[93melif\u001b[m b[:\u001b[95m6\u001b[m] \u001b[93min\u001b[m (b\u001b[95m\"GIF87a\"\u001b[m, b\u001b[95m\"GIF89a\"\u001b[m):\n\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_export_doc\u001b[m(self):\n        \u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\n            messagebox.showwarning(\u001b[1C\u001b[95mExport\u001b[m\u001b[1C, \u001b[1C\u001b[95mNo document loaded.\u001b[m\u001b[1C)\u001b[34;5H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;13Hext = \u001b[95m\".gif\"\u001b[m; filetypes = [(\u001b[95m\"GIF image\"\u001b[m, \u001b[95m\"*.gif\"\u001b[m), (\u001b[95m\"Al \n    def _export_doc(self):\n        if self.current_doc_id is None:\n            messagebox.showwarning(\u001b[m\u001b[1CExport\u001b[1C\u001b[95m, \u001b[m\u001b[1CNo document loaded.\u001b[1C\u001b[95m)\n            return\n        doc = self.doc_store.get_document(self.current_doc_id)\u001b[34;68H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[m\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;68H\u001b[95ml files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[35;9H\u001b[93melif\u001b[m b.startswith(b\u001b[95m\"%PDF-\"\u001b[m):\n\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_export_doc\u001b[m(self):\n        \u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\n            messagebox.showwarning(\u001b[1C\u001b[95mExport\u001b[m\u001b[1C, \u001b[1C\u001b[95mNo document loaded.\u001b[m\u001b[1C)\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;13Hext = \u001b[95m\".pdf\"\u001b[m; filetypes = [(\u001b[95m\"PDF\"\u001b[m, \u001b[95m\"*.pdf\"\u001b[m), (\u001b[95m\"All files\"\u001b[m,\u001b[38;13H\u001b[93mreturn\u001b[m\u001b[39;9Hdoc = self.doc_store.get_document(self.current_doc_id)\u001b[34;72H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;72H\u001b[95m\"*.*\"\u001b[m)]\u001b[35;9H\u001b[93melif\u001b[m b[:\u001b[95m4\u001b[m] == b\u001b[95m\"RIFF\"\u001b[m \u001b[93mand\u001b[m b[\u001b[95m8\u001b[m:\u001b[95m12\u001b[m] == b\u001b[95m\"WEBP\"\u001b[m:\u001b[34;2H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;13Hext = \u001b[95m\".webp\"\u001b[m; filetypes = [(\u001b[95m\"WebP\"\u001b[m, \u001b[95m\"*.webp\"\u001b[m), (\u001b[95m\"Al \n    def _export_doc(self):\n        if self.current_doc_id is None:\n            messagebox.showwarning(\u001b[m\u001b[1CExport\u001b[1C\u001b[95m, \u001b[m\u001b[1CNo document loaded.\u001b[1C\u001b[95m)\n            return\n        doc = self.doc_store.get_document(self.current_doc_id)\u001b[34;65H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[m\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;65H\u001b[95ml files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[35;9H\u001b[93melse\u001b[m:\u001b[36;13H\u001b[96m# text-ish bytes?\u001b[m\n\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_export_doc\u001b[m(self):\n        \u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[34;2H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;13H\u001b[93mtry\u001b[m:\u001b[35;17Hb.decode(\u001b[95m\"utf-8\"\u001b[m)\u001b[39;13Hmessagebox.showwarning(\u001b[95m\"Export\"\u001b[m, \u001b[95m\"No document loaded.\"\u001b[m)\u001b[34;14H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;17Hext = \u001b[95m\".txt\"\u001b[m; filetypes = [(\u001b[95m\"Text\"\u001b[m, \u001b[95m\"*.txt\"\u001b[m), (\u001b[95m\"All files\"\u001b[m,\u001b[38;13H\u001b[93mreturn\u001b[m\u001b[39;9Hdoc = self.doc_store.get_document(self.current_doc_id)\u001b[34;77H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;77H\u001b[95m\"*.*\"\u001b[m)]\u001b[35;13H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[36;17Hext = \u001b[95m\".b \n    def _export_doc(self):\n        if self.current_doc_id is None:\n            messagebox.showwarning(\u001b[m\u001b[1CExport\u001b[1C\u001b[95m, \u001b[m\u001b[1CNo document loaded.\u001b[1C\u001b[95m)\u001b[34;26H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;26H\u001b[95min\"\u001b[m; filetypes = [(\u001b[95m\"Binary\"\u001b[m, \u001b[95m\"*.bin\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\n\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_export_doc\u001b[m(self):\n        \u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\n            messagebox.showwarning(\u001b[1C\u001b[95mExport\u001b[m\u001b[1C, \u001b[1C\u001b[95mNo document loaded.\u001b[m\u001b[1C)\u001b[39;13H\u001b[93mreturn\u001b[34;3H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;5H\u001b[93melse\u001b[m:\u001b[35;9Hs = (body \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m).lstrip()\u001b[36;9Hlow = s.lower\u001b[34;22H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;22H()\u001b[35;9H\u001b[93mif\u001b[m low.startswith(\u001b[95m\"<opml\"\u001b[m):\u001b[36;13Hext = \u001b[95m\".opml \n    def _export_doc(self):\n        if self.current_doc_id is None:\n            messagebox.showwarning(\u001b[m\u001b[1CExport\u001b[1C\u001b[95m, \u001b[m\u001b[1CNo document loaded.\u001b[1C\u001b[95m)\u001b[34;25H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;25H\u001b[95m\"\u001b[m; filetypes = [(\u001b[95m\"OPML\"\u001b[m, \u001b[95m\"*.opml\"\u001b[m), (\u001b[95m\"XML\"\u001b[m, \u001b[95m\"*.xml\"\u001b[m), (\u001b[95m\"All fil \u001b[38;1H            return\n        doc = self.doc_store.get_document(self.current_doc_id)\u001b[34;88H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[m\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;88H\u001b[95mes\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[35;9H\u001b[93melif\u001b[m low.startswith(\u001b[95m\"<html\"\u001b[m) \u001b[93mor\u001b[m (\u001b[95m\"<body\"\u001b[m i\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_export_doc\u001b[m(self):\n        \u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\n            messagebox.showwarning(\u001b[1C\u001b[95mExport\u001b[m\u001b[1C, \u001b[1C\u001b[95mNo document loaded.\u001b[m\u001b[1C)\n            \u001b[93mreturn\u001b[34;51H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;50H\u001b[93min\u001b[m low) \u001b[93mor\u001b[m (\u001b[95m\"<div\"\u001b[m \u001b[93min\u001b[m low):\u001b[35;13Hext = \u001b[95m\".html\"\u001b[m; filetypes\u001b[34;37H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;38H= [(\u001b[95m\"HTML\"\u001b[m, \u001b[95m\"*.html;*.htm\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[35;9Heli\u001b[34;12H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;9H\u001b[93melif\u001b[m low.startswith(\u001b[95m\"<svg\"\u001b[m):\u001b[35;13Hext = \u001b[95m\".svg\"\u001b[m; filetypes =\u001b[34;38H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;39H[(\u001b[95m\"SVG\"\u001b[m, \u001b[95m\"*.svg\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[35;9H\u001b[93melse\u001b[m:\u001b[34;8H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;13Hext = \u001b[95m\".txt\"\u001b[m; filetypes = [(\u001b[95m\"Text\"\u001b[m, \u001b[95m\"*.txt\"\u001b[m), (\u001b[95m\"All files\"\u001b[m\u001b[38;13H\u001b[93mreturn\u001b[m\u001b[39;9Hdoc = self.doc_store.get_document(self.current_doc_id)\u001b[34;71H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[35;1H\u001b[3L\u001b[1;40r\u001b[34;71H, \u001b[95m\"*.*\"\u001b[m)]\u001b[36;5H\u001b[96m# Ask destination\u001b[m\n    safe = \u001b[95m\"\"\u001b[m.join(c \u001b[93mif\u001b[m (c.isa\u001b[34;31H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[3M\u001b[1;40r\u001b[34;31Hlnum() \u001b[93mor\u001b[m c \u001b[93min\u001b[m \u001b[95m\"._- \"\u001b[m) \u001b[93melse\u001b[m \u001b[95m\"_\"\u001b[m \u001b[93mfor\u001b[m c \u001b[93min\u001b[m (title \u001b[93mor\u001b[m \u001b[95m\"Document\"\u001b[m))\u001b[37;13Hmessagebox.showwarning(\u001b[95m\"Export\"\u001b[m, \u001b[95m\"No document loaded.\"\u001b[m)\u001b[38;13H\u001b[93mreturn\u001b[m\u001b[39;9Hdoc = self.doc_store.get_document(self.current_doc_id)\u001b[34;94H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;94H.strip() \u001b[93mor\u001b[m \u001b[95m\"Document\"\u001b[m\n    path = filedialog.asksaveasfilename(\u001b[34;41H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[35;9Htitle=\u001b[95m\"Export Document\"\u001b[m,\u001b[36;9Hdefaultextension=ext,\u001b[34;30H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[35;9Hinitialfile=f\u001b[95m\"{safe}{ext}\"\u001b[m,\u001b[36;9Hfiletypes=filetype\u001b[34;27H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;27Hs,\n    )\u001b[35;6H\u001b[K\u001b[36;5H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m path:\u001b[36;17H\u001b[K\u001b[37;9H\u001b[93mreturn\u001b[m\u001b[37;15H\u001b[K\u001b[39;5H\u001b[96m# Write\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[7M\u001b[1;40r\u001b[33;5H\u001b[93mtry\u001b[m:\u001b[34;9HPath(path).parent.mkdir(parents=\u001b[1m\u001b[96mTrue\u001b[m, exist_ok=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[36;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_export_doc\u001b[m(self):\u001b[37;9H\u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[38;13Hmessagebox.showwarning(\u001b[95m\"Export\"\u001b[m, \u001b[95m\"No document loaded.\"\u001b[m)\u001b[39;13H\u001b[93mreturn\u001b[34;3H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[34;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)) \u001b[93mand\u001b[m ext \u001b[93mnot\u001b[m \u001b[93min\u001b[m (\u001b[95m\" \n    def _export_doc(self):\n        if self.current_doc_id is None:\n            messagebox.showwarning(\u001b[m\u001b[1CExport\u001b[1C\u001b[95m, \u001b[m\u001b[1CNo document loaded.\u001b[1C\u001b[95m)\n            return\n        doc = self.doc_store.get_document(self.current_doc_id)\u001b[34;66H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[m\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;66H\u001b[95m.txt\"\u001b[m, \u001b[95m\".opml\"\u001b[m, \u001b[95m\".html\"\u001b[m, \u001b[95m\".svg\"\u001b[m, \u001b[95m\".xml\"\u001b[m):\u001b[35;13HPath(path\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_export_doc\u001b[m(self):\n        \u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\n            messagebox.showwarning(\u001b[1C\u001b[95mExport\u001b[m\u001b[1C, \u001b[1C\u001b[95mNo document loaded.\u001b[m\u001b[1C)\n            \u001b[93mreturn\u001b[34;22H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;22H).write_bytes(\u001b[1m\u001b[96mbytes\u001b[m(body))\u001b[35;9H\u001b[93melse\u001b[m:\u001b[36;13H\u001b[93mif\u001b[m isinsta\u001b[34;23H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;16H\u001b[1m\u001b[96misinstance\u001b[m(body, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)):\u001b[35;17H\u001b[96m# Convert bytes \u001b[m\u001b[39;13H\u001b[93mreturn\u001b[34;32H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;32H\u001b[96m\u2192\u001b[34;33Htext if the user chose a texty extension\u001b[m\u001b[35;17H\u001b[93mtry\u001b[m:\u001b[34;21H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[35;21Htext_out = body.decode(\u001b[95m\"utf-8\"\u001b[m)\u001b[34;11H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;17H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[35;21H\u001b[93mtry\u001b[m:\u001b[34;15H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;25H\u001b[38;5;81mfrom\u001b[m modules.hypertext_parser \u001b[38;5;81mimport\u001b[m render_binary_as\u001b[38;13H\u001b[93mreturn\u001b[m\u001b[39;9Hdoc = self.doc_store.get_document(self.current_doc_id)\u001b[34;78H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;78H_text\u001b[35;25Htext_out = render_binary_as_text(\u001b[34;58H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;58Hbody, title \u001b[93mor\u001b[m \u001b[95m\"Document\"\u001b[m)\u001b[35;21H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[34;37H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;37H:\u001b[35;25Htext_out = body.decode(\u001b[95m\"utf-8\"\u001b[m, error\u001b[34;62H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;62Hs=\u001b[95m\"replace\"\u001b[m)\u001b[35;17HPath(path).write_text(text_out, en\u001b[34;51H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;51Hcoding=\u001b[95m\"utf-8\"\u001b[m, newline=\u001b[95m\"\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m\"\u001b[m)\u001b[35;13H\u001b[93melse\u001b[m:\u001b[34;16H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;17HPath(path).write_text(body \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m, encoding=\u001b[95m\"utf-8\"\u001b[m, newline=\u001b[95m\"\\ \n    def _export_doc(self):\n        if self.current_doc_id is None:\n            messagebox.showwarning(\u001b[m\u001b[1CExport\u001b[1C\u001b[95m, \u001b[m\u001b[1CNo document loaded.\u001b[1C\u001b[95m)\n            return\n        doc = self.doc_store.get_document(self.current_doc_id)\u001b[34;79H\u001b[?25h\u001b[?25l\u001b[35;39r\u001b[m\u001b[35;1H\u001b[2L\u001b[1;40r\u001b[34;78H\u001b[38;5;224m\\n\u001b[m\u001b[95m\"\u001b[m)\u001b[35;9Hmessagebox.showinfo(\u001b[95m\"Export\"\u001b[m, f\u001b[95m\"Saved:\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m{path}\"\u001b[m)\n\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_export_doc\u001b[m(self):\n        \u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\n            messagebox.showwarning(\u001b[1C\u001b[95mExport\u001b[m\u001b[1C, \u001b[1C\u001b[95mNo document loaded.\u001b[m\u001b[1C)\u001b[34;3H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[35;39r\u001b[35;1H\u001b[L\u001b[1;40r\u001b[34;5H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[35;9Hmessagebox.showerror(\u001b[95m\"Export\"\u001b[m,\u001b[39;13H\u001b[93mreturn\u001b[34;39H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[m\u001b[1;1H\u001b[2M\u001b[1;40r\u001b[34;39r\u001b[34;1H\u001b[L\u001b[1;40r\u001b[33;40Hf\u001b[95m\"Could not save:\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m{e}\"\u001b[m)\u001b[39;9Hdoc = self.doc_store.get_document(self.current_doc_id)\u001b[34;1H\u001b[?25h\u001b[40;1H\u001b[K\u001b[34;1H\u001b[?25l\u001b[40;122H^[\u001b[34;1H\u001b[40;122H  \u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m doc:\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;1H\u001b[40;122H   \u001b[34;2H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;2H\u001b[40;122H   \u001b[34;3H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;3H\u001b[40;122H   \u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;122H~@k\u001b[34;4H\u001b[40;122H   \u001b[34;5H\u001b[?25h\u001b[?25l\u001b[40;122H^[\u001b[34;5H\u001b[40;122H  \u001b[34;5H\u001b[40;122H^[\u001b[34;5H\u0007\u001b[40;122H  \u001b[34;5H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;5H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;5H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showerror(\u001b[95m\"Export\"\u001b[m, \u001b[95m\"Not found.\"\u001b[m)\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hdefault = f\u001b[95m\"document_{self.current_doc_id}.txt\"\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hpath = filedialog.asksaveasfilename(\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Htitle=\u001b[95m\"Export\"\u001b[m, initialfile=default, defaultextension=\u001b[95m\".txt\"\u001b[m, filetypes=[(\u001b[95m\"Text\"\u001b[m, \u001b[95m\"*.txt\"\u001b[m), (\u001b[95m\"All\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H)\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m path:\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9HPath(path).write_text(doc[\u001b[95m\"body\"\u001b[m], encoding=\u001b[95m\"utf-8\"\u001b[m)\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hmessagebox.showinfo(\u001b[95m\"Export\"\u001b[m, f\u001b[95m\"Saved to:\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m{path}\"\u001b[m)\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_import_directory\u001b[m(self):\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;13H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hdir_path = filedialog.askdirectory(title=\u001b[95m\"Select Folder to Import\"\u001b[m)\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;13H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;13H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m dir_path:\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;9H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122Hd\u001b[34;9H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;9H\u001b[40;122H  \u001b[34;1H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Himported, skipped = import_text_files_from_directory(dir_path, self.doc_store)\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;122Hd\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;123Hd\u001b[34;1H\u001b[40;122H  \u001b[34;5H\u001b[34;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hmsg = f\u001b[95m\"Imported {imported} file(s), skipped {skipped}.\"\u001b[34;5H\u001b[?25h\u001b[?25l\u001b[m\u001b[40;122H^[\u001b[34;5H\u001b[40;122H  \u001b[34;5H\u001b[40;122H^[\u001b[34;5H\u0007\u001b[40;122H  \u001b[34;5H\u001b[?25h\u001b[?25l\u001b[40;122H:\u001b[34;5H\u001b[40;122H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"modules/gui_tkinter.py\" 834L, 33831B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[14@grep _export_doc\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[24Ppython3 main.py\n\u001b[?2004l\nTraceback (most recent call last):\n  File \"/home/gross/FunKit/main.py\", line 4, in <module>\n    from modules.gui_tkinter import DemoKitGUI\n  File \"/home/gross/FunKit/modules/gui_tkinter.py\", line 580\n    from tkinter import filedialog, messagebox\n    ^\nIndentationError: expected an indented block after function definition on line 579\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bvi modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[C\u001b[C\u001b[C=modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1Pmodules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b+modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b5modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b8modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b-modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1Pmodules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1Pmodules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b-modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1Pmodules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1Pmodules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b0modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/gui_tkinter.py\" 834L, 33831B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[2;1H\u001b[K\u001b[3;1H        threading.Thread(target=wrk, daemon=\u001b[36mTrue\u001b[m).start()\u001b[3;58H\u001b[K\u001b[5;5H\u001b[34m# ---------------- Import/Export ----------------\u001b[m\u001b[7;5H\u001b[38;5;130mdef\u001b[m \u001b[36m_import_doc\u001b[m(self):\u001b[8;9Hpath = filedialog.askopenfilename(title=\u001b[31m\"Import\"\u001b[m, filetypes=[(\u001b[31m\"Text\"\u001b[m, \u001b[31m\"*.txt\"\u001b[m), (\u001b[31m\"All\"\u001b[m, \u001b[31m\"*.*\"\u001b[m)])\u001b[9;9H\u001b[38;5;130mif\u001b[m \u001b[38;5;130mnot\u001b[m path:\u001b[10;13H\u001b[38;5;130mreturn\u001b[m\u001b[11;9Hbody = Path(path).read_text(encoding=\u001b[31m\"utf-8\"\u001b[m)\u001b[12;9Htitle = Path(path).stem\u001b[13;9Hnid = self.doc_store.add_document(title, body)\u001b[14;9Hself.logger.info(f\u001b[31m\"Imported {nid}\"\u001b[m)\u001b[15;9Hself._refresh_sidebar()\u001b[16;9Hdoc = self.doc_store.get_document(nid)\u001b[17;9H\u001b[38;5;130mif\u001b[m doc:\u001b[18;13Hself._render_document(doc)\n    \u001b[38;5;130mdef\u001b[m \u001b[36m_export_doc\u001b[m(self):\n    \u001b[35mfrom\u001b[m tkinter \u001b[35mimport\u001b[m filedialog, messagebox\n    \u001b[35mfrom\u001b[m pathlib \u001b[35mimport\u001b[m Path\n    \u001b[35mimport\u001b[m os, re\u001b[24;5H\u001b[38;5;130mif\u001b[m \u001b[36mgetattr\u001b[m(self, \u001b[31m\"current_doc_id\"\u001b[m, \u001b[36mNone\u001b[m) \u001b[38;5;130mis\u001b[m \u001b[36mNone\u001b[m:\u001b[25;9Hmessagebox.showwarning(\u001b[31m\"Export\"\u001b[m, \u001b[31m\"No document selected.\"\u001b[m)\u001b[26;9H\u001b[38;5;130mreturn\u001b[m\u001b[28;5H\u001b[34m# Fetch and normalize\u001b[m\n    doc = self.doc_store.get_document(self.current_doc_id)\n    \u001b[38;5;130mif\u001b[m \u001b[36mhasattr\u001b[m(doc, \u001b[31m\"keys\"\u001b[m):\u001b[31;9Htitle = doc[\u001b[31m\"title\"\u001b[m] \u001b[38;5;130mif\u001b[m \u001b[31m\"title\"\u001b[m \u001b[38;5;130min\u001b[m doc.keys() \u001b[38;5;130melse\u001b[m \u001b[31m\"Document\"\u001b[m\u001b[32;9Hbody  = doc[\u001b[31m\"body\"\u001b[m] \u001b[38;5;130mif\u001b[m \u001b[31m\"body\"\u001b[m  \u001b[38;5;130min\u001b[m doc.keys() \u001b[38;5;130melse\u001b[m \u001b[31m\"\"\u001b[m\n    \u001b[38;5;130melif\u001b[m \u001b[36misinstance\u001b[m(doc, \u001b[36mdict\u001b[m):\u001b[34;9Htitle = doc.get(\u001b[31m\"title\"\u001b[m) \u001b[38;5;130mor\u001b[m \u001b[31m\"Document\"\u001b[m\u001b[35;9Hbody  = doc.get(\u001b[31m\"body\"\u001b[m) \u001b[38;5;130mor\u001b[m \u001b[31m\"\"\u001b[m\n    \u001b[38;5;130melse\u001b[m:\u001b[37;9Htitle = doc[\u001b[31m1\u001b[m] \u001b[38;5;130mif\u001b[m \u001b[36mlen\u001b[m(doc) > \u001b[31m1\u001b[m \u001b[38;5;130melse\u001b[m \u001b[31m\"Document\"\u001b[m\u001b[38;9Hbody  = doc[\u001b[31m2\u001b[m] \u001b[38;5;130mif\u001b[m \u001b[36mlen\u001b[m(doc) > \u001b[31m2\u001b[m \u001b[38;5;130melse\u001b[m \u001b[31m\"\"\u001b[m\u001b[40;115H580,5\u001b[9C70%\u001b[20;5H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H:\u001b[20;5H\u001b[40;106H3\u001b[20;5H\u001b[40;107H0\u001b[20;5H\u001b[40;108H3\u001b[20;5H\u001b[40;109H0\u001b[20;5H\u001b[40;110H/\u001b[20;5H\u001b[40;111H0\u001b[20;5H\u001b[40;112Ha\u001b[20;5H\u001b[40;113H0\u001b[20;5H\u001b[40;114Ha\u001b[20;5H\u001b[40;105H          \u001b[20;5H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[3;9Hthreading.Thread(target=wrk, daemon=\u001b[1m\u001b[96mTrue\u001b[m).start()\u001b[5;5H\u001b[96m# ---------------- Import/Export ----------------\u001b[m\u001b[7;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_import_doc\u001b[m(self):\u001b[8;9Hpath = filedialog.askopenfilename(title=\u001b[95m\"Import\"\u001b[m, filetypes=[(\u001b[95m\"Text\"\u001b[m, \u001b[95m\"*.txt\"\u001b[m), (\u001b[95m\"All\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)])\u001b[9;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m path:\u001b[10;13H\u001b[93mreturn\u001b[m\u001b[11;9Hbody = Path(path).read_text(encoding=\u001b[95m\"utf-8\"\u001b[m)\u001b[12;9Htitle = Path(path).stem\u001b[13;9Hnid = self.doc_store.add_document(title, body)\u001b[14;9Hself.logger.info(f\u001b[95m\"Imported {nid}\"\u001b[m)\u001b[15;9Hself._refresh_sidebar()\u001b[16;9Hdoc = self.doc_store.get_document(nid)\u001b[17;9H\u001b[93mif\u001b[m doc:\u001b[18;13Hself._render_document(doc)\n    \u001b[93mdef\u001b[m \u001b[1m\u001b[96m_export_doc\u001b[m(self):\n    \u001b[38;5;81mfrom\u001b[m tkinter \u001b[38;5;81mimport\u001b[m filedialog, messagebox\n    \u001b[38;5;81mfrom\u001b[m pathlib \u001b[38;5;81mimport\u001b[m Path\n    \u001b[38;5;81mimport\u001b[m os, re\u001b[24;5H\u001b[93mif\u001b[m \u001b[1m\u001b[96mgetattr\u001b[m(self, \u001b[95m\"current_doc_id\"\u001b[m, \u001b[1m\u001b[96mNone\u001b[m) \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[25;9Hmessagebox.showwarning(\u001b[95m\"Export\"\u001b[m, \u001b[95m\"No document selected.\"\u001b[m)\u001b[26;9H\u001b[93mreturn\u001b[m\u001b[28;5H\u001b[96m# Fetch and normalize\u001b[m\n    doc = self.doc_store.get_document(self.current_doc_id)\n    \u001b[93mif\u001b[m \u001b[1m\u001b[96mhasattr\u001b[m(doc, \u001b[95m\"keys\"\u001b[m):\u001b[31;9Htitle = doc[\u001b[95m\"title\"\u001b[m] \u001b[93mif\u001b[m \u001b[95m\"title\"\u001b[m \u001b[93min\u001b[m doc.keys() \u001b[93melse\u001b[m \u001b[95m\"Document\"\u001b[m\u001b[32;9Hbody  = doc[\u001b[95m\"body\"\u001b[m] \u001b[93mif\u001b[m \u001b[95m\"body\"\u001b[m  \u001b[93min\u001b[m doc.keys() \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m\n    \u001b[93melif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(doc, \u001b[1m\u001b[96mdict\u001b[m):\u001b[34;9Htitle = doc.get(\u001b[95m\"title\"\u001b[m) \u001b[93mor\u001b[m \u001b[95m\"Document\"\u001b[m\u001b[35;9Hbody  = doc.get(\u001b[95m\"body\"\u001b[m) \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m\n    \u001b[93melse\u001b[m:\u001b[37;9Htitle = doc[\u001b[95m1\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(doc) > \u001b[95m1\u001b[m \u001b[93melse\u001b[m \u001b[95m\"Document\"\u001b[m\u001b[38;9Hbody  = doc[\u001b[95m2\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(doc) > \u001b[95m2\u001b[m \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m\u001b[40;115H580,5\u001b[9C70%\n\"modules/gui_tkinter.py\" 834L, 33831B\u001b[20;5H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[20;5H\u001b[40;105H \u001b[20;5H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;13H\u001b[K\u001b[40;115H580,5\u001b[9C70%\u001b[20;5H\u001b[?25h\u001b[?25l \u001b[38;5;81mfrom\u001b[m tkinter \u001b[38;5;81mimport\u001b[m filedialog, messagebox\u001b[40;119H6\u001b[20;6H\u001b[?25h\u001b[?25l \u001b[38;5;81mfrom\u001b[m tkinter \u001b[38;5;81mimport\u001b[m filedialog, messagebox\u001b[40;119H7\u001b[20;7H\u001b[?25h\u001b[?25l \u001b[38;5;81mfrom\u001b[m tkinter \u001b[38;5;81mimport\u001b[m filedialog, messagebox\u001b[40;119H8\u001b[20;8H\u001b[?25h\u001b[?25l \u001b[38;5;81mfrom\u001b[m tkinter \u001b[38;5;81mimport\u001b[m filedialog, messagebox\u001b[40;119H9\u001b[20;9H\u001b[?25h\u001b[40;1H\u001b[K\u001b[20;8H\u001b[?25l\u001b[40;105H^[\u001b[20;8H\u001b[40;105H  \u001b[20;9H\u001b[40;115H580,8\u001b[9C70%\u001b[20;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[20;8H\u001b[40;105H   \u001b[21;8H\u001b[40;117H1\u001b[21;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;8H\u001b[40;105H   \u001b[21;7H\u001b[40;119H7\u001b[21;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;7H\u001b[40;105H   \u001b[21;6H\u001b[40;119H6\u001b[21;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;6H\u001b[40;105H   \u001b[21;5H\u001b[40;119H5\u001b[21;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;5H\u001b[40;105H   \u001b[21;4H\u001b[40;119H4\u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[21;4H\u001b[40;105H \u001b[21;4H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H581,4\u001b[9C70%\u001b[21;4H\u001b[?25h\u001b[?25l  \u001b[38;5;81mfrom\u001b[m pathlib \u001b[38;5;81mimport\u001b[m Path\u001b[40;119H5\u001b[21;5H\u001b[?25h\u001b[?25l  \u001b[38;5;81mfrom\u001b[m pathlib \u001b[38;5;81mimport\u001b[m Path\u001b[40;119H6\u001b[21;6H\u001b[?25h\u001b[?25l  \u001b[38;5;81mfrom\u001b[m pathlib \u001b[38;5;81mimport\u001b[m Path\u001b[40;119H7\u001b[21;7H\u001b[?25h\u001b[?25l  \u001b[38;5;81mfrom\u001b[m pathlib \u001b[38;5;81mimport\u001b[m Path\u001b[40;119H8\u001b[21;8H\u001b[?25h\u001b[40;1H\u001b[K\u001b[21;7H\u001b[?25l\u001b[40;105H^[\u001b[21;7H\u001b[40;105H  \u001b[21;8H\u001b[40;115H581,7\u001b[9C70%\u001b[21;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;7H\u001b[40;105H   \u001b[22;7H\u001b[40;117H2\u001b[22;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;7H\u001b[40;105H   \u001b[22;6H\u001b[40;119H6\u001b[22;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;6H\u001b[40;105H   \u001b[22;5H\u001b[40;119H5\u001b[22;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;5H\u001b[40;105H   \u001b[22;4H\u001b[40;119H4\u001b[22;4H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[22;4H\u001b[40;105H \u001b[22;4H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H582,4\u001b[9C70%\u001b[22;4H\u001b[?25h\u001b[?25l  \u001b[38;5;81mimport\u001b[m os, re\u001b[40;119H5\u001b[22;5H\u001b[?25h\u001b[?25l  \u001b[38;5;81mimport\u001b[m os, re\u001b[40;119H6\u001b[22;6H\u001b[?25h\u001b[?25l  \u001b[38;5;81mimport\u001b[m os, re\u001b[40;119H7\u001b[22;7H\u001b[?25h\u001b[?25l  \u001b[38;5;81mimport\u001b[m os, re\u001b[40;119H8\u001b[22;8H\u001b[?25h\u001b[40;1H\u001b[K\u001b[22;7H\u001b[?25l\u001b[40;105H^[\u001b[22;7H\u001b[40;105H  \u001b[22;8H\u001b[40;115H582,7\u001b[9C70%\u001b[22;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[22;7H\u001b[40;105H   \u001b[23;1H\u001b[40;117H3,0-1\u001b[23;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;1H\u001b[40;105H   \u001b[24;7H\u001b[40;117H4,7  \u001b[24;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;7H\u001b[40;105H   \u001b[24;6H\u001b[40;119H6\u001b[24;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;6H\u001b[40;105H   \u001b[24;5H\u001b[40;119H5\u001b[24;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;5H\u001b[40;105H   \u001b[24;4H\u001b[40;119H4\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[24;4H\u001b[40;105H \u001b[24;4H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H584,4\u001b[9C70%\u001b[24;4H\u001b[?25h\u001b[?25l  \u001b[93mif\u001b[m \u001b[1m\u001b[96mgetattr\u001b[m(self, \u001b[95m\"current_doc_id\"\u001b[m, \u001b[1m\u001b[96mNone\u001b[m) \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;119H5\u001b[24;5H\u001b[?25h\u001b[?25l  \u001b[93mif\u001b[m \u001b[1m\u001b[96mgetattr\u001b[m(self, \u001b[95m\"current_doc_id\"\u001b[m, \u001b[1m\u001b[96mNone\u001b[m) \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;119H6\u001b[24;6H\u001b[?25h\u001b[?25l  \u001b[93mif\u001b[m \u001b[1m\u001b[96mgetattr\u001b[m(self, \u001b[95m\"current_doc_id\"\u001b[m, \u001b[1m\u001b[96mNone\u001b[m) \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;119H7\u001b[24;7H\u001b[?25h\u001b[?25l  \u001b[93mif\u001b[m \u001b[1m\u001b[96mgetattr\u001b[m(self, \u001b[95m\"current_doc_id\"\u001b[m, \u001b[1m\u001b[96mNone\u001b[m) \u001b[93mis\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;119H8\u001b[24;8H\u001b[?25h\u001b[40;1H\u001b[K\u001b[24;7H\u001b[?25l\u001b[40;105H^[\u001b[24;7H\u001b[40;105H  \u001b[24;8H\u001b[40;115H584,7\u001b[9C70%\u001b[24;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;7H\u001b[40;105H   \u001b[25;7H\u001b[40;117H5\u001b[25;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;7H\u001b[40;105H   \u001b[26;7H\u001b[40;117H6\u001b[26;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;7H\u001b[40;105H   \u001b[25;7H\u001b[40;117H5\u001b[25;7H\u001b[?25h\u001b[?25l\u001b[40;105Hi\u001b[25;7H\u001b[40;105H \u001b[25;7H\u001b[40;1H\u001b[1m-- INSERT --\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H585,7\u001b[9C70%\u001b[25;7H\u001b[?25h\u001b[?25l   messagebox.showwarning(\u001b[95m\"Export\"\u001b[m, \u001b[95m\"No document selected.\"\u001b[m)\u001b[40;119H8\u001b[25;8H\u001b[?25h\u001b[?25l   messagebox.showwarning(\u001b[95m\"Export\"\u001b[m, \u001b[95m\"No document selected.\"\u001b[m)\u001b[40;119H9\u001b[25;9H\u001b[?25h\u001b[?25l   messagebox.showwarning(\u001b[95m\"Export\"\u001b[m, \u001b[95m\"No document selected.\"\u001b[m)\u001b[40;119H10\u001b[25;10H\u001b[?25h\u001b[?25l   messagebox.showwarning(\u001b[95m\"Export\"\u001b[m, \u001b[95m\"No document selected.\"\u001b[m)\u001b[40;120H1\u001b[25;11H\u001b[?25h\u001b[40;1H\u001b[K\u001b[25;10H\u001b[?25l\u001b[40;105H^[\u001b[25;10H\u001b[40;105H  \u001b[25;11H\u001b[40;115H585,10\u001b[8C70%\u001b[25;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;10H\u001b[40;105H   \u001b[26;10H\u001b[40;117H6\u001b[26;10H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;10H\u001b[40;105H   \u001b[26;9H\u001b[40;119H9 \u001b[26;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[26;9H\u001b[40;105H   \u001b[26;8H\u001b[40;119H8\u001b[26;8H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[26;8H\u001b[40;105H  \u001b[26;8H\u001b[40;105H^[\u001b[26;8H\u0007\u001b[40;105H  \u001b[26;8H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[26;8H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hwq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\"modules/gui_tkinter.py\" 834L, 33851B written\n\u001b[23;2t\u001b[23;1t\n\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ vi +580 modules/gui_tkinter.py\n\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[15Ppython3 main.py\n\u001b[?2004l\nTraceback (most recent call last):\n  File \"/home/gross/FunKit/main.py\", line 4, in <module>\n    from modules.gui_tkinter import DemoKitGUI\n  File \"/home/gross/FunKit/modules/gui_tkinter.py\", line 642\n    return\n    ^^^^^^\nSyntaxError: 'return' outside function\n\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ python3 main.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bvi +580 modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1P modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1P modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[1P modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b6 modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b4 modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b2 modules/gui_tkinter.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n\u001b[?2004l\n\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;40r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[40;1H\"modules/gui_tkinter.py\" 834L, 33851B\u001b[2;1H\u25bd\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007\u001b[1;9Hlow = s.lower()\n        \u001b[38;5;130mif\u001b[m low.startswith(\u001b[31m\"<opml\"\u001b[m):\u001b[2;36H\u001b[K\u001b[3;1H            ext = \u001b[31m\".opml\"\u001b[m; filetypes = [(\u001b[31m\"OPML\"\u001b[m, \u001b[31m\"*.opml\"\u001b[m), (\u001b[31m\"XML\"\u001b[m, \u001b[31m\"*.xml\"\u001b[m), (\u001b[31m\"All files\"\u001b[m, \u001b[31m\"*.*\"\u001b[m)]\u001b[3;100H\u001b[K\u001b[4;9H\u001b[38;5;130melif\u001b[m low.startswith(\u001b[31m\"<html\"\u001b[m) \u001b[38;5;130mor\u001b[m (\u001b[31m\"<body\"\u001b[m \u001b[38;5;130min\u001b[m low) \u001b[38;5;130mor\u001b[m (\u001b[31m\"<div\"\u001b[m \u001b[38;5;130min\u001b[m low):\u001b[5;13Hext = \u001b[31m\".html\"\u001b[m; filetypes = [(\u001b[31m\"HTML\"\u001b[m, \u001b[31m\"*.html;*.htm\"\u001b[m), (\u001b[31m\"All files\"\u001b[m, \u001b[31m\"*.*\"\u001b[m)]\u001b[6;9H\u001b[38;5;130melif\u001b[m low.startswith(\u001b[31m\"<svg\"\u001b[m):\u001b[7;13Hext = \u001b[31m\".svg\"\u001b[m; filetypes = [(\u001b[31m\"SVG\"\u001b[m, \u001b[31m\"*.svg\"\u001b[m), (\u001b[31m\"All files\"\u001b[m, \u001b[31m\"*.*\"\u001b[m)]\u001b[8;9H\u001b[38;5;130melse\u001b[m:\u001b[9;13Hext = \u001b[31m\".txt\"\u001b[m; filetypes = [(\u001b[31m\"Text\"\u001b[m, \u001b[31m\"*.txt\"\u001b[m), (\u001b[31m\"All files\"\u001b[m, \u001b[31m\"*.*\"\u001b[m)]\u001b[11;5H\u001b[34m# Ask destination\u001b[m\n    safe = \u001b[31m\"\"\u001b[m.join(c \u001b[38;5;130mif\u001b[m (c.isalnum() \u001b[38;5;130mor\u001b[m c \u001b[38;5;130min\u001b[m \u001b[31m\"._- \"\u001b[m) \u001b[38;5;130melse\u001b[m \u001b[31m\"_\"\u001b[m \u001b[38;5;130mfor\u001b[m c \u001b[38;5;130min\u001b[m (title \u001b[38;5;130mor\u001b[m \u001b[31m\"Document\"\u001b[m)).strip() \u001b[38;5;130mor\u001b[m \u001b[31m\"Document\"\u001b[m\n    path = filedialog.asksaveasfilename(\u001b[14;9Htitle=\u001b[31m\"Export Document\"\u001b[m,\u001b[15;9Hdefaultextension=ext,\u001b[16;9Hinitialfile=f\u001b[31m\"{safe}{ext}\"\u001b[m,\u001b[17;9Hfiletypes=filetypes,\n    )\n    \u001b[38;5;130mif\u001b[m \u001b[38;5;130mnot\u001b[m path:\u001b[20;9H\u001b[38;5;130mreturn\u001b[m\u001b[22;5H\u001b[34m# Write\u001b[m\n    \u001b[38;5;130mtry\u001b[m:\u001b[24;9HPath(path).parent.mkdir(parents=\u001b[36mTrue\u001b[m, exist_ok=\u001b[36mTrue\u001b[m)\u001b[25;9H\u001b[38;5;130mif\u001b[m \u001b[36misinstance\u001b[m(body, (\u001b[36mbytes\u001b[m, \u001b[36mbytearray\u001b[m)) \u001b[38;5;130mand\u001b[m ext \u001b[38;5;130mnot\u001b[m \u001b[38;5;130min\u001b[m (\u001b[31m\".txt\"\u001b[m, \u001b[31m\".opml\"\u001b[m, \u001b[31m\".html\"\u001b[m, \u001b[31m\".svg\"\u001b[m, \u001b[31m\".xml\"\u001b[m):\u001b[26;13HPath(path).write_bytes(\u001b[36mbytes\u001b[m(body))\u001b[27;9H\u001b[38;5;130melse\u001b[m:\u001b[28;13H\u001b[38;5;130mif\u001b[m \u001b[36misinstance\u001b[m(body, (\u001b[36mbytes\u001b[m, \u001b[36mbytearray\u001b[m)):\u001b[29;17H\u001b[34m# Convert bytes\u2192\u001b[29;33Htext if the user chose a texty extension\u001b[m\u001b[30;17H\u001b[38;5;130mtry\u001b[m:\u001b[31;21Htext_out = body.decode(\u001b[31m\"utf-8\"\u001b[m)\u001b[32;17H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m:\u001b[33;21H\u001b[38;5;130mtry\u001b[m:\u001b[34;25H\u001b[35mfrom\u001b[m modules.hypertext_parser \u001b[35mimport\u001b[m render_binary_as_text\u001b[35;25Htext_out = render_binary_as_text(body, title \u001b[38;5;130mor\u001b[m \u001b[31m\"Document\"\u001b[m)\u001b[36;21H\u001b[38;5;130mexcept\u001b[m \u001b[32mException\u001b[m:\u001b[37;25Htext_out = body.decode(\u001b[31m\"utf-8\"\u001b[m, errors=\u001b[31m\"replace\"\u001b[m)\u001b[38;17HPath(path).write_text(text_out, encoding=\u001b[31m\"utf-8\"\u001b[m, newline=\u001b[31m\"\u001b[m\u001b[35m\\n\u001b[m\u001b[31m\"\u001b[m)\u001b[39;13H\u001b[38;5;130melse\u001b[m:\u001b[40;115H642,9\u001b[9C78%\u001b[20;9H\u001b[?25h\u001b[?4m\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[40;105H:\u001b[20;9H\u001b[40;106H3\u001b[20;9H\u001b[40;107H0\u001b[20;9H\u001b[40;108H3\u001b[20;9H\u001b[40;109H0\u001b[20;9H\u001b[40;110H/\u001b[20;9H\u001b[40;111H0\u001b[20;9H\u001b[40;112Ha\u001b[20;9H\u001b[40;113H0\u001b[20;9H\u001b[40;114Ha\u001b[20;9H\u001b[40;105H          \u001b[20;9H\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;9Hlow = s.lower()\u001b[2;9H\u001b[93mif\u001b[m low.startswith(\u001b[95m\"<opml\"\u001b[m):\u001b[3;13Hext = \u001b[95m\".opml\"\u001b[m; filetypes = [(\u001b[95m\"OPML\"\u001b[m, \u001b[95m\"*.opml\"\u001b[m), (\u001b[95m\"XML\"\u001b[m, \u001b[95m\"*.xml\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[4;9H\u001b[93melif\u001b[m low.startswith(\u001b[95m\"<html\"\u001b[m) \u001b[93mor\u001b[m (\u001b[95m\"<body\"\u001b[m \u001b[93min\u001b[m low) \u001b[93mor\u001b[m (\u001b[95m\"<div\"\u001b[m \u001b[93min\u001b[m low):\u001b[5;13Hext = \u001b[95m\".html\"\u001b[m; filetypes = [(\u001b[95m\"HTML\"\u001b[m, \u001b[95m\"*.html;*.htm\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[6;9H\u001b[93melif\u001b[m low.startswith(\u001b[95m\"<svg\"\u001b[m):\u001b[7;13Hext = \u001b[95m\".svg\"\u001b[m; filetypes = [(\u001b[95m\"SVG\"\u001b[m, \u001b[95m\"*.svg\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[8;9H\u001b[93melse\u001b[m:\u001b[9;13Hext = \u001b[95m\".txt\"\u001b[m; filetypes = [(\u001b[95m\"Text\"\u001b[m, \u001b[95m\"*.txt\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[11;5H\u001b[96m# Ask destination\u001b[m\n    safe = \u001b[95m\"\"\u001b[m.join(c \u001b[93mif\u001b[m (c.isalnum() \u001b[93mor\u001b[m c \u001b[93min\u001b[m \u001b[95m\"._- \"\u001b[m) \u001b[93melse\u001b[m \u001b[95m\"_\"\u001b[m \u001b[93mfor\u001b[m c \u001b[93min\u001b[m (title \u001b[93mor\u001b[m \u001b[95m\"Document\"\u001b[m)).strip() \u001b[93mor\u001b[m \u001b[95m\"Document\"\u001b[m\n    path = filedialog.asksaveasfilename(\u001b[14;9Htitle=\u001b[95m\"Export Document\"\u001b[m,\u001b[15;9Hdefaultextension=ext,\u001b[16;9Hinitialfile=f\u001b[95m\"{safe}{ext}\"\u001b[m,\u001b[17;9Hfiletypes=filetypes,\n    )\n    \u001b[93mif\u001b[m \u001b[93mnot\u001b[m path:\u001b[20;9H\u001b[93mreturn\u001b[m\u001b[22;5H\u001b[96m# Write\u001b[m\n    \u001b[93mtry\u001b[m:\u001b[24;9HPath(path).parent.mkdir(parents=\u001b[1m\u001b[96mTrue\u001b[m, exist_ok=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[25;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)) \u001b[93mand\u001b[m ext \u001b[93mnot\u001b[m \u001b[93min\u001b[m (\u001b[95m\".txt\"\u001b[m, \u001b[95m\".opml\"\u001b[m, \u001b[95m\".html\"\u001b[m, \u001b[95m\".svg\"\u001b[m, \u001b[95m\".xml\"\u001b[m):\u001b[26;13HPath(path).write_bytes(\u001b[1m\u001b[96mbytes\u001b[m(body))\u001b[27;9H\u001b[93melse\u001b[m:\u001b[28;13H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)):\u001b[29;17H\u001b[96m# Convert bytes\u2192\u001b[29;33Htext if the user chose a texty extension\u001b[m\u001b[30;17H\u001b[93mtry\u001b[m:\u001b[31;21Htext_out = body.decode(\u001b[95m\"utf-8\"\u001b[m)\u001b[32;17H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[33;21H\u001b[93mtry\u001b[m:\u001b[34;25H\u001b[38;5;81mfrom\u001b[m modules.hypertext_parser \u001b[38;5;81mimport\u001b[m render_binary_as_text\u001b[35;25Htext_out = render_binary_as_text(body, title \u001b[93mor\u001b[m \u001b[95m\"Document\"\u001b[m)\u001b[36;21H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[37;25Htext_out = body.decode(\u001b[95m\"utf-8\"\u001b[m, errors=\u001b[95m\"replace\"\u001b[m)\u001b[38;17HPath(path).write_text(text_out, encoding=\u001b[95m\"utf-8\"\u001b[m, newline=\u001b[95m\"\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m\"\u001b[m)\u001b[39;13H\u001b[93melse\u001b[m:\u001b[40;115H642,9\u001b[9C78%\n\"modules/gui_tkinter.py\" 834L, 33851B\u001b[20;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[20;9H\u001b[40;105H   \u001b[19;9H\u001b[40;117H1\u001b[19;9H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[19;9H\u001b[40;105H   \u001b[19;8H\u001b[40;119H8\u001b[19;8H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[19;8H\u001b[40;105H   \u001b[19;7H\u001b[40;119H7\u001b[19;7H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[19;7H\u001b[40;105H   \u001b[19;6H\u001b[40;119H6\u001b[19;6H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[19;6H\u001b[40;105H   \u001b[19;5H\u001b[40;119H5\u001b[19;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[19;5H\u001b[40;105H   \u001b[19;4H\u001b[40;119H4\u001b[19;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[19;4H\u001b[40;105H   \u001b[18;4H\u001b[40;117H0\u001b[18;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[18;4H\u001b[40;105H   \u001b[19;4H\u001b[40;117H1\u001b[19;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[19;4H\u001b[40;105H   \u001b[18;4H\u001b[40;117H0\u001b[18;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[18;4H\u001b[40;105H   \u001b[19;4H\u001b[40;117H1\u001b[19;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[19;4H\u001b[40;105H   \u001b[19;5H\u001b[40;119H5\u001b[19;5H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[19;5H\u001b[40;105H   \u001b[19;4H\u001b[40;119H4\u001b[19;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[19;4H\u001b[40;105H   \u001b[18;4H\u001b[40;117H0\u001b[18;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[18;4H\u001b[40;105H   \u001b[17;4H\u001b[40;116H39\u001b[17;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[17;4H\u001b[40;105H   \u001b[16;4H\u001b[40;117H8\u001b[16;4H\u001b[?25h\u001b[?25l\u001b[40;117H9\u001b[17;4H\u001b[?25h\u001b[?25l\u001b[40;116H40\u001b[18;4H\u001b[?25h\u001b[?25l\u001b[40;117H1\u001b[19;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[19;4H\u001b[40;105H   \u001b[20;4H\u001b[40;117H2\u001b[20;4H\u001b[?25h\u001b[?25l\u001b[40;117H3,0-1\u001b[21;1H\u001b[?25h\u001b[?25l\u001b[40;117H4,4  \u001b[22;4H\u001b[?25h\u001b[?25l\u001b[40;117H5\u001b[23;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;4H\u001b[40;105H   \u001b[24;4H\u001b[40;117H6\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;117H7\u001b[25;4H\u001b[?25h\u001b[?25l\u001b[40;117H8\u001b[26;4H\u001b[?25h\u001b[?25l\u001b[40;117H9\u001b[27;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;4H\u001b[40;105H   \u001b[28;4H\u001b[40;116H50\u001b[28;4H\u001b[?25h\u001b[?25l\u001b[40;117H1\u001b[29;4H\u001b[?25h\u001b[?25l\u001b[40;117H2\u001b[30;4H\u001b[?25h\u001b[?25l\u001b[40;117H3\u001b[31;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;4H\u001b[40;105H   \u001b[32;4H\u001b[40;117H4\u001b[32;4H\u001b[?25h\u001b[?25l\u001b[40;117H5\u001b[33;4H\u001b[?25h\u001b[?25l\u001b[40;117H6\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17HPath(path).write_text(body \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m, encoding=\u001b[95m\"utf-8\"\u001b[m, newline=\u001b[95m\"\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m\"\u001b[m)\u001b[40;1H\u001b[K\u001b[40;115H657,4\u001b[9C78%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hmessagebox.showinfo(\u001b[95m\"Export\"\u001b[m, f\u001b[95m\"Saved:\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m{path}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H658,4\u001b[9C78%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H659,4\u001b[9C78%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hmessagebox.showerror(\u001b[95m\"Export\"\u001b[m, f\u001b[95m\"Could not save:\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m{e}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H660,4\u001b[9C78%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H661,4\u001b[9C78%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_import_directory\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H662,4\u001b[9C78%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hdir_path = filedialog.askdirectory(title=\u001b[95m\"Select Folder to Import\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H663,4\u001b[9C79%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m dir_path:\u001b[40;115H\u001b[K\u001b[40;115H664,4\u001b[9C79%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H665,4\u001b[9C79%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Himported, skipped = import_text_files_from_directory(dir_path, self.doc_store)\u001b[40;115H\u001b[K\u001b[40;115H666,1\u001b[9C79%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hmsg = f\u001b[95m\"Imported {imported} file(s), skipped {skipped}.\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H667,4\u001b[9C79%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[1m\u001b[96mprint\u001b[m(\u001b[95m\"[INFO]\"\u001b[m, msg)\u001b[40;115H\u001b[K\u001b[40;115H668,4\u001b[9C79%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hmessagebox.showinfo(\u001b[95m\"Directory Import\"\u001b[m, msg)\u001b[40;115H\u001b[K\u001b[40;115H669,4\u001b[9C79%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._refresh_sidebar()\u001b[40;115H\u001b[K\u001b[40;115H670,4\u001b[9C80%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H671,4\u001b[9C80%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mexport_and_launch_server\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H672,4\u001b[9C80%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hexport_path = Path(\u001b[95m\"exported_docs\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H673,4\u001b[9C80%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hexport_path.mkdir(exist_ok=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H674,4\u001b[9C80%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mfor\u001b[m doc \u001b[93min\u001b[m self.doc_store.get_document_index():\u001b[40;115H\u001b[K\u001b[40;115H675,4\u001b[9C80%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hdata = \u001b[1m\u001b[96mdict\u001b[m(self.doc_store.get_document(doc[\u001b[95m\"id\"\u001b[m]))\u001b[40;115H\u001b[K\u001b[40;115H676,0-1\u001b[7C80%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m data:\u001b[40;115H\u001b[K\u001b[40;115H677,4\u001b[9C80%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hdata = sanitize_doc(data)\u001b[40;115H\u001b[K\u001b[40;115H678,4\u001b[9C81%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mwith\u001b[m \u001b[1m\u001b[96mopen\u001b[m(export_path / f\u001b[95m\"{data['id']}.json\"\u001b[m, \u001b[95m\"w\"\u001b[m, encoding=\u001b[95m\"utf-8\"\u001b[m) \u001b[93mas\u001b[m f:\u001b[40;115H\u001b[K\u001b[40;115H679,4\u001b[9C81%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;21Hjson.dump(data, f, indent=\u001b[95m2\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H680,4\u001b[9C81%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H681,4\u001b[9C81%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mlaunch\u001b[m():\u001b[40;115H\u001b[K\u001b[40;115H682,4\u001b[9C81%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hfp = Path(\u001b[95m\"modules\"\u001b[m) / \u001b[95m\"flask_server.py\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H683,4\u001b[9C81%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m fp.exists():\u001b[40;115H\u001b[K\u001b[40;115H684,4\u001b[9C81%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hsubprocess.Popen([sys.executable, \u001b[1m\u001b[96mstr\u001b[m(fp)])\u001b[40;115H\u001b[K\u001b[40;115H685,4\u001b[9C81%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H686,0-1\u001b[7C82%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hthreading.Thread(target=launch, daemon=\u001b[1m\u001b[96mTrue\u001b[m).start()\u001b[40;115H\u001b[K\u001b[40;115H687,4\u001b[9C82%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hmessagebox.showinfo(\u001b[95m\"Server Started\"\u001b[m, \u001b[95m\"Flask server launched at http://127.0.0.1:5050\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H688,4\u001b[9C82%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H689,4\u001b[9C82%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_save_binary_as_text\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H690,4\u001b[9C82%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hselected_item = self.sidebar.selection()\u001b[40;115H\u001b[K\u001b[40;115H691,0-1\u001b[7C82%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m selected_item:\u001b[40;115H\u001b[K\u001b[40;115H692,4\u001b[9C82%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H693,4\u001b[9C82%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hdoc_id_str = self.sidebar.item(selected_item, \u001b[95m\"values\"\u001b[m)[\u001b[95m0\u001b[m]\u001b[40;115H\u001b[K\u001b[40;115H694,0-1\u001b[7C83%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mstr\u001b[m(doc_id_str).isdigit():\u001b[40;115H\u001b[K\u001b[40;115H695,4\u001b[9C83%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[1m\u001b[96mprint\u001b[m(f\u001b[95m\"Warning: selected text is not a valid integer '{doc_id_str}'\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H696,4\u001b[9C83%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H697,4\u001b[9C83%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hdoc_id = \u001b[1m\u001b[96mint\u001b[m(doc_id_str)\u001b[40;115H\u001b[K\u001b[40;115H698,4\u001b[9C83%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hdoc = self.doc_store.get_document(doc_id)\u001b[40;115H\u001b[K\u001b[40;115H699,4\u001b[9C83%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m doc \u001b[93mor\u001b[m \u001b[1m\u001b[96mlen\u001b[m(doc) < \u001b[95m3\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H700,4\u001b[9C83%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H701,4\u001b[9C83%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hbody = doc[\u001b[95m2\u001b[m]\u001b[40;115H\u001b[K\u001b[40;115H702,4\u001b[9C84%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, \u001b[1m\u001b[96mbytes\u001b[m) \u001b[93mor\u001b[m (\u001b[95m\"\u001b[m\u001b[38;5;224m\\x00\u001b[m\u001b[95m\"\u001b[m \u001b[93min\u001b[m \u001b[1m\u001b[96mstr\u001b[m(body)):\u001b[40;115H\u001b[K\u001b[40;115H703,4\u001b[9C84%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[1m\u001b[96mprint\u001b[m(\u001b[95m\"Binary detected, converting to text using render_binary_as_text.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H704,4\u001b[9C84%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hbody = render_binary_as_text(body)\u001b[40;115H\u001b[K\u001b[40;115H705,4\u001b[9C84%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.doc_store.update_document(doc_id, body)\u001b[40;115H\u001b[K\u001b[40;115H706,4\u001b[9C84%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._render_document(self.doc_store.get_document(doc_id))\u001b[40;115H\u001b[K\u001b[40;115H707,4\u001b[9C84%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93melse\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H708,4\u001b[9C84%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[1m\u001b[96mprint\u001b[m(\u001b[95m\"Document is already text. Skipping overwrite.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H709,4\u001b[9C84%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hcontent = self.processor.get_strings_content(doc_id)\u001b[40;115H\u001b[K\u001b[40;115H710,4\u001b[9C85%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.doc_store.update_document(doc_id, content)\u001b[40;115H\u001b[K\u001b[40;115H711,4\u001b[9C85%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hdoc = self.doc_store.get_document(doc_id)\u001b[40;115H\u001b[K\u001b[40;115H712,4\u001b[9C85%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._render_document(doc)\u001b[40;115H\u001b[K\u001b[40;115H713,4\u001b[9C85%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H714,4\u001b[9C85%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[96m# ---------------- Open OPML (import) ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H715,4\u001b[9C85%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H716,4\u001b[9C85%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_open_opml_from_main\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H717,4\u001b[9C85%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hpath = filedialog.askopenfilename(\u001b[40;115H\u001b[K\u001b[40;115H718,4\u001b[9C86%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Htitle=\u001b[95m\"Open OPML/XML\"\u001b[m, filetypes=[(\u001b[95m\"OPML / XML\"\u001b[m, \u001b[95m\"*.opml *.xml\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[40;115H\u001b[K\u001b[40;115H719,0-1\u001b[7C86%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H)\u001b[40;115H\u001b[K\u001b[40;115H720,4\u001b[9C86%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m path:\u001b[40;115H\u001b[K\u001b[40;115H721,0-1\u001b[7C86%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H722,4\u001b[9C86%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H723,4\u001b[9C86%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hcontent = Path(path).read_text(encoding=\u001b[95m\"utf-8\"\u001b[m, errors=\u001b[95m\"replace\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H724,4\u001b[9C86%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H725,4\u001b[9C86%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showerror(\u001b[95m\"Open OPML\"\u001b[m, f\u001b[95m\"Failed to read file:\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m{e}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H726,4\u001b[9C87%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H727,4\u001b[9C87%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Htitle = Path(path).stem\u001b[40;115H\u001b[K\u001b[40;115H728,4\u001b[9C87%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H729,4\u001b[9C87%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hnew_id = self.doc_store.add_document(title, content)\u001b[40;115H\u001b[K\u001b[40;115H730,4\u001b[9C87%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H731,4\u001b[9C87%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showerror(\u001b[95m\"Open OPML\"\u001b[m, f\u001b[95m\"Failed to import OPML to DB:\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m{e}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H732,4\u001b[9C87%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H733,4\u001b[9C87%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._refresh_sidebar()\u001b[40;115H\u001b[K\u001b[40;115H734,4\u001b[9C88%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.current_doc_id = new_id\u001b[40;115H\u001b[K\u001b[40;115H735,4\u001b[9C88%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hdoc = self.doc_store.get_document(new_id)\u001b[40;115H\u001b[K\u001b[40;115H736,4\u001b[9C88%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m doc:\u001b[40;115H\u001b[K\u001b[40;115H737,4\u001b[9C88%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._render_document(doc)\u001b[40;115H\u001b[K\u001b[40;115H738,4\u001b[9C88%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96mgetattr\u001b[m(self, \u001b[95m\"tree_win\"\u001b[m, \u001b[1m\u001b[96mNone\u001b[m) \u001b[93mand\u001b[m self.tree_win.winfo_exists():\u001b[40;115H\u001b[K\u001b[40;115H739,4\u001b[9C88%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H740,4\u001b[9C88%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself.tree_win.load_opml_file(path)\u001b[40;115H\u001b[K\u001b[40;115H741,4\u001b[9C88%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself.tree_win.deiconify()\u001b[40;115H\u001b[K\u001b[40;115H742,4\u001b[9C89%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself.tree_win.lift()\u001b[40;115H\u001b[K\u001b[40;115H743,4\u001b[9C89%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself._apply_opml_expand_depth()\u001b[40;115H\u001b[K\u001b[40;115H744,4\u001b[9C89%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H745,4\u001b[9C89%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mpass\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H746,4\u001b[9C89%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H747,4\u001b[9C89%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[96m# ---------------- Rendering ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H748,4\u001b[9C89%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H749,4\u001b[9C89%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_render_document\u001b[m(self, doc):\u001b[40;115H\u001b[K\u001b[40;115H750,4\u001b[9C90%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[95m\"\"\"Render a document once, parse green links, and auto-render OPML when detected.\"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H751,4\u001b[9C90%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[96m# Normalize doc body\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H752,0-1\u001b[7C90%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hbody = doc.get(\u001b[95m\"body\"\u001b[m) \u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(doc, \u001b[1m\u001b[96mdict\u001b[m) \u001b[93melse\u001b[m (doc[\u001b[95m2\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(doc) > \u001b[95m2\u001b[m \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H753,4\u001b[9C90%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, \u001b[1m\u001b[96mstr\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H754,0-1\u001b[7C90%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hb_norm = body.lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\r\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H755,4\u001b[9C90%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mif\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m b_norm.lower():\u001b[40;115H\u001b[K\u001b[40;115H756,4\u001b[9C90%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17Hself._render_opml_from_string(b_norm)\u001b[40;115H\u001b[K\u001b[40;115H757,4\u001b[9C90%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;17H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H758,4\u001b[9C91%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H759,4\u001b[9C91%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[96m# Plain text or other\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H760,4\u001b[9C91%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._hide_opml()\u001b[40;115H\u001b[K\u001b[40;115H761,4\u001b[9C91%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.text.delete(\u001b[95m\"1.0\"\u001b[m, tk.END)\u001b[40;115H\u001b[K\u001b[40;115H762,4\u001b[9C91%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H763,4\u001b[9C91%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[96m# bytes -> placeholder\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H764,0-1\u001b[7C91%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)):\u001b[40;115H\u001b[K\u001b[40;115H765,4\u001b[9C91%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.text.insert(tk.END, \u001b[95m\"[binary document]\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H766,4\u001b[9C92%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H767,4\u001b[9C92%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H768,0-1\u001b[7C92%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[96m# very large text -> placeholder\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H769,4\u001b[9C92%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[1m\u001b[96mlen\u001b[m(body) > \u001b[95m200_000\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H770,4\u001b[9C92%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.text.insert(tk.END, \u001b[95m\"[large binary-like document]\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H771,4\u001b[9C92%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H772,4\u001b[9C92%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H773,0-1\u001b[7C92%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[96m# Show and parse links\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H774,4\u001b[9C93%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.text.insert(tk.END, body \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H775,4\u001b[9C93%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hhypertext_parser.parse_links(self.text, body \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m, self._on_link_click)\u001b[40;115H\u001b[K\u001b[40;115H776,4\u001b[9C93%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H777,4\u001b[9C93%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_on_link_click\u001b[m(self, doc_id):\u001b[40;115H\u001b[K\u001b[40;115H778,0-1\u001b[7C93%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H779,4\u001b[9C93%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.history.append(self.current_doc_id)\u001b[40;115H\u001b[K\u001b[40;115H780,4\u001b[9C93%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.current_doc_id = doc_id\u001b[40;115H\u001b[K\u001b[40;115H781,4\u001b[9C93%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hdoc = self.doc_store.get_document(doc_id)\u001b[40;115H\u001b[K\u001b[40;115H782,0-1\u001b[7C94%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m doc:\u001b[40;115H\u001b[K\u001b[40;115H783,4\u001b[9C94%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._render_document(doc)\u001b[40;115H\u001b[K\u001b[40;115H784,4\u001b[9C94%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H785,4\u001b[9C94%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H786,4\u001b[9C94%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_on_delete_clicked\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H787,4\u001b[9C94%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[95m\"\"\"Delete the currently selected document from the sidebar and clear the pane.\"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H788,4\u001b[9C94%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hsel = self.sidebar.selection()\u001b[40;115H\u001b[K\u001b[40;115H789,4\u001b[9C94%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m sel:\u001b[40;115H\u001b[K\u001b[40;115H790,0-1\u001b[7C95%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showwarning(\u001b[95m\"Delete\"\u001b[m, \u001b[95m\"No document selected.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H791,0-1\u001b[7C95%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H792,4\u001b[9C95%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hitem = self.sidebar.item(sel[\u001b[95m0\u001b[m])\u001b[40;115H\u001b[K\u001b[40;115H793,4\u001b[9C95%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hvals = item.get(\u001b[95m\"values\"\u001b[m) \u001b[93mor\u001b[m []\u001b[40;115H\u001b[K\u001b[40;115H794,4\u001b[9C95%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m vals:\u001b[40;115H\u001b[K\u001b[40;115H795,4\u001b[9C95%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showerror(\u001b[95m\"Delete\"\u001b[m, \u001b[95m\"Invalid selection.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H796,4\u001b[9C95%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H797,4\u001b[9C95%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H798,4\u001b[9C96%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hnid = \u001b[1m\u001b[96mint\u001b[m(vals[\u001b[95m0\u001b[m])\u001b[40;115H\u001b[K\u001b[40;115H799,4\u001b[9C96%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m (\u001b[38;5;121mValueError\u001b[m, \u001b[38;5;121mTypeError\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H800,4\u001b[9C96%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showerror(\u001b[95m\"Delete\"\u001b[m, \u001b[95m\"Invalid document ID.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H801,4\u001b[9C96%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H802,4\u001b[9C96%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;117H1\u001b[33;4H\u001b[?25h\u001b[?25l\u001b[40;117H0\u001b[32;4H\u001b[?25h\u001b[?25l\u001b[40;115H799\u001b[31;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[31;4H\u001b[40;105H   \u001b[30;4H\u001b[40;117H8\u001b[30;4H\u001b[?25h\u001b[?25l\u001b[40;117H7\u001b[29;4H\u001b[?25h\u001b[?25l\u001b[40;117H6\u001b[28;4H\u001b[?25h\u001b[?25l\u001b[40;117H5\u001b[27;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[27;4H\u001b[40;105H   \u001b[26;4H\u001b[40;117H4\u001b[26;4H\u001b[?25h\u001b[?25l\u001b[40;117H3\u001b[25;4H\u001b[?25h\u001b[?25l\u001b[40;117H2\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;117H1,0-1\u001b[23;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[23;1H\u001b[40;105H   \u001b[22;1H\u001b[40;117H0\u001b[22;1H\u001b[?25h\u001b[?25l\u001b[40;116H89,4  \u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;117H8\u001b[20;4H\u001b[?25h\u001b[?25l\u001b[40;117H7\u001b[19;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[19;4H\u001b[40;105H   \u001b[18;4H\u001b[40;117H6\u001b[18;4H\u001b[?25h\u001b[?25l\u001b[40;117H5\u001b[17;4H\u001b[?25h\u001b[?25l\u001b[40;117H4\u001b[16;4H\u001b[?25h\u001b[?25l\u001b[40;117H3\u001b[15;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[15;4H\u001b[40;105H   \u001b[14;1H\u001b[40;117H2,0-1\u001b[14;1H\u001b[?25h\u001b[?25l\u001b[40;117H1,4  \u001b[13;4H\u001b[?25h\u001b[?25l\u001b[40;117H0\u001b[12;4H\u001b[?25h\u001b[?25l\u001b[40;116H79\u001b[11;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[11;4H\u001b[40;105H   \u001b[10;1H\u001b[40;117H8,0-1\u001b[10;1H\u001b[?25h\u001b[?25l\u001b[40;117H7,4  \u001b[9;4H\u001b[?25h\u001b[?25l\u001b[40;117H6\u001b[8;4H\u001b[?25h\u001b[?25l\u001b[40;117H5\u001b[7;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[7;4H\u001b[40;105H   \u001b[6;4H\u001b[40;117H4\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H773,0-1\u001b[7C96%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hself.text.delete(\u001b[95m\"1.0\"\u001b[m, tk.END)\u001b[40;115H\u001b[K\u001b[40;115H772,4\u001b[9C96%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hself._hide_opml()\u001b[40;115H\u001b[K\u001b[40;115H771,4\u001b[9C96%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[96m# Plain text or other\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H770,4\u001b[9C96%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H769,4\u001b[9C95%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H768,0-1\u001b[7C95%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hself._render_opml_from_string(b_norm)\u001b[40;115H\u001b[K\u001b[40;115H767,4\u001b[9C95%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mif\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m b_norm.lower():\u001b[40;115H\u001b[K\u001b[40;115H766,4\u001b[9C95%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hb_norm = body.lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\r\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H765,4\u001b[9C95%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, \u001b[1m\u001b[96mstr\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H764,0-1\u001b[7C95%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hbody = doc.get(\u001b[95m\"body\"\u001b[m) \u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(doc, \u001b[1m\u001b[96mdict\u001b[m) \u001b[93melse\u001b[m (doc[\u001b[95m2\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(doc) > \u001b[95m2\u001b[m \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H763,4\u001b[9C95%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[96m# Normalize doc body\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H762,4\u001b[9C95%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[95m\"\"\"Render a document once, parse green links, and auto-render OPML when detected.\"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H761,4\u001b[9C94%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_render_document\u001b[m(self, doc):\u001b[40;115H\u001b[K\u001b[40;115H760,4\u001b[9C94%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H759,4\u001b[9C94%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[96m# ---------------- Rendering ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H758,4\u001b[9C94%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H757,4\u001b[9C94%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17H\u001b[93mpass\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H756,4\u001b[9C94%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H755,4\u001b[9C94%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hself._apply_opml_expand_depth()\u001b[40;115H\u001b[K\u001b[40;115H754,0-1\u001b[7C94%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hself.tree_win.lift()\u001b[40;115H\u001b[K\u001b[40;115H753,4\u001b[9C93%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hself.tree_win.deiconify()\u001b[40;115H\u001b[K\u001b[40;115H752,0-1\u001b[7C93%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hself.tree_win.load_opml_file(path)\u001b[40;115H\u001b[K\u001b[40;115H751,4\u001b[9C93%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H750,4\u001b[9C93%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96mgetattr\u001b[m(self, \u001b[95m\"tree_win\"\u001b[m, \u001b[1m\u001b[96mNone\u001b[m) \u001b[93mand\u001b[m self.tree_win.winfo_exists():\u001b[40;115H\u001b[K\u001b[40;115H749,4\u001b[9C93%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hself._render_document(doc)\u001b[40;115H\u001b[K\u001b[40;115H748,4\u001b[9C93%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m doc:\u001b[40;115H\u001b[K\u001b[40;115H747,4\u001b[9C93%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hdoc = self.doc_store.get_document(new_id)\u001b[40;115H\u001b[K\u001b[40;115H746,4\u001b[9C93%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hself.current_doc_id = new_id\u001b[40;115H\u001b[K\u001b[40;115H745,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hself._refresh_sidebar()\u001b[40;115H\u001b[K\u001b[40;115H744,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H743,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hmessagebox.showerror(\u001b[95m\"Open OPML\"\u001b[m, f\u001b[95m\"Failed to import OPML to DB:\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m{e}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H742,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H741,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hnew_id = self.doc_store.add_document(title, content)\u001b[40;115H\u001b[K\u001b[40;115H740,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H739,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Htitle = Path(path).stem\u001b[40;115H\u001b[K\u001b[40;115H738,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;117H9\u001b[7;4H\u001b[?25h\u001b[?25l\u001b[40;116H40\u001b[8;4H\u001b[?25h\u001b[?25l\u001b[40;117H1\u001b[9;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[9;4H\u001b[40;105H   \u001b[10;4H\u001b[40;117H2\u001b[10;4H\u001b[?25h\u001b[?25l\u001b[40;117H3\u001b[11;4H\u001b[?25h\u001b[?25l\u001b[40;117H4\u001b[12;4H\u001b[?25h\u001b[?25l\u001b[40;117H5\u001b[13;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[13;4H\u001b[40;105H   \u001b[14;4H\u001b[40;117H6\u001b[14;4H\u001b[?25h\u001b[?25l\u001b[40;117H7\u001b[15;4H\u001b[?25h\u001b[?25l\u001b[40;117H8\u001b[16;4H\u001b[?25h\u001b[?25l\u001b[40;117H9\u001b[17;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[17;4H\u001b[40;105H   \u001b[18;4H\u001b[40;116H50\u001b[18;4H\u001b[?25h\u001b[?25l\u001b[40;117H1\u001b[19;4H\u001b[?25h\u001b[?25l\u001b[40;117H2,0-1\u001b[20;1H\u001b[?25h\u001b[?25l\u001b[40;117H3,4  \u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;4H\u001b[40;105H   \u001b[22;1H\u001b[40;117H4,0-1\u001b[22;1H\u001b[?25h\u001b[?25l\u001b[40;117H5,4  \u001b[23;4H\u001b[?25h\u001b[?25l\u001b[40;117H6\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;117H7\u001b[25;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;4H\u001b[40;105H   \u001b[26;4H\u001b[40;117H8\u001b[26;4H\u001b[?25h\u001b[?25l\u001b[40;117H9\u001b[27;4H\u001b[?25h\u001b[?25l\u001b[40;116H60\u001b[28;4H\u001b[?25h\u001b[?25l\u001b[40;117H1\u001b[29;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[29;4H\u001b[40;105H   \u001b[30;4H\u001b[40;117H2\u001b[30;4H\u001b[?25h\u001b[?25l\u001b[40;117H3\u001b[31;4H\u001b[?25h\u001b[?25l\u001b[40;117H4,0-1\u001b[32;1H\u001b[?25h\u001b[?25l\u001b[40;117H5,4  \u001b[33;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[33;4H\u001b[40;105H   \u001b[34;4H\u001b[40;117H6\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H767,4\u001b[9C92%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H768,0-1\u001b[7C92%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[96m# very large text -> placeholder\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H769,4\u001b[9C92%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[1m\u001b[96mlen\u001b[m(body) > \u001b[95m200_000\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H770,4\u001b[9C92%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.text.insert(tk.END, \u001b[95m\"[large binary-like document]\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H771,4\u001b[9C92%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H772,4\u001b[9C92%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H773,0-1\u001b[7C92%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;1H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[96m# Show and parse links\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H774,4\u001b[9C93%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.text.insert(tk.END, body \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H775,4\u001b[9C93%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hhypertext_parser.parse_links(self.text, body \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m, self._on_link_click)\u001b[40;115H\u001b[K\u001b[40;115H776,4\u001b[9C93%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H777,4\u001b[9C93%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_on_link_click\u001b[m(self, doc_id):\u001b[40;115H\u001b[K\u001b[40;115H778,0-1\u001b[7C93%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H779,4\u001b[9C93%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.history.append(self.current_doc_id)\u001b[40;115H\u001b[K\u001b[40;115H780,4\u001b[9C93%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.current_doc_id = doc_id\u001b[40;115H\u001b[K\u001b[40;115H781,4\u001b[9C93%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hdoc = self.doc_store.get_document(doc_id)\u001b[40;115H\u001b[K\u001b[40;115H782,0-1\u001b[7C94%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m doc:\u001b[40;115H\u001b[K\u001b[40;115H783,4\u001b[9C94%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._render_document(doc)\u001b[40;115H\u001b[K\u001b[40;115H784,4\u001b[9C94%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H785,4\u001b[9C94%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H786,4\u001b[9C94%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_on_delete_clicked\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H787,4\u001b[9C94%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[95m\"\"\"Delete the currently selected document from the sidebar and clear the pane.\"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H788,4\u001b[9C94%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hsel = self.sidebar.selection()\u001b[40;115H\u001b[K\u001b[40;115H789,4\u001b[9C94%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;1H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m sel:\u001b[40;115H\u001b[K\u001b[40;115H790,0-1\u001b[7C95%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showwarning(\u001b[95m\"Delete\"\u001b[m, \u001b[95m\"No document selected.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H791,0-1\u001b[7C95%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H792,4\u001b[9C95%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hitem = self.sidebar.item(sel[\u001b[95m0\u001b[m])\u001b[40;115H\u001b[K\u001b[40;115H793,4\u001b[9C95%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hvals = item.get(\u001b[95m\"values\"\u001b[m) \u001b[93mor\u001b[m []\u001b[40;115H\u001b[K\u001b[40;115H794,4\u001b[9C95%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m vals:\u001b[40;115H\u001b[K\u001b[40;115H795,4\u001b[9C95%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showerror(\u001b[95m\"Delete\"\u001b[m, \u001b[95m\"Invalid selection.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H796,4\u001b[9C95%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H797,4\u001b[9C95%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H798,4\u001b[9C96%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hnid = \u001b[1m\u001b[96mint\u001b[m(vals[\u001b[95m0\u001b[m])\u001b[40;115H\u001b[K\u001b[40;115H799,4\u001b[9C96%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m (\u001b[38;5;121mValueError\u001b[m, \u001b[38;5;121mTypeError\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H800,4\u001b[9C96%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showerror(\u001b[95m\"Delete\"\u001b[m, \u001b[95m\"Invalid document ID.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H801,4\u001b[9C96%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H802,4\u001b[9C96%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m messagebox.askyesno(\u001b[95m\"Confirm Delete\"\u001b[m, f\u001b[95m\"Delete document ID {nid}?\"\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H803,4\u001b[9C96%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H804,4\u001b[9C96%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H805,4\u001b[9C96%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.doc_store.delete_document(nid)\u001b[40;115H\u001b[K\u001b[40;115H806,4\u001b[9C97%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H807,4\u001b[9C97%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hmessagebox.showerror(\u001b[95m\"Delete\"\u001b[m, f\u001b[95m\"Failed to delete: {e}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H808,4\u001b[9C97%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H809,4\u001b[9C97%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[96m# Clear UI\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H810,4\u001b[9C97%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._refresh_sidebar()\u001b[40;115H\u001b[K\u001b[40;115H811,4\u001b[9C97%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.text.delete(\u001b[95m\"1.0\"\u001b[m, tk.END)\u001b[40;115H\u001b[K\u001b[40;115H812,4\u001b[9C97%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96mhasattr\u001b[m(self, \u001b[95m\"_opml_frame\"\u001b[m) \u001b[93mand\u001b[m self._opml_frame.winfo_exists():\u001b[40;115H\u001b[K\u001b[40;115H813,4\u001b[9C97%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself._opml_frame.grid_remove()\u001b[40;115H\u001b[K\u001b[40;115H814,4\u001b[9C98%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96mhasattr\u001b[m(self, \u001b[95m\"img_label\"\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H815,4\u001b[9C98%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hself.img_label.configure(image=\u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H816,4\u001b[9C98%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself.current_doc_id = \u001b[1m\u001b[96mNone\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H817,4\u001b[9C98%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._last_pil_img = \u001b[1m\u001b[96mNone\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H818,4\u001b[9C98%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._last_tk_img = \u001b[1m\u001b[96mNone\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H819,4\u001b[9C98%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hself._image_enlarged = \u001b[1m\u001b[96mFalse\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H820,4\u001b[9C98%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9Hmessagebox.showinfo(\u001b[95m\"Deleted\"\u001b[m, f\u001b[95m\"Document {nid} has been deleted.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H821,4\u001b[9C98%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H822,4\u001b[9C99%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;1H\u001b[93mdef\u001b[m \u001b[1m\u001b[96msanitize_doc\u001b[m(doc):\u001b[40;115H\u001b[K\u001b[40;115H823,4\u001b[9C99%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(doc[\u001b[95m\"body\"\u001b[m], \u001b[1m\u001b[96mbytes\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H824,4\u001b[9C99%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H825,4\u001b[9C99%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[34;4H\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hdoc[\u001b[95m\"body\"\u001b[m] = doc[\u001b[95m\"body\"\u001b[m].decode(\u001b[95m\"utf-8\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H826,4\u001b[9C99%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mUnicodeDecodeError\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H827,0-1\u001b[7C99%\u001b[34;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;13Hdoc[\u001b[95m\"body\"\u001b[m] = doc[\u001b[95m\"body\"\u001b[m].decode(\u001b[95m\"utf-8\"\u001b[m, errors=\u001b[95m\"replace\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H828,4\u001b[9C99%\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[39;1H\n\u001b[1;40r\u001b[39;5H\u001b[93mreturn\u001b[m doc\u001b[40;115H\u001b[K\u001b[40;115H829,4\u001b[9CBot\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[34;4H\u001b[40;105H   \u001b[35;4H\u001b[40;116H30\u001b[35;4H\u001b[?25h\u001b[?25l\u001b[40;117H1\u001b[36;4H\u001b[?25h\u001b[?25l\u001b[40;117H2\u001b[37;4H\u001b[?25h\u001b[?25l\u001b[40;117H3\u001b[38;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[38;4H\u001b[40;105H   \u001b[39;4H\u001b[40;117H4\u001b[39;4H\u001b[?25h\u0007\u001b[?25l\u001b[40;105H~@k\u001b[39;4H\u001b[40;105H   \u001b[39;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[39;4H\u001b[40;105H   \u001b[39;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[39;4H\u001b[40;105H   \u001b[39;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[39;4H\u001b[40;105H   \u001b[39;4H\u001b[?25h\u001b[?25l\u001b[40;117H3\u001b[38;4H\u001b[?25h\u001b[?25l\u001b[40;117H2\u001b[37;4H\u001b[?25h\u001b[?25l\u001b[40;117H1\u001b[36;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[36;4H\u001b[40;105H   \u001b[35;4H\u001b[40;117H0\u001b[35;4H\u001b[?25h\u001b[?25l\u001b[40;116H29\u001b[34;4H\u001b[?25h\u001b[?25l\u001b[40;117H8\u001b[33;4H\u001b[?25h\u001b[?25l\u001b[40;117H7,0-1\u001b[32;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[32;1H\u001b[40;105H   \u001b[31;4H\u001b[40;117H6,4  \u001b[31;4H\u001b[?25h\u001b[?25l\u001b[40;117H5\u001b[30;4H\u001b[?25h\u001b[?25l\u001b[40;117H4\u001b[29;4H\u001b[?25h\u001b[?25l\u001b[40;117H3\u001b[28;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[28;4H\u001b[40;105H   \u001b[27;4H\u001b[40;117H2\u001b[27;4H\u001b[?25h\u001b[?25l\u001b[40;117H1\u001b[26;4H\u001b[?25h\u001b[?25l\u001b[40;117H0\u001b[25;4H\u001b[?25h\u001b[?25l\u001b[40;116H19\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[24;4H\u001b[40;105H   \u001b[23;4H\u001b[40;117H8\u001b[23;4H\u001b[?25h\u001b[?25l\u001b[40;117H7\u001b[22;4H\u001b[?25h\u001b[?25l\u001b[40;117H6\u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;117H5\u001b[20;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[20;4H\u001b[40;105H   \u001b[19;4H\u001b[40;117H4\u001b[19;4H\u001b[?25h\u001b[?25l\u001b[40;117H3\u001b[18;4H\u001b[?25h\u001b[?25l\u001b[40;117H2\u001b[17;4H\u001b[?25h\u001b[?25l\u001b[40;117H1\u001b[16;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[16;4H\u001b[40;105H   \u001b[15;4H\u001b[40;117H0\u001b[15;4H\u001b[?25h\u001b[?25l\u001b[40;116H09\u001b[14;4H\u001b[?25h\u001b[?25l\u001b[40;117H8\u001b[13;4H\u001b[?25h\u001b[?25l\u001b[40;117H7\u001b[12;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[12;4H\u001b[40;105H   \u001b[11;4H\u001b[40;117H6\u001b[11;4H\u001b[?25h\u001b[?25l\u001b[40;117H5\u001b[10;4H\u001b[?25h\u001b[?25l\u001b[40;117H4\u001b[9;4H\u001b[?25h\u001b[?25l\u001b[40;117H3\u001b[8;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[8;4H\u001b[40;105H   \u001b[7;4H\u001b[40;117H2\u001b[7;4H\u001b[?25h\u001b[?25l\u001b[40;117H1\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m sel:\u001b[40;115H\u001b[K\u001b[40;115H800,4\u001b[9C99%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hsel = self.sidebar.selection()\u001b[40;115H\u001b[K\u001b[40;115H799,4\u001b[9C99%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[95m\"\"\"Delete the currently selected document from the sidebar and clear the pane.\"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H798,4\u001b[9C99%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_on_delete_clicked\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H797,4\u001b[9C99%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H796,4\u001b[9C99%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H795,4\u001b[9C99%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hself._render_document(doc)\u001b[40;115H\u001b[K\u001b[40;115H794,4\u001b[9C99%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m doc:\u001b[40;115H\u001b[K\u001b[40;115H793,4\u001b[9C98%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hdoc = self.doc_store.get_document(doc_id)\u001b[40;115H\u001b[K\u001b[40;115H792,4\u001b[9C98%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hself.current_doc_id = doc_id\u001b[40;115H\u001b[K\u001b[40;115H791,0-1\u001b[7C98%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;1H\u001b[40;105H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hself.history.append(self.current_doc_id)\u001b[40;115H\u001b[K\u001b[40;115H790,0-1\u001b[7C98%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m self.current_doc_id \u001b[93mis\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mNone\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H789,4\u001b[9C98%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_on_link_click\u001b[m(self, doc_id):\u001b[40;115H\u001b[K\u001b[40;115H788,4\u001b[9C98%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H787,4\u001b[9C98%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hhypertext_parser.parse_links(self.text, body \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m, self._on_link_click)\u001b[40;115H\u001b[K\u001b[40;115H786,4\u001b[9C98%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hself.text.insert(tk.END, body \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H785,4\u001b[9C97%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[96m# Show and parse links\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H784,4\u001b[9C97%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H783,4\u001b[9C97%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H782,0-1\u001b[7C97%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hself.text.insert(tk.END, \u001b[95m\"[large binary-like document]\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H781,4\u001b[9C97%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, \u001b[1m\u001b[96mstr\u001b[m) \u001b[93mand\u001b[m \u001b[1m\u001b[96mlen\u001b[m(body) > \u001b[95m200_000\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H780,4\u001b[9C97%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[96m# very large text -> placeholder\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H779,4\u001b[9C97%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H778,0-1\u001b[7C97%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H777,4\u001b[9C96%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hself.text.insert(tk.END, \u001b[95m\"[binary document]\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H776,4\u001b[9C96%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)):\u001b[40;115H\u001b[K\u001b[40;115H775,4\u001b[9C96%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[96m# bytes -> placeholder\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H774,4\u001b[9C96%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H773,0-1\u001b[7C96%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hself.text.delete(\u001b[95m\"1.0\"\u001b[m, tk.END)\u001b[40;115H\u001b[K\u001b[40;115H772,4\u001b[9C96%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hself._hide_opml()\u001b[40;115H\u001b[K\u001b[40;115H771,4\u001b[9C96%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[96m# Plain text or other\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H770,4\u001b[9C96%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H769,4\u001b[9C95%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H768,0-1\u001b[7C95%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hself._render_opml_from_string(b_norm)\u001b[40;115H\u001b[K\u001b[40;115H767,4\u001b[9C95%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mif\u001b[m \u001b[95m\"<opml\"\u001b[m \u001b[93min\u001b[m b_norm.lower():\u001b[40;115H\u001b[K\u001b[40;115H766,4\u001b[9C95%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hb_norm = body.lstrip(\u001b[95m\"\u001b[m\u001b[38;5;224m\\ufeff\\r\\n\\t\u001b[m\u001b[95m \"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H765,4\u001b[9C95%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, \u001b[1m\u001b[96mstr\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H764,0-1\u001b[7C95%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hbody = doc.get(\u001b[95m\"body\"\u001b[m) \u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(doc, \u001b[1m\u001b[96mdict\u001b[m) \u001b[93melse\u001b[m (doc[\u001b[95m2\u001b[m] \u001b[93mif\u001b[m \u001b[1m\u001b[96mlen\u001b[m(doc) > \u001b[95m2\u001b[m \u001b[93melse\u001b[m \u001b[95m\"\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H763,4\u001b[9C95%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[96m# Normalize doc body\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H762,4\u001b[9C95%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[95m\"\"\"Render a document once, parse green links, and auto-render OPML when detected.\"\"\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H761,4\u001b[9C94%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_render_document\u001b[m(self, doc):\u001b[40;115H\u001b[K\u001b[40;115H760,4\u001b[9C94%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H759,4\u001b[9C94%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[96m# ---------------- Rendering ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H758,4\u001b[9C94%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H757,4\u001b[9C94%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17H\u001b[93mpass\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H756,4\u001b[9C94%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H755,4\u001b[9C94%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hself._apply_opml_expand_depth()\u001b[40;115H\u001b[K\u001b[40;115H754,0-1\u001b[7C94%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hself.tree_win.lift()\u001b[40;115H\u001b[K\u001b[40;115H753,4\u001b[9C93%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hself.tree_win.deiconify()\u001b[40;115H\u001b[K\u001b[40;115H752,0-1\u001b[7C93%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hself.tree_win.load_opml_file(path)\u001b[40;115H\u001b[K\u001b[40;115H751,4\u001b[9C93%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H750,4\u001b[9C93%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96mgetattr\u001b[m(self, \u001b[95m\"tree_win\"\u001b[m, \u001b[1m\u001b[96mNone\u001b[m) \u001b[93mand\u001b[m self.tree_win.winfo_exists():\u001b[40;115H\u001b[K\u001b[40;115H749,4\u001b[9C93%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hself._render_document(doc)\u001b[40;115H\u001b[K\u001b[40;115H748,4\u001b[9C93%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m doc:\u001b[40;115H\u001b[K\u001b[40;115H747,4\u001b[9C93%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hdoc = self.doc_store.get_document(new_id)\u001b[40;115H\u001b[K\u001b[40;115H746,4\u001b[9C93%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hself.current_doc_id = new_id\u001b[40;115H\u001b[K\u001b[40;115H745,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hself._refresh_sidebar()\u001b[40;115H\u001b[K\u001b[40;115H744,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H743,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hmessagebox.showerror(\u001b[95m\"Open OPML\"\u001b[m, f\u001b[95m\"Failed to import OPML to DB:\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m{e}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H742,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H741,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hnew_id = self.doc_store.add_document(title, content)\u001b[40;115H\u001b[K\u001b[40;115H740,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H739,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Htitle = Path(path).stem\u001b[40;115H\u001b[K\u001b[40;115H738,4\u001b[9C92%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H737,4\u001b[9C91%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hmessagebox.showerror(\u001b[95m\"Open OPML\"\u001b[m, f\u001b[95m\"Failed to read file:\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m{e}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H736,4\u001b[9C91%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H735,4\u001b[9C91%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hcontent = Path(path).read_text(encoding=\u001b[95m\"utf-8\"\u001b[m, errors=\u001b[95m\"replace\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H734,4\u001b[9C91%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H733,4\u001b[9C91%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H732,4\u001b[9C91%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m path:\u001b[40;115H\u001b[K\u001b[40;115H731,4\u001b[9C91%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H)\u001b[40;115H\u001b[K\u001b[40;115H730,4\u001b[9C91%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Htitle=\u001b[95m\"Open OPML/XML\"\u001b[m, filetypes=[(\u001b[95m\"OPML / XML\"\u001b[m, \u001b[95m\"*.opml *.xml\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[40;115H\u001b[K\u001b[40;115H729,4\u001b[9C90%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hpath = filedialog.askopenfilename(\u001b[40;115H\u001b[K\u001b[40;115H728,4\u001b[9C90%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_open_opml_from_main\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H727,4\u001b[9C90%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H726,4\u001b[9C90%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[96m# ---------------- Open OPML (import) ----------------\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H725,4\u001b[9C90%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H724,4\u001b[9C90%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hself._render_document(doc)\u001b[40;115H\u001b[K\u001b[40;115H723,4\u001b[9C90%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hdoc = self.doc_store.get_document(doc_id)\u001b[40;115H\u001b[K\u001b[40;115H722,4\u001b[9C90%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hself.doc_store.update_document(doc_id, content)\u001b[40;115H\u001b[K\u001b[40;115H721,0-1\u001b[7C89%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hcontent = self.processor.get_strings_content(doc_id)\u001b[40;115H\u001b[K\u001b[40;115H720,4\u001b[9C89%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[1m\u001b[96mprint\u001b[m(\u001b[95m\"Document is already text. Skipping overwrite.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H719,0-1\u001b[7C89%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;1H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93melse\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H718,4\u001b[9C89%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hself._render_document(self.doc_store.get_document(doc_id))\u001b[40;115H\u001b[K\u001b[40;115H717,4\u001b[9C89%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hself.doc_store.update_document(doc_id, body)\u001b[40;115H\u001b[K\u001b[40;115H716,4\u001b[9C89%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hbody = render_binary_as_text(body)\u001b[40;115H\u001b[K\u001b[40;115H715,4\u001b[9C89%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[1m\u001b[96mprint\u001b[m(\u001b[95m\"Binary detected, converting to text using render_binary_as_text.\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H714,4\u001b[9C89%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, \u001b[1m\u001b[96mbytes\u001b[m) \u001b[93mor\u001b[m (\u001b[95m\"\u001b[m\u001b[38;5;224m\\x00\u001b[m\u001b[95m\"\u001b[m \u001b[93min\u001b[m \u001b[1m\u001b[96mstr\u001b[m(body)):\u001b[40;115H\u001b[K\u001b[40;115H713,4\u001b[9C88%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hbody = doc[\u001b[95m2\u001b[m]\u001b[40;115H\u001b[K\u001b[40;115H712,4\u001b[9C88%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H711,4\u001b[9C88%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m doc \u001b[93mor\u001b[m \u001b[1m\u001b[96mlen\u001b[m(doc) < \u001b[95m3\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H710,4\u001b[9C88%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hdoc = self.doc_store.get_document(doc_id)\u001b[40;115H\u001b[K\u001b[40;115H709,4\u001b[9C88%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hdoc_id = \u001b[1m\u001b[96mint\u001b[m(doc_id_str)\u001b[40;115H\u001b[K\u001b[40;115H708,4\u001b[9C88%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H707,4\u001b[9C88%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[1m\u001b[96mprint\u001b[m(f\u001b[95m\"Warning: selected text is not a valid integer '{doc_id_str}'\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H706,4\u001b[9C88%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m \u001b[1m\u001b[96mstr\u001b[m(doc_id_str).isdigit():\u001b[40;115H\u001b[K\u001b[40;115H705,4\u001b[9C87%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hdoc_id_str = self.sidebar.item(selected_item, \u001b[95m\"values\"\u001b[m)[\u001b[95m0\u001b[m]\u001b[40;115H\u001b[K\u001b[40;115H704,4\u001b[9C87%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H703,4\u001b[9C87%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m selected_item:\u001b[40;115H\u001b[K\u001b[40;115H702,4\u001b[9C87%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hselected_item = self.sidebar.selection()\u001b[40;115H\u001b[K\u001b[40;115H701,4\u001b[9C87%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_save_binary_as_text\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H700,4\u001b[9C87%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H699,4\u001b[9C87%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hmessagebox.showinfo(\u001b[95m\"Server Started\"\u001b[m, \u001b[95m\"Flask server launched at http://127.0.0.1:5050\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H698,4\u001b[9C87%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hthreading.Thread(target=launch, daemon=\u001b[1m\u001b[96mTrue\u001b[m).start()\u001b[40;115H\u001b[K\u001b[40;115H697,4\u001b[9C86%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H696,4\u001b[9C86%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hsubprocess.Popen([sys.executable, \u001b[1m\u001b[96mstr\u001b[m(fp)])\u001b[40;115H\u001b[K\u001b[40;115H695,4\u001b[9C86%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mif\u001b[m fp.exists():\u001b[40;115H\u001b[K\u001b[40;115H694,0-1\u001b[7C86%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hfp = Path(\u001b[95m\"modules\"\u001b[m) / \u001b[95m\"flask_server.py\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H693,4\u001b[9C86%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mlaunch\u001b[m():\u001b[40;115H\u001b[K\u001b[40;115H692,4\u001b[9C86%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H691,0-1\u001b[7C86%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;1H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;21Hjson.dump(data, f, indent=\u001b[95m2\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H690,4\u001b[9C86%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17H\u001b[93mwith\u001b[m \u001b[1m\u001b[96mopen\u001b[m(export_path / f\u001b[95m\"{data['id']}.json\"\u001b[m, \u001b[95m\"w\"\u001b[m, encoding=\u001b[95m\"utf-8\"\u001b[m) \u001b[93mas\u001b[m f:\u001b[40;115H\u001b[K\u001b[40;115H689,4\u001b[9C85%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hdata = sanitize_doc(data)\u001b[40;115H\u001b[K\u001b[40;115H688,4\u001b[9C85%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mif\u001b[m data:\u001b[40;115H\u001b[K\u001b[40;115H687,4\u001b[9C85%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hdata = \u001b[1m\u001b[96mdict\u001b[m(self.doc_store.get_document(doc[\u001b[95m\"id\"\u001b[m]))\u001b[40;115H\u001b[K\u001b[40;115H686,0-1\u001b[7C85%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mfor\u001b[m doc \u001b[93min\u001b[m self.doc_store.get_document_index():\u001b[40;115H\u001b[K\u001b[40;115H685,4\u001b[9C85%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hexport_path.mkdir(exist_ok=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H684,4\u001b[9C85%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hexport_path = Path(\u001b[95m\"exported_docs\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H683,4\u001b[9C85%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96mexport_and_launch_server\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H682,4\u001b[9C85%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H681,4\u001b[9C84%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hself._refresh_sidebar()\u001b[40;115H\u001b[K\u001b[40;115H680,4\u001b[9C84%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hmessagebox.showinfo(\u001b[95m\"Directory Import\"\u001b[m, msg)\u001b[40;115H\u001b[K\u001b[40;115H679,4\u001b[9C84%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[1m\u001b[96mprint\u001b[m(\u001b[95m\"[INFO]\"\u001b[m, msg)\u001b[40;115H\u001b[K\u001b[40;115H678,4\u001b[9C84%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hmsg = f\u001b[95m\"Imported {imported} file(s), skipped {skipped}.\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H677,4\u001b[9C84%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Himported, skipped = import_text_files_from_directory(dir_path, self.doc_store)\u001b[40;115H\u001b[K\u001b[40;115H676,0-1\u001b[7C84%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H675,4\u001b[9C84%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m dir_path:\u001b[40;115H\u001b[K\u001b[40;115H674,4\u001b[9C84%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hdir_path = filedialog.askdirectory(title=\u001b[95m\"Select Folder to Import\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H673,4\u001b[9C83%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mdef\u001b[m \u001b[1m\u001b[96m_import_directory\u001b[m(self):\u001b[40;115H\u001b[K\u001b[40;115H672,4\u001b[9C83%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H671,4\u001b[9C83%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hmessagebox.showerror(\u001b[95m\"Export\"\u001b[m, f\u001b[95m\"Could not save:\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m{e}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H670,4\u001b[9C83%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m \u001b[93mas\u001b[m e:\u001b[40;115H\u001b[K\u001b[40;115H669,4\u001b[9C83%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hmessagebox.showinfo(\u001b[95m\"Export\"\u001b[m, f\u001b[95m\"Saved:\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m{path}\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H668,4\u001b[9C83%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17HPath(path).write_text(body \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m, encoding=\u001b[95m\"utf-8\"\u001b[m, newline=\u001b[95m\"\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H667,4\u001b[9C83%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;1H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93melse\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H666,1\u001b[9C83%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17HPath(path).write_text(text_out, encoding=\u001b[95m\"utf-8\"\u001b[m, newline=\u001b[95m\"\u001b[m\u001b[38;5;224m\\n\u001b[m\u001b[95m\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H665,4\u001b[9C82%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;25Htext_out = body.decode(\u001b[95m\"utf-8\"\u001b[m, errors=\u001b[95m\"replace\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H664,4\u001b[9C82%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;21H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H663,4\u001b[9C82%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;25Htext_out = render_binary_as_text(body, title \u001b[93mor\u001b[m \u001b[95m\"Document\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H662,4\u001b[9C82%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;25H\u001b[38;5;81mfrom\u001b[m modules.hypertext_parser \u001b[38;5;81mimport\u001b[m render_binary_as_text\u001b[40;115H\u001b[K\u001b[40;115H661,4\u001b[9C82%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;21H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H660,4\u001b[9C82%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H659,4\u001b[9C82%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;21Htext_out = body.decode(\u001b[95m\"utf-8\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H658,4\u001b[9C82%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H657,4\u001b[9C81%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17H\u001b[96m# Convert bytes\u2192\u001b[1;33Htext if the user chose a texty extension\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H656,4\u001b[9C81%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)):\u001b[40;115H\u001b[K\u001b[40;115H655,4\u001b[9C81%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93melse\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H654,4\u001b[9C81%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13HPath(path).write_bytes(\u001b[1m\u001b[96mbytes\u001b[m(body))\u001b[40;115H\u001b[K\u001b[40;115H653,4\u001b[9C81%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m \u001b[1m\u001b[96misinstance\u001b[m(body, (\u001b[1m\u001b[96mbytes\u001b[m, \u001b[1m\u001b[96mbytearray\u001b[m)) \u001b[93mand\u001b[m ext \u001b[93mnot\u001b[m \u001b[93min\u001b[m (\u001b[95m\".txt\"\u001b[m, \u001b[95m\".opml\"\u001b[m, \u001b[95m\".html\"\u001b[m, \u001b[95m\".svg\"\u001b[m, \u001b[95m\".xml\"\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H652,4\u001b[9C81%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9HPath(path).parent.mkdir(parents=\u001b[1m\u001b[96mTrue\u001b[m, exist_ok=\u001b[1m\u001b[96mTrue\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H651,4\u001b[9C81%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H650,4\u001b[9C81%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[96m# Write\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H649,4\u001b[9C80%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H648,4\u001b[9C80%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mreturn\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H647,4\u001b[9C80%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93mif\u001b[m \u001b[93mnot\u001b[m path:\u001b[40;115H\u001b[K\u001b[40;115H646,4\u001b[9C80%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H)\u001b[40;115H\u001b[K\u001b[40;115H645,4\u001b[9C80%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hfiletypes=filetypes,\u001b[40;115H\u001b[K\u001b[40;115H644,4\u001b[9C80%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hinitialfile=f\u001b[95m\"{safe}{ext}\"\u001b[m,\u001b[40;115H\u001b[K\u001b[40;115H643,0-1\u001b[7C80%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;1H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hdefaultextension=ext,\u001b[40;115H\u001b[K\u001b[40;115H642,4\u001b[9C80%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Htitle=\u001b[95m\"Export Document\"\u001b[m,\u001b[40;115H\u001b[K\u001b[40;115H641,4\u001b[9C79%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5Hpath = filedialog.asksaveasfilename(\u001b[40;115H\u001b[K\u001b[40;115H640,4\u001b[9C79%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5Hsafe = \u001b[95m\"\"\u001b[m.join(c \u001b[93mif\u001b[m (c.isalnum() \u001b[93mor\u001b[m c \u001b[93min\u001b[m \u001b[95m\"._- \"\u001b[m) \u001b[93melse\u001b[m \u001b[95m\"_\"\u001b[m \u001b[93mfor\u001b[m c \u001b[93min\u001b[m (title \u001b[93mor\u001b[m \u001b[95m\"Document\"\u001b[m)).strip() \u001b[93mor\u001b[m \u001b[95m\"Document\"\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H639,4\u001b[9C79%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[96m# Ask destination\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H638,4\u001b[9C79%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[40;115H\u001b[K\u001b[40;115H637,4\u001b[9C79%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hext = \u001b[95m\".txt\"\u001b[m; filetypes = [(\u001b[95m\"Text\"\u001b[m, \u001b[95m\"*.txt\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[40;115H\u001b[K\u001b[40;115H636,4\u001b[9C79%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93melse\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H635,4\u001b[9C79%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hext = \u001b[95m\".svg\"\u001b[m; filetypes = [(\u001b[95m\"SVG\"\u001b[m, \u001b[95m\"*.svg\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[40;115H\u001b[K\u001b[40;115H634,4\u001b[9C78%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93melif\u001b[m low.startswith(\u001b[95m\"<svg\"\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H633,4\u001b[9C78%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hext = \u001b[95m\".html\"\u001b[m; filetypes = [(\u001b[95m\"HTML\"\u001b[m, \u001b[95m\"*.html;*.htm\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[40;115H\u001b[K\u001b[40;115H632,0-1\u001b[7C78%\u001b[6;1H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93melif\u001b[m low.startswith(\u001b[95m\"<html\"\u001b[m) \u001b[93mor\u001b[m (\u001b[95m\"<body\"\u001b[m \u001b[93min\u001b[m low) \u001b[93mor\u001b[m (\u001b[95m\"<div\"\u001b[m \u001b[93min\u001b[m low):\u001b[40;115H\u001b[K\u001b[40;115H631,4\u001b[9C78%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hext = \u001b[95m\".opml\"\u001b[m; filetypes = [(\u001b[95m\"OPML\"\u001b[m, \u001b[95m\"*.opml\"\u001b[m), (\u001b[95m\"XML\"\u001b[m, \u001b[95m\"*.xml\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[40;115H\u001b[K\u001b[40;115H630,4\u001b[9C78%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93mif\u001b[m low.startswith(\u001b[95m\"<opml\"\u001b[m):\u001b[40;115H\u001b[K\u001b[40;115H629,4\u001b[9C78%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hlow = s.lower()\u001b[40;115H\u001b[K\u001b[40;115H628,4\u001b[9C78%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9Hs = (body \u001b[93mor\u001b[m \u001b[95m\"\"\u001b[m).lstrip()\u001b[40;115H\u001b[K\u001b[40;115H627,4\u001b[9C78%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;5H\u001b[93melse\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H626,4\u001b[9C77%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hext = \u001b[95m\".bin\"\u001b[m; filetypes = [(\u001b[95m\"Binary\"\u001b[m, \u001b[95m\"*.bin\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[40;115H\u001b[K\u001b[40;115H625,4\u001b[9C77%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mexcept\u001b[m \u001b[38;5;121mException\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H624,4\u001b[9C77%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hext = \u001b[95m\".txt\"\u001b[m; filetypes = [(\u001b[95m\"Text\"\u001b[m, \u001b[95m\"*.txt\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[40;115H\u001b[K\u001b[40;115H623,4\u001b[9C77%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;17Hb.decode(\u001b[95m\"utf-8\"\u001b[m)\u001b[40;115H\u001b[K\u001b[40;115H622,4\u001b[9C77%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[93mtry\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H621,4\u001b[9C77%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13H\u001b[96m# text-ish bytes?\u001b[m\u001b[40;115H\u001b[K\u001b[40;115H620,4\u001b[9C77%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;9H\u001b[93melse\u001b[m:\u001b[40;115H\u001b[K\u001b[40;115H619,4\u001b[9C77%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[6;4H\u001b[40;105H   \u001b[6;4H\u001b[1;39r\u001b[1;1H\u001b[L\u001b[1;40r\u001b[1;13Hext = \u001b[95m\".webp\"\u001b[m; filetypes = [(\u001b[95m\"WebP\"\u001b[m, \u001b[95m\"*.webp\"\u001b[m), (\u001b[95m\"All files\"\u001b[m, \u001b[95m\"*.*\"\u001b[m)]\u001b[40;115H\u001b[K\u001b[40;115H618,4\u001b[9C76%\u001b[6;4H\u001b[?25h\u001b[?25l\u001b[40;117H9\u001b[7;4H\u001b[?25h\u001b[?25l\u001b[40;116H20\u001b[8;4H\u001b[?25h\u001b[?25l\u001b[40;117H1\u001b[9;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[9;4H\u001b[40;105H   \u001b[10;4H\u001b[40;117H2\u001b[10;4H\u001b[?25h\u001b[?25l\u001b[40;117H3\u001b[11;4H\u001b[?25h\u001b[?25l\u001b[40;117H4\u001b[12;4H\u001b[?25h\u001b[?25l\u001b[40;117H5\u001b[13;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[13;4H\u001b[40;105H   \u001b[14;4H\u001b[40;117H6\u001b[14;4H\u001b[?25h\u001b[?25l\u001b[40;117H7\u001b[15;4H\u001b[?25h\u001b[?25l\u001b[40;117H8\u001b[16;4H\u001b[?25h\u001b[?25l\u001b[40;117H9\u001b[17;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[17;4H\u001b[40;105H   \u001b[18;4H\u001b[40;116H30\u001b[18;4H\u001b[?25h\u001b[?25l\u001b[40;117H1\u001b[19;4H\u001b[?25h\u001b[?25l\u001b[40;117H2,0-1\u001b[20;1H\u001b[?25h\u001b[?25l\u001b[40;117H3,4  \u001b[21;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[21;4H\u001b[40;105H   \u001b[22;4H\u001b[40;117H4\u001b[22;4H\u001b[?25h\u001b[?25l\u001b[40;117H5\u001b[23;4H\u001b[?25h\u001b[?25l\u001b[40;117H6\u001b[24;4H\u001b[?25h\u001b[?25l\u001b[40;117H7\u001b[25;4H\u001b[?25h\u001b[?25l\u001b[40;105H~@k\u001b[25;4H\u001b[40;105H   \u001b[26;4H\u001b[40;117H8\u001b[26;4H\u001b[?25h\u001b[?25l\u001b[40;105H^[\u001b[26;4H\u001b[40;105H  \u001b[26;4H\u001b[40;105H^[\u001b[26;4H\u0007\u001b[40;105H  \u001b[26;4H\u001b[?25h\u001b[?25l\u001b[40;105H:\u001b[26;4H\u001b[40;105H\u001b[K\u001b[40;1H:\u001b[?25hq\n\u001b[?25l\u001b[?2004l\u001b[>4;m\u001b[23;2t\u001b[23;1t\u001b[40;1H\u001b[K\u001b[40;1H\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m\u001b[?2004h\u001b]0;gross@fearless: ~/FunKit\u0007\u001b[01;32mgross@fearless\u001b[00m:\u001b[01;34m~/FunKit\u001b[00m$ exit\n\u001b[?2004l\nexit\n\nScript done on 2025-08-13 22:08:24-07:00 [COMMAND_EXIT_CODE=\"0\"]\n"
}