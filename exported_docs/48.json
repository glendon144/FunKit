{
  "id": 48,
  "title": "build_python310_with_tk",
  "body": "#!/bin/bash\nset -e\n\nPYTHON_VERSION=3.10.14\nINSTALL_DIR=\"$HOME/.pyenv/versions/$PYTHON_VERSION\"\nARCH_LIB_DIR=\"/usr/lib/i386-linux-gnu\"\n\necho \"\ud83d\udd27 Installing system dependencies...\"\nsudo apt-get update\nsudo apt-get install -y \\\n  build-essential zlib1g-dev libncurses5-dev libgdbm-dev \\\n  libnss3-dev libssl-dev libreadline-dev libffi-dev \\\n  libsqlite3-dev wget curl tk-dev tcl-dev \\\n  libx11-dev libxext-dev libxrender-dev libxcb1-dev libxft-dev \\\n  make xz-utils\n\necho \"\ud83d\udce6 Downloading Python $PYTHON_VERSION...\"\ncd ~\nwget https://www.python.org/ftp/python/$PYTHON_VERSION/Python-$PYTHON_VERSION.tgz\ntar -xf Python-$PYTHON_VERSION.tgz\ncd Python-$PYTHON_VERSION\n\necho \"\ud83d\udee0  Configuring build with tkinter support...\"\n./configure \\\n  --prefix=\"$INSTALL_DIR\" \\\n  --enable-optimizations \\\n  CPPFLAGS=\"-I/usr/include\" \\\n  LDFLAGS=\"-L$ARCH_LIB_DIR -ltk8.6 -ltcl8.6\" \\\n  PKG_CONFIG_PATH=\"$ARCH_LIB_DIR/pkgconfig\"\n\necho \"\ud83d\udd28 Building Python...\"\nmake -j$(nproc)\n\necho \"\ud83d\udce5 Installing to $INSTALL_DIR...\"\nmake install\n\necho \"\ud83d\udd01 Activating with pyenv...\"\npyenv rehash\npyenv global \"$PYTHON_VERSION\"\n\necho \"\ud83e\uddea Testing tkinter...\"\npython -m tkinter\n\n"
}